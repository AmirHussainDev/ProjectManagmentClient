<!-- NZ Table -->

<h3>Employee Payments</h3>

<nz-table #basicTable [nzPageSize]="1000" nzShowPagination="false" [nzData]="paymentData" [nzBordered]="true">
    <thead>
        <tr>
            <th>Employee</th>
            <th>Hourly Rate</th>
            <!-- <th>Payment From</th> -->
            <th>Amount</th>
            <th>Balance</th>
            <!-- <th>Advance Balance</th> -->
            <th> Proceed For Payment </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let row of paymentData">
            <td>{{ row.employee?.employee?.name}}
            <td>{{ row.employee?.salary | currency :' '}} </td>
            <!-- <td><span>{{ row.paymentObject?.minDateCreated | date : 'dd MMM yyyy' }}
                </span>
            </td> -->
            <td>{{ row.paymentObject?.totalAmount|| 0 | currency :' ' }}</td>
            <td>{{ row.paymentObject?.balance||0 | currency :' ' }}
            </td>
            <!-- <td>
                <span>{{ row.paymentObject?.advanceBalance || 0 | currency :' '}}</span>
            </td> -->
            <td>
                <a *appHasPermission="appPermissions.AddUpdatePayments" nzType="primary" (click)="open(row)">Pay</a>

            </td>
        </tr>
    </tbody>
</nz-table>


<nz-drawer [nzClosable]="false" [nzVisible]="visible" nzPlacement="right"
    [nzTitle]="'Employee: ' +selectedEmployee?.employee?.employee.name" [nzWidth]="isMobile()?'100%': '50%'"
    (nzOnClose)="close()">
    <ng-container *nzDrawerContent>

        <h3><strong>Worklog and Payments </strong></h3>
        <app-worklog-details *ngIf="selectedEmployee"
        [worklog]="selectedEmployee.worklog"
        [employee]="selectedEmployee.employee">
        </app-worklog-details>


    </ng-container>
</nz-drawer>