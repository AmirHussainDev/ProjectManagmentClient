import{a as Ve}from"./chunk-NGE6N3H6.js";import{d as Le}from"./chunk-CPE6J44O.js";import{b as ae,c as P}from"./chunk-A3HFJUAC.js";import{$ as q,$a as ce,$b as Ie,A as k,Ab as be,Ba as $,Bb as ve,Bc as Ne,Cb as Se,Db as ye,Fa as G,K as o,L as z,Ma as K,Na as ee,O as C,Ob as xe,P as l,Pb as Oe,Q as V,R as g,Ra as te,S as j,Sa as ne,T as F,Ta as ie,U as A,Ua as oe,V as B,Va as re,W as U,Wb as Me,X as W,Xa as D,Xb as ke,Y as i,Ya as se,Yb as we,Z as s,Za as le,Zb as Te,_ as f,_a as pe,_b as Pe,aa as H,ba as S,bc as Fe,ca as m,cc as De,da as h,dc as Ee,ec as Re,ha as Q,ia as u,ka as w,l as N,ma as Z,mb as me,na as X,oa as J,ob as ue,pa as c,pb as de,qa as T,r as L,s as O,t as M,tb as fe,ub as ge,vb as he,w as b,wb as I,x as v,xb as _e,yb as ze,za as Y,zb as Ce}from"./chunk-TX4IRKG2.js";import{a as R,g as x}from"./chunk-MON7YFGF.js";function Xe(t,r){if(t&1){let p=S();i(0,"nz-list-item",3),m("click",function(){let e=b(p).$implicit,d=h(2);return v(d.setSubOrganization(e))}),i(1,"nz-list-item-meta",4)(2,"nz-list-item-meta-title"),u(3),s()()()}if(t&2){let p=r.$implicit;o(3),w(" ",p.name," ")}}function Je(t,r){t&1&&f(0,"nz-list-empty")}function Ye(t,r){if(t&1&&(q(0),i(1,"nz-list",2),U(2,Xe,4,1,"nz-list-item",5,B),C(4,Je,1,0,"nz-list-empty"),s(),H()),t&2){let p=h();o(),l("nzLoading",p.loading),o(),W(p.data),o(2),A(4,p.data.length===0?4:-1)}}var je=(()=>{let r=class r{constructor(n){this.appService=n,this.loading=!1,this.data=[],this.visible=!1,this.closeDrawer=new L}ngOnInit(){this.getAndSetSubOrganizations()}close(){this.closeDrawer.emit(!0)}getAndSetSubOrganizations(){return x(this,null,function*(){this.loading=!0,this.data=yield this.appService.getSubOrganizations(!0),this.loading=!1})}setSubOrganization(n){this.appService.setSubOrganization(n),this.closeDrawer.emit(!0)}};r.\u0275fac=function(a){return new(a||r)(z(P))},r.\u0275cmp=O({type:r,selectors:[["app-organization-selector"]],inputs:{visible:"visible"},outputs:{closeDrawer:"closeDrawer"},decls:2,vars:2,consts:[["nzPlacement","right","nzTitle","Organizations",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["nzItemLayout","horizontal",3,"nzLoading"],["nz-button","","nzType","text",3,"click"],["nzAvatar","https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png","nzDescription",""],["nz-button","","nzType","text"]],template:function(a,e){a&1&&(i(0,"nz-drawer",0),m("nzOnClose",function(){return e.close()}),C(1,Ye,5,2,"ng-container",1),s()),a&2&&l("nzClosable",!1)("nzVisible",e.visible)},dependencies:[I,Oe,xe,Ee,De,Re,Fe,Ie]});let t=r;return t})();function Ge(t,r){t&1&&(i(0,"span",29),u(1," VEINS "),s())}function Ke(t,r){if(t&1){let p=S();i(0,"span",30),m("click",function(){b(p);let a=h();return v(a.isCollapsed=!a.isCollapsed)}),s()}if(t&2){let p=h();F(!p.isCollapsed&&p.isMobile()?"lightFont":"darkFont"),l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function et(t,r){t&1&&(i(0,"nz-footer"),u(1,"Veins system \xA92024 Implement By SA3"),s())}function tt(t,r){if(t&1){let p=S();i(0,"span",45),m("click",function(){b(p);let a=h(2);return v(a.isCollapsed=!a.isCollapsed)}),s()}if(t&2){let p=h(2);l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function nt(t,r){if(t&1){let p=S();i(0,"nz-layout",31)(1,"nz-header")(2,"div",32)(3,"span",33),C(4,tt,1,1,"span",34),s(),i(5,"span",4)(6,"span")(7,"button",35),m("click",function(){b(p);let a=h();return v(a.toggleOrganizations())}),u(8),f(9,"span",36),s(),i(10,"app-organization-selector",37),m("closeDrawer",function(){b(p);let a=h();return v(a.toggleOrganizations())}),s()(),i(11,"button",38),f(12,"nz-avatar",39)(13,"span",36),s(),i(14,"nz-dropdown-menu",null,40)(16,"ul",41)(17,"li",42),m("click",function(){b(p);let a=h();return v(a.logout())}),u(18,"Logout "),s(),i(19,"li",43),u(20,"Change Password"),s()()()()()(),i(21,"nz-content",44),f(22,"router-outlet"),s()()}if(t&2){let p=Q(15),n=h();o(4),l("ngIf",n.isMobile()),o(),V("width",n.isMobile()?"100%":"auto"),o(3),w(" ",n.currentSubOrganization.name," "),o(2),l("visible",n.showOrganizations),o(),l("nzDropdownMenu",p),o(),l("nzText",n.getUserInitials(n.loggedInUser.name))}}var it=()=>["/"],_=()=>({tracingId:123}),ot=()=>["/purchase/customers"],Ae=()=>["/purchase/sales"],Be=t=>({status:t}),rt=()=>["/purchase"],at=()=>["/inventory"],st=()=>["/vendor"],lt=()=>["/sites"],pt=()=>["/employee"],ct=t=>["/employee",t,"attendance"],mt=()=>["/employee","pay-processing"],ut=()=>["/team"],dt=()=>["/team/roles"],Ue=(()=>{let r=class r{constructor(n,a,e,d,y,He){this.userService=n,this.appService=a,this.fb=e,this.media=d,this.router=y,this.route=He,this.isCollapsed=!1,this.isMobileDevice=!0,this.loggedInUser={},this.sites=[],this.site={},this.showOrganizations=!1,this.currentRoutes=[],this.saleState=Le,this.siteForm=this.fb.group({site:[]})}ngOnInit(){this.loggedInUser=this.userService.getUserDetails(),this.setSitesData(),this.onSiteChange(),this.extractRoutePath(this.router.url),this.router.events.pipe(N(n=>n instanceof te)).subscribe(n=>{this.currentUrl=n.url,this.extractRoutePath(this.currentUrl)})}extractRoutePath(n){n=n.replace(/(https?:\/\/[^\/]+)?\/?/,""),this.currentRoutes=n.split(/[/?]/).filter(a=>a),console.log(this.currentRoutes)}toggleOrganizations(){this.showOrganizations=!this.showOrganizations}onSiteChange(){this.siteSubscription=this.siteForm.valueChanges.subscribe(n=>{this.setCurrentSite(n.site)}),this.subOrgSubscription=this.appService.currentSubOrganization.subscribe(n=>{this.currentSubOrganization=n})}setSitesData(){return x(this,null,function*(){let n=yield this.appService.getAndSetSites(),a=n&&n.length?n.map(e=>R({label:e.name},e)):[];this.sites=[...a],this.appService.setSites(this.sites),this.siteForm.patchValue({site:this.sites[0]}),this.setCurrentSite(void 0)})}setCurrentSite(n){this.appService.setCurrentSite(n||this.sites[0])}logout(){this.userService.logout()}ngOnDestroy(){this.siteSubscription&&this.siteSubscription.unsubscribe(),this.subOrgSubscription&&this.subOrgSubscription.unsubscribe()}getUserInitials(n){return n.trim().split(" ").map(d=>d.charAt(0)).join("").toUpperCase()}isMobile(){return this.media.matchMedia("(max-width: 600px)").matches}};r.\u0275fac=function(a){return new(a||r)(z(ae),z(P),z(me),z(se),z(oe),z(ne))},r.\u0275cmp=O({type:r,selectors:[["app-shell"]],decls:83,vars:91,consts:[[1,"app-shell"],[2,"height","100%"],["nzCollapsible","",1,"appbackground",3,"nzCollapsed","nzTrigger","nzWidth","nzCollapsedWidth","nzCollapsedChange"],[2,"display","flow-root"],[1,"flex","center","space-between"],["src","../../../assets/veins-ico.png","alt",""],["class","heading",4,"ngIf"],["class","trigger","nz-icon","",3,"nzType","class","click",4,"ngIf"],[1,"sideMenuItems"],["nz-menu","","nzTheme","dark","nzMode","inline"],["nz-menu-item",""],["nz-icon","","nzType","bar-chart",2,"font-size","18px"],[1,"nav-link",3,"routerLink","state","click"],["nz-icon","","nzType","user-switch",2,"font-size","18px"],[1,"nav-link",3,"routerLink","click"],["nz-icon","","nzType","file-text",2,"font-size","18px"],[1,"nav-link",3,"routerLink","queryParams","click"],["nz-icon","","nzType","file-done",2,"font-size","18px"],["nz-icon","","nzType","pull-request",2,"font-size","18px"],["nz-icon","","nzType","appstore",2,"font-size","18px"],["nz-icon","","nzType","profile",2,"font-size","18px"],["nz-menu-item","",2,"margin-top","12px"],["nz-icon","","nzType","build","size","",2,"font-size","18px"],["nz-icon","","nzType","profile","size","",2,"font-size","18px"],["nz-icon","","nzType","schedule","size","",2,"font-size","18px"],["nz-icon","","nzType","team","size","",2,"font-size","18px"],["nz-icon","","nzType","sliders","size","",2,"font-size","18px"],[4,"ngIf"],["class","appbackground",4,"ngIf"],[1,"heading"],["nz-icon","",1,"trigger",3,"nzType","click"],[1,"appbackground"],[1,"flex","space-between","center",2,"flex-wrap","wrap"],[1,"flex","center"],["class","trigger","nz-icon","","style","font-size: 18px;",3,"nzType","click",4,"ngIf"],["nz-button","",1,"header-button",3,"click"],["nz-icon","","nzType","down",2,"font-size","18px"],[3,"visible","closeDrawer"],["nz-button","","nzType","text","nz-dropdown","",1,"userbtn",3,"nzDropdownMenu"],[2,"background-color","#f56a00","margin-right","5px",3,"nzText"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-button","","nzType","text",3,"click"],["nz-menu-item","","nz-button","","nzType","text"],[1,"content-main"],["nz-icon","",1,"trigger",2,"font-size","18px",3,"nzType","click"]],template:function(a,e){a&1&&(i(0,"div",0)(1,"nz-layout",1)(2,"nz-sider",2),J("nzCollapsedChange",function(y){return X(e.isCollapsed,y)||(e.isCollapsed=y),y}),i(3,"span",3)(4,"div")(5,"span",4),f(6,"img",5),C(7,Ge,2,0,"span",6),s(),C(8,Ke,1,3,"span",7),s()(),i(9,"div",8)(10,"ul",9)(11,"li",10),f(12,"span",11),i(13,"span")(14,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(15," Dashboard "),s()()()(),i(16,"ul",9)(17,"li",10),f(18,"span",13),i(19,"span")(20,"a",14),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(21," Customers "),s()()(),i(22,"li",10),f(23,"span",15),i(24,"span")(25,"a",16),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(26," Quotes "),s()()(),i(27,"li",10),f(28,"span",17),i(29,"span")(30,"a",16),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(31," Invoices "),s()()()(),i(32,"ul",9)(33,"li",10),f(34,"span",18),i(35,"span")(36,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(37," Purchase Invoices "),s()()(),i(38,"li",10),f(39,"span",19),i(40,"span")(41,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(42," Inventory "),s()()(),i(43,"li",10),f(44,"span",20),i(45,"span")(46,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(47," Vendors "),s()()()(),i(48,"ul",9)(49,"li",21),f(50,"span",22),i(51,"span")(52,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(53," Sites "),s()()()(),i(54,"ul",9)(55,"li",21),f(56,"span",23),i(57,"span")(58,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(59," Employee "),s()()(),i(60,"li",21),f(61,"span",24),i(62,"span")(63,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(64," Attendance "),s()()(),i(65,"li",21),f(66,"span",24),i(67,"span")(68,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(69," Payments "),s()()()(),i(70,"ul",9)(71,"li",21),f(72,"span",25),i(73,"span")(74,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(75," Users "),s()()(),i(76,"li",21),f(77,"span",26),i(78,"span")(79,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(80," Permissions "),s()()()()(),C(81,et,2,0,"nz-footer",27),s(),C(82,nt,23,7,"nz-layout",28),s()()),a&2&&(o(2),Z("nzCollapsed",e.isCollapsed),l("nzTrigger",null)("nzWidth",!e.isCollapsed&&e.isMobile()?"100%":"200px")("nzCollapsedWidth",65),o(2),j((e.isCollapsed,"padding-left:12px")),F(e.isCollapsed?"logo flex center space-around":"logo flex center space-between"),o(3),l("ngIf",!e.isCollapsed),o(),l("ngIf",!e.isCollapsed&&e.isMobile()),o(3),g("selected-route",e.currentRoutes.length==0),o(3),l("routerLink",c(63,it))("state",c(64,_)),o(3),g("selected-route",e.currentRoutes.indexOf("customers")>-1),o(3),l("routerLink",c(65,ot)),o(2),g("selected-route",e.currentRoutes.indexOf("sales")>-1&&(e.currentRoutes.indexOf("status="+e.saleState.Quote)>-1||e.currentRoutes.join("").indexOf("SALE=")>-1)),o(3),l("routerLink",c(66,Ae))("queryParams",T(67,Be,e.saleState.Quote)),o(2),g("selected-route",e.currentRoutes.indexOf("sales")>-1&&(e.currentRoutes.indexOf("status="+e.saleState.Invoiced)>-1||e.currentRoutes.join("").indexOf("INVOICE=")>-1)),o(3),l("routerLink",c(69,Ae))("queryParams",T(70,Be,e.saleState.Invoiced)),o(3),g("selected-route",e.currentRoutes.indexOf("customers")==-1&&e.currentRoutes.indexOf("purchase")>-1&&e.currentRoutes.indexOf("sales")==-1&&e.currentRoutes.indexOf("sale")==-1&&e.currentRoutes.indexOf("sales?status="+e.saleState.Quote)==-1&&e.currentRoutes.indexOf("sales?status="+e.saleState.Invoiced)==-1),o(3),l("routerLink",c(72,rt))("state",c(73,_)),o(2),g("selected-route",e.currentRoutes.indexOf("inventory")>-1),o(3),l("routerLink",c(74,at))("state",c(75,_)),o(2),g("selected-route",e.currentRoutes.indexOf("vendor")>-1),o(3),l("routerLink",c(76,st))("state",c(77,_)),o(3),g("selected-route",e.currentRoutes.indexOf("sites")>-1),o(3),l("routerLink",c(78,lt))("state",c(79,_)),o(3),g("selected-route",e.currentRoutes.indexOf("employee")>-1&&e.currentRoutes.indexOf("attendance")===-1&&e.currentRoutes.indexOf("pay-processing")===-1),o(3),l("routerLink",c(80,pt))("state",c(81,_)),o(2),g("selected-route",e.currentRoutes.indexOf("attendance")>-1),o(3),l("routerLink",T(82,ct,e.loggedInUser.id))("state",c(84,_)),o(2),g("selected-route",e.currentRoutes.indexOf("pay-processing")>-1),o(3),l("routerLink",c(85,mt))("state",c(86,_)),o(3),g("selected-route",e.currentRoutes.indexOf("team")>-1&&e.currentRoutes.indexOf("roles")==-1),o(3),l("routerLink",c(87,ut))("state",c(88,_)),o(2),g("selected-route",e.currentRoutes.indexOf("team")>-1&&e.currentRoutes.indexOf("roles")>-1),o(3),l("routerLink",c(89,dt))("state",c(90,_)),o(2),l("ngIf",!e.isCollapsed),o(),l("ngIf",!e.isMobile()||e.isCollapsed&&e.isMobile()))},dependencies:[$,ie,re,fe,ze,I,_e,ce,he,ge,Ce,ve,be,Pe,we,Me,ke,Te,je],styles:[".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:50px;padding:0 16px;margin-top:3px;cursor:pointer;transition:color .3s}.ant-layout-header[_ngcontent-%COMP%]{line-height:42px;height:42px;border-bottom:.1px solid #80808017}.header-text[_ngcontent-%COMP%]{letter-spacing:2px;text-transform:uppercase;margin:auto}.logo[_ngcontent-%COMP%]{height:32px;margin-top:5px;margin-bottom:5px!important;padding-left:24px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px}.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 56px);background:#21263c}.ant-menu-inline[_ngcontent-%COMP%]{background:inherit!important}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;padding-top:5px;padding-bottom:5px}.ant-menu-item[_ngcontent-%COMP%]:hover, .ant-menu-submenu[_ngcontent-%COMP%]:hover{background:#343434;color:#c9c6c6}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{margin:0 8px!important;width:auto!important;border-radius:8px;padding-left:12px!important;font-size:12px!important;height:32px}.ant-menu-item-selected[_ngcontent-%COMP%]{background:inherit!important}.selected-route[_ngcontent-%COMP%]{background:#bb86fc!important}ul[_ngcontent-%COMP%]{margin-top:10px}@media (max-width: 600px){.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 72px)}.ant-layout-header[_ngcontent-%COMP%]{height:72px;line-height:22px}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.selected-route[_ngcontent-%COMP%]{background:#bb86fc!important}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{border-bottom:1px solid #343434;margin:0!important;font-size:16px!important;min-height:60px;padding-top:10px;padding-left:20px!important;border-radius:0!important}.anticon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{line-height:1;font-size:16px!important}.trigger[_ngcontent-%COMP%]{line-height:33px;margin-top:3px}.logo[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important;margin:0;padding-left:24px}}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}nz-header[_ngcontent-%COMP%]{padding:0}nz-content[_ngcontent-%COMP%]{background:#fff;padding:6px;overflow:auto}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{padding:24px;min-height:360px}nz-footer[_ngcontent-%COMP%]{padding:5px;color:#fff;font-size:9px;background:inherit;position:absolute;bottom:0;width:100%}.app-shell[_ngcontent-%COMP%], app-shell[_ngcontent-%COMP%]{width:100%!important}.userbtn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;padding:0!important;color:#fff}.full-width[_ngcontent-%COMP%]{width:100%!important}.nav-link[_ngcontent-%COMP%]{color:#fff}.lightFont[_ngcontent-%COMP%]{color:#fff!important}.heading[_ngcontent-%COMP%]{font-family:revert;color:#fff;font-weight:800;font-size:16px;white-space:pre;letter-spacing:.4em}"]});let t=r;return t})();var ft=[{path:"",component:Ue,children:[{path:"",loadChildren:()=>import("./chunk-OIKXMOMH.js").then(t=>t.DashboardModule),data:{name:"Dashboard"}},{path:"team",loadChildren:()=>import("./chunk-ZBPEN2RE.js").then(t=>t.TeamModule),data:{name:"Team"}},{path:"sites",loadChildren:()=>import("./chunk-J2WMQQZQ.js").then(t=>t.SitesModule),data:{name:"Sites"}},{path:"purchase",loadChildren:()=>import("./chunk-CYFKUPTI.js").then(t=>t.PurchaseModule),data:{name:"Purchase"}},{path:"vendor",loadChildren:()=>import("./chunk-2HYKD7KU.js").then(t=>t.VendorModule),data:{name:"Vendor"}},{path:"inventory",loadChildren:()=>import("./chunk-OGQXATNT.js").then(t=>t.InventoryManagementModule),data:{name:"Inventory"}},{path:"employee",loadChildren:()=>import("./chunk-VK3INTRN.js").then(t=>t.EmployeeManagementModule),data:{name:"Employee"}}]}],We=(()=>{let r=class r{};r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=M({type:r}),r.\u0275inj=k({imports:[D.forChild(ft),D]});let t=r;return t})();Y(Ve);var qe=le,ht=Object.keys(qe).map(t=>qe[t]),cn=(()=>{let r=class r{};r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=M({type:r}),r.\u0275inj=k({providers:[{provide:ye,useValue:Se},{provide:pe,useValue:ht}],imports:[G,ue,K,ee,de,We,Ne]});let t=r;return t})();export{cn as a};
