import{a as Le}from"./chunk-NGE6N3H6.js";import{a as Ve}from"./chunk-EAQDDY6R.js";import{b as O}from"./chunk-MCMTRHRP.js";import{$ as h,Ab as ve,Ba as X,Fb as ye,Gb as xe,Ia as $,J as s,Ja as J,K as _,N as g,Na as Y,Nb as we,O as l,Ob as Oe,P as k,Pa as K,Pb as Me,Q as P,Qb as Ie,R as V,Ra as D,Rb as Te,S as L,Sa as Q,Sb as ke,T as A,Ta as ee,U as i,Ua as te,Ub as De,V as o,Va as ne,Vb as Fe,W as f,Wb as Ne,X as j,Xb as Ee,Y as B,Ya as ie,Z as b,Za as oe,_ as u,cb as re,da as U,ea as c,fb as ae,ga as w,gb as se,ia as R,ib as le,ja as W,jb as pe,ka as H,la as m,nb as ce,ob as me,pb as ue,qb as de,r as E,rb as M,s as v,sb as fe,t as y,tb as he,ub as ge,uc as Pe,v as z,va as G,vb as ze,w as C,wa as q,wb as Ce,xa as Z,xb as _e,yb as be,z as x,zb as Se}from"./chunk-KCJYYZJD.js";import{a as N,g as S}from"./chunk-MON7YFGF.js";function Ge(e,t){if(e&1){let p=b();i(0,"nz-list-item",3),u("click",function(){let a=z(p).$implicit,d=h(2);return C(d.setSubOrganization(a))}),i(1,"nz-list-item-meta",4)(2,"nz-list-item-meta-title"),c(3),o()()()}if(e&2){let p=t.$implicit;s(3),w(" ",p.name," ")}}function qe(e,t){e&1&&f(0,"nz-list-empty")}function Ze(e,t){if(e&1&&(j(0),i(1,"nz-list",2),L(2,Ge,4,1,"nz-list-item",5,V),g(4,qe,1,0,"nz-list-empty"),o(),B()),e&2){let p=h();s(),l("nzLoading",p.loading),s(),A(p.data),s(2),P(4,p.data.length===0?4:-1)}}var Ae=(()=>{let t=class t{constructor(n){this.appService=n,this.loading=!1,this.data=[],this.visible=!1,this.closeDrawer=new E}ngOnInit(){this.getAndSetSubOrganizations()}close(){this.closeDrawer.emit(!0)}getAndSetSubOrganizations(){return S(this,null,function*(){this.loading=!0,this.data=yield this.appService.getSubOrganizations(!0),this.loading=!1})}setSubOrganization(n){this.appService.setSubOrganization(n),this.closeDrawer.emit(!0)}};t.\u0275fac=function(r){return new(r||t)(_(O))},t.\u0275cmp=v({type:t,selectors:[["app-organization-selector"]],inputs:{visible:"visible"},outputs:{closeDrawer:"closeDrawer"},decls:2,vars:2,consts:[["nzPlacement","right","nzTitle","Organizations",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["nzItemLayout","horizontal",3,"nzLoading"],["nz-button","","nzType","text",3,"click"],["nzAvatar","https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png","nzDescription",""],["nz-button","","nzType","text"]],template:function(r,a){r&1&&(i(0,"nz-drawer",0),u("nzOnClose",function(){return a.close()}),g(1,Ze,5,2,"ng-container",1),o()),r&2&&l("nzClosable",!1)("nzVisible",a.visible)},dependencies:[M,xe,ye,Ne,Fe,Ee,De,ke]});let e=t;return e})();function $e(e,t){e&1&&(i(0,"span",21),c(1," VEINS "),o())}function Je(e,t){if(e&1){let p=b();i(0,"span",22),u("click",function(){z(p);let r=h();return C(r.isCollapsed=!r.isCollapsed)}),o()}if(e&2){let p=h();k(!p.isCollapsed&&p.isMobile()?"lightFont":"darkFont"),l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function Ye(e,t){e&1&&(i(0,"nz-footer"),c(1,"Veins system \xA92024 Implement By SA3"),o())}function Ke(e,t){if(e&1&&f(0,"nz-option",39),e&2){let p=t.$implicit;l("nzValue",p)("nzLabel",p.label)}}function Qe(e,t){if(e&1){let p=b();i(0,"nz-layout",23)(1,"nz-header")(2,"div",24)(3,"span",25)(4,"span",22),u("click",function(){z(p);let r=h();return C(r.isCollapsed=!r.isCollapsed)}),o(),i(5,"h3"),c(6,"Home"),o()(),i(7,"span",25)(8,"button",26),u("click",function(){z(p);let r=h();return C(r.toggleOrganizations())}),c(9),f(10,"span",27),o(),i(11,"app-organization-selector",28),u("closeDrawer",function(){z(p);let r=h();return C(r.toggleOrganizations())}),o(),i(12,"nz-form",29)(13,"nz-select",30),g(14,Ke,1,2,"nz-option",31),o()(),i(15,"button",32),f(16,"nz-avatar",33)(17,"span",27),o(),i(18,"nz-dropdown-menu",null,34)(20,"ul",35)(21,"li",36),u("click",function(){z(p);let r=h();return C(r.logout())}),c(22,"Logout "),o(),i(23,"li",37),c(24,"Change Password"),o()()()()()(),i(25,"nz-content",38),f(26,"router-outlet"),o()()}if(e&2){let p=U(19),n=h();s(4),l("nzType",n.isCollapsed?"menu-unfold":"menu-fold"),s(5),w(" ",n.currentSubOrganization.name," "),s(2),l("visible",n.showOrganizations),s(),l("formGroup",n.siteForm),s(2),l("ngForOf",n.sites),s(),l("nzDropdownMenu",p),s(),l("nzText",n.getUserInitials(n.loggedInUser.name))}}var et=()=>["/"],je=()=>({tracingId:123}),tt=()=>["/purchase"],I=()=>({tracingId:2}),nt=()=>["/inventory"],it=()=>["/vendor"],ot=()=>["/sites"],rt=()=>["/team"],at=()=>({tracingId:1}),st=()=>["/team/roles"],Be=(()=>{let t=class t{constructor(n,r,a,d){this.userService=n,this.appService=r,this.fb=a,this.media=d,this.isCollapsed=!1,this.isMobileDevice=!0,this.loggedInUser={},this.sites=[],this.site={},this.showOrganizations=!1,this.siteForm=this.fb.group({site:[]})}ngOnInit(){this.loggedInUser=this.userService.getUserDetails(),this.setSitesData(),this.onSiteChange()}toggleOrganizations(){this.showOrganizations=!this.showOrganizations}onSiteChange(){this.siteSubscription=this.siteForm.valueChanges.subscribe(n=>{this.setCurrentSite(n.site)}),this.subOrgSubscription=this.appService.currentSubOrganization.subscribe(n=>{this.currentSubOrganization=n})}setSitesData(){return S(this,null,function*(){let n=yield this.appService.getAndSetSites(),r=n&&n.length?n.map(a=>N({label:a.name},a)):[];this.sites=[...r],this.appService.setSites(this.sites),this.siteForm.patchValue({site:this.sites[0]}),this.setCurrentSite(void 0)})}setCurrentSite(n){this.appService.setCurrentSite(n||this.sites[0])}logout(){this.userService.logout()}ngOnDestroy(){this.siteSubscription&&this.siteSubscription.unsubscribe(),this.subOrgSubscription&&this.subOrgSubscription.unsubscribe()}getUserInitials(n){return n.trim().split(" ").map(d=>d.charAt(0)).join("").toUpperCase()}isMobile(){return this.media.matchMedia("(max-width: 600px)").matches}};t.\u0275fac=function(r){return new(r||t)(_(Ve),_(O),_(se),_(Q))},t.\u0275cmp=v({type:t,selectors:[["app-shell"]],decls:56,vars:37,consts:[[1,"app-shell"],[2,"height","100%"],["nzCollapsible","",3,"nzCollapsed","nzTrigger","nzWidth","nzCollapsedChange"],[1,"logo","flex","center",2,"background","#001529"],["src","../../../assets/veins.png","alt",""],["class","heading",4,"ngIf"],["class","trigger","nz-icon","",3,"nzType","class","click",4,"ngIf"],["nz-menu","","nzTheme","dark","nzMode","inline"],["nz-menu-item",""],["nz-icon","","nzType","file"],["nz-icon","","nzType","dashboard"],[1,"nav-link",3,"routerLink","state","click"],["nz-submenu","","nzTitle","Stocks","nzIcon","user"],[3,"routerLink","state","click"],["nz-submenu","","nzTitle","Contractors","nzIcon","team"],["nz-submenu","","nzTitle","Labours","nzIcon","team"],["nz-icon","","nzType","setting"],["nz-submenu","","nzTitle","Team","nzIcon","team"],[3,"routerLink","state"],[4,"ngIf"],["class","appbackground",4,"ngIf"],[1,"heading"],["nz-icon","",1,"trigger",3,"nzType","click"],[1,"appbackground"],[1,"flex","space-between","center"],[1,"flex","center"],["nz-button","",1,"header-button",3,"click"],["nz-icon","","nzType","down"],[3,"visible","closeDrawer"],[3,"formGroup"],["id","site","formControlName","site","placeholder","Select sites",1,"header-button"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-button","","nzType","text","nz-dropdown","",1,"userbtn",3,"nzDropdownMenu"],[2,"background-color","#f56a00","margin-right","5px",3,"nzText"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-button","","nzType","text",3,"click"],["nz-menu-item","","nz-button","","nzType","text"],[1,"content-main"],[3,"nzValue","nzLabel"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"nz-layout",1)(2,"nz-sider",2),H("nzCollapsedChange",function(T){return W(a.isCollapsed,T)||(a.isCollapsed=T),T}),i(3,"div")(4,"span",3),f(5,"img",4),g(6,$e,2,0,"span",5),o(),g(7,Je,1,3,"span",6),o(),i(8,"ul",7)(9,"li",8),f(10,"span",9),i(11,"span"),c(12,"File"),o()(),i(13,"li",8),f(14,"span",10),i(15,"span")(16,"a",11),u("click",function(){return a.isCollapsed=!0}),c(17," Dashboard "),o()()(),i(18,"li",12)(19,"ul")(20,"li",8)(21,"a",13),u("click",function(){return a.isCollapsed=!0}),c(22," Stock Details "),o()(),i(23,"li",8)(24,"a",13),u("click",function(){return a.isCollapsed=!0}),c(25," Inventory "),o()(),i(26,"li",8)(27,"a",13),u("click",function(){return a.isCollapsed=!0}),c(28," Vendors "),o()()()(),i(29,"li",14)(30,"ul")(31,"li",8),c(32,"Add Contractor"),o(),i(33,"li",8),c(34,"Inquire Details"),o()()(),i(35,"li",15)(36,"ul")(37,"li",8),c(38,"Add Contractor"),o(),i(39,"li",8),c(40,"Inquire Details"),o()()(),i(41,"li",8),f(42,"span",16),i(43,"span")(44,"a",11),u("click",function(){return a.isCollapsed=!0}),c(45," Sites "),o()()(),i(46,"li",17)(47,"ul")(48,"li",8)(49,"a",18),c(50," Users "),o()(),i(51,"li",8)(52,"a",18),c(53," Permissions "),o()()()()(),g(54,Ye,2,0,"nz-footer",19),o(),g(55,Qe,27,7,"nz-layout",20),o()()),r&2&&(s(2),R("nzCollapsed",a.isCollapsed),l("nzTrigger",null)("nzWidth",!a.isCollapsed&&a.isMobile()?"100%":"200px"),s(),k(a.isCollapsed?"flex center space-around":"flex center space-between"),s(3),l("ngIf",!a.isCollapsed),s(),l("ngIf",!a.isCollapsed&&a.isMobile()),s(9),l("routerLink",m(23,et))("state",m(24,je)),s(5),l("routerLink",m(25,tt))("state",m(26,I)),s(3),l("routerLink",m(27,nt))("state",m(28,I)),s(3),l("routerLink",m(29,it))("state",m(30,I)),s(17),l("routerLink",m(31,ot))("state",m(32,je)),s(5),l("routerLink",m(33,rt))("state",m(34,at)),s(3),l("routerLink",m(35,st))("state",m(36,I)),s(2),l("ngIf",!a.isCollapsed),s(),l("ngIf",!a.isMobile()||a.isCollapsed&&a.isMobile()))},dependencies:[q,Z,ie,oe,re,ae,Y,K,ce,he,M,fe,ne,de,me,ue,ge,Ce,ze,Te,Me,we,Oe,Ie,Se,ve,Ae],styles:[".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:50px;padding:0 24px;cursor:pointer;transition:color .3s}.ant-layout-header[_ngcontent-%COMP%]{line-height:50px}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.logo[_ngcontent-%COMP%]{height:32px;background:#fff3;margin:16px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:100%}nz-header[_ngcontent-%COMP%]{background:#ffffff82;padding:0;color:#fff}nz-content[_ngcontent-%COMP%]{margin:0 16px}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;min-height:360px}nz-footer[_ngcontent-%COMP%]{padding:5px;color:#fff;font-size:9px;background:#f0f2f51f;position:absolute;bottom:0;width:100%}.app-shell[_ngcontent-%COMP%], app-shell[_ngcontent-%COMP%]{width:100%!important}.userbtn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;padding:0!important;color:#fff}.full-width[_ngcontent-%COMP%]{width:100%!important}.nav-link[_ngcontent-%COMP%]{color:#fff}.lightFont[_ngcontent-%COMP%]{color:#fff!important}.heading[_ngcontent-%COMP%]{font-family:revert;color:#fff;font-weight:800;font-size:22px;white-space:pre;letter-spacing:.5em}"]});let e=t;return e})();var lt=[{path:"",component:Be,children:[{path:"",loadChildren:()=>import("./chunk-S7XQUC2O.js").then(e=>e.DashboardModule),data:{name:"Dashboard"}},{path:"team",loadChildren:()=>import("./chunk-ECNHCGH6.js").then(e=>e.TeamModule),data:{name:"Team"}},{path:"sites",loadChildren:()=>import("./chunk-G4PCRFN5.js").then(e=>e.SitesModule),data:{name:"Sites"}},{path:"purchase",loadChildren:()=>import("./chunk-Y4VPT67J.js").then(e=>e.PurchaseModule),data:{name:"Purchase"}},{path:"vendor",loadChildren:()=>import("./chunk-DGKH4THP.js").then(e=>e.VendorModule),data:{name:"Vendor"}},{path:"inventory",loadChildren:()=>import("./chunk-XH2VGAKW.js").then(e=>e.InventoryManagementModule),data:{name:"Inventory"}}]}],Ue=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=y({type:t}),t.\u0275inj=x({imports:[D.forChild(lt),D]});let e=t;return e})();G(Le);var Re=ee,ct=Object.keys(Re).map(e=>Re[e]),tn=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=y({type:t}),t.\u0275inj=x({providers:[{provide:be,useValue:_e},{provide:te,useValue:ct}],imports:[X,le,$,J,pe,Ue,Pe]});let e=t;return e})();export{tn as a};
