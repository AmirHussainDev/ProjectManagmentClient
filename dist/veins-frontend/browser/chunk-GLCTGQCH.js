import{C as i,Ea as n,La as c,y as a}from"./chunk-PKM5J5B2.js";import{g as o}from"./chunk-MON7YFGF.js";var u=(()=>{let e=class e{constructor(r,t){this.router=r,this.http=t,this.loggedInUser={}}logout(){localStorage.setItem("user","{}"),localStorage.setItem("token",""),this.router.navigate(["/login"])}getUserDetails(){if(localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")||"{}"))return this.loggedInUser=JSON.parse(localStorage.getItem("user")||"{}"),this.loggedInUser}getOrganizationUsers(){return o(this,null,function*(){try{let r=localStorage.getItem("organization_id");return yield this.http.get(`/api/users/${r}`).toPromise()}catch(r){throw console.error("Error fetching organization users:",r),r}})}createUser(r){return o(this,null,function*(){try{let t=localStorage.getItem("organization_id");return yield this.http.post("/api/users",r).toPromise()}catch(t){throw console.error("Error fetching organization users:",t),t}})}updateUser(r){return o(this,null,function*(){try{let t=localStorage.getItem("organization_id");return yield this.http.put("/api/users",r).toPromise()}catch(t){throw console.error("Error fetching organization users:",t),t}})}};e.\u0275fac=function(t){return new(t||e)(i(c),i(n))},e.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();export{u as a};
