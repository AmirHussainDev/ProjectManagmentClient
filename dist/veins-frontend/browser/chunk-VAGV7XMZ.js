import{a as Ve}from"./chunk-NGE6N3H6.js";import{b as re,c as T}from"./chunk-M5FIMPUO.js";import{$ as W,$b as Ie,A as w,Ab as be,Ba as $,Bb as ve,Bc as Ee,Cb as xe,Fa as G,K as r,L as _,Ma as K,Mb as Se,Na as Q,Nb as ye,O as z,P as l,Q as R,Qa as ee,R as h,Ra as te,S as L,Sa as ne,T as I,Ta as ie,U as j,Ua as oe,Ub as Me,V as A,Vb as Oe,W as B,Wa as D,Wb as we,X as U,Xa as ae,Xb as ke,Y as o,Ya as se,Yb as Te,Z as s,Za as le,Zb as Pe,_ as g,_a as pe,aa as H,ac as De,ba as x,bc as Fe,ca as m,cc as Ne,da as f,ha as Z,ia as u,ka as k,l as E,lb as ce,ma as q,na as X,nb as me,oa as J,ob as ue,pa as c,r as V,s as M,sb as de,t as O,tb as ge,ub as fe,vb as P,w as b,wb as he,x as v,xb as _e,yb as ze,za as Y,zb as Ce}from"./chunk-BQGCRMRC.js";import{a as N,g as y}from"./chunk-MON7YFGF.js";function Ze(t,i){if(t&1){let p=x();o(0,"nz-list-item",3),m("click",function(){let e=b(p).$implicit,d=f(2);return v(d.setSubOrganization(e))}),o(1,"nz-list-item-meta",4)(2,"nz-list-item-meta-title"),u(3),s()()()}if(t&2){let p=i.$implicit;r(3),k(" ",p.name," ")}}function qe(t,i){t&1&&g(0,"nz-list-empty")}function Xe(t,i){if(t&1&&(W(0),o(1,"nz-list",2),B(2,Ze,4,1,"nz-list-item",5,A),z(4,qe,1,0,"nz-list-empty"),s(),H()),t&2){let p=f();r(),l("nzLoading",p.loading),r(),U(p.data),r(2),j(4,p.data.length===0?4:-1)}}var Re=(()=>{let i=class i{constructor(n){this.appService=n,this.loading=!1,this.data=[],this.visible=!1,this.closeDrawer=new V}ngOnInit(){this.getAndSetSubOrganizations()}close(){this.closeDrawer.emit(!0)}getAndSetSubOrganizations(){return y(this,null,function*(){this.loading=!0,this.data=yield this.appService.getSubOrganizations(!0),this.loading=!1})}setSubOrganization(n){this.appService.setSubOrganization(n),this.closeDrawer.emit(!0)}};i.\u0275fac=function(a){return new(a||i)(_(T))},i.\u0275cmp=M({type:i,selectors:[["app-organization-selector"]],inputs:{visible:"visible"},outputs:{closeDrawer:"closeDrawer"},decls:2,vars:2,consts:[["nzPlacement","right","nzTitle","Organizations",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["nzItemLayout","horizontal",3,"nzLoading"],["nz-button","","nzType","text",3,"click"],["nzAvatar","https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png","nzDescription",""],["nz-button","","nzType","text"]],template:function(a,e){a&1&&(o(0,"nz-drawer",0),m("nzOnClose",function(){return e.close()}),z(1,Xe,5,2,"ng-container",1),s()),a&2&&l("nzClosable",!1)("nzVisible",e.visible)},dependencies:[P,ye,Se,Fe,De,Ne,Ie,Pe]});let t=i;return t})();function Ye(t,i){t&1&&(o(0,"span",23),u(1," VEINS "),s())}function $e(t,i){if(t&1){let p=x();o(0,"span",24),m("click",function(){b(p);let a=f();return v(a.isCollapsed=!a.isCollapsed)}),s()}if(t&2){let p=f();I(!p.isCollapsed&&p.isMobile()?"lightFont":"darkFont"),l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function Ge(t,i){t&1&&(o(0,"nz-footer"),u(1,"Veins system \xA92024 Implement By SA3"),s())}function Ke(t,i){if(t&1){let p=x();o(0,"span",39),m("click",function(){b(p);let a=f(2);return v(a.isCollapsed=!a.isCollapsed)}),s()}if(t&2){let p=f(2);l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function Qe(t,i){if(t&1){let p=x();o(0,"nz-layout",25)(1,"nz-header")(2,"div",26)(3,"span",27),z(4,Ke,1,1,"span",28),s(),o(5,"span",4)(6,"span")(7,"button",29),m("click",function(){b(p);let a=f();return v(a.toggleOrganizations())}),u(8),g(9,"span",30),s(),o(10,"app-organization-selector",31),m("closeDrawer",function(){b(p);let a=f();return v(a.toggleOrganizations())}),s()(),o(11,"button",32),g(12,"nz-avatar",33)(13,"span",30),s(),o(14,"nz-dropdown-menu",null,34)(16,"ul",35)(17,"li",36),m("click",function(){b(p);let a=f();return v(a.logout())}),u(18,"Logout "),s(),o(19,"li",37),u(20,"Change Password"),s()()()()()(),o(21,"nz-content",38),g(22,"router-outlet"),s()()}if(t&2){let p=Z(15),n=f();r(4),l("ngIf",n.isMobile()),r(),R("width",n.isMobile()?"100%":"auto"),r(3),k(" ",n.currentSubOrganization.name," "),r(2),l("visible",n.showOrganizations),r(),l("nzDropdownMenu",p),r(),l("nzText",n.getUserInitials(n.loggedInUser.name))}}var et=()=>["/"],C=()=>({tracingId:123}),tt=()=>["/purchase"],nt=()=>["/inventory"],it=()=>["/vendor"],ot=()=>["/sites"],Le=()=>["/employee"],rt=()=>["/team"],at=()=>["/team/roles"],je=(()=>{let i=class i{constructor(n,a,e,d,S,Ue){this.userService=n,this.appService=a,this.fb=e,this.media=d,this.router=S,this.route=Ue,this.isCollapsed=!1,this.isMobileDevice=!0,this.loggedInUser={},this.sites=[],this.site={},this.showOrganizations=!1,this.currentRoutes=[],this.siteForm=this.fb.group({site:[]})}ngOnInit(){this.loggedInUser=this.userService.getUserDetails(),this.setSitesData(),this.onSiteChange(),this.extractRoutePath(this.router.url),this.router.events.pipe(E(n=>n instanceof ee)).subscribe(n=>{this.currentUrl=n.url,this.extractRoutePath(this.currentUrl)})}extractRoutePath(n){n=n.replace(/(https?:\/\/[^\/]+)?\/?/,""),this.currentRoutes=n.split("/").filter(a=>a)}toggleOrganizations(){this.showOrganizations=!this.showOrganizations}onSiteChange(){this.siteSubscription=this.siteForm.valueChanges.subscribe(n=>{this.setCurrentSite(n.site)}),this.subOrgSubscription=this.appService.currentSubOrganization.subscribe(n=>{this.currentSubOrganization=n})}setSitesData(){return y(this,null,function*(){let n=yield this.appService.getAndSetSites(),a=n&&n.length?n.map(e=>N({label:e.name},e)):[];this.sites=[...a],this.appService.setSites(this.sites),this.siteForm.patchValue({site:this.sites[0]}),this.setCurrentSite(void 0)})}setCurrentSite(n){this.appService.setCurrentSite(n||this.sites[0])}logout(){this.userService.logout()}ngOnDestroy(){this.siteSubscription&&this.siteSubscription.unsubscribe(),this.subOrgSubscription&&this.subOrgSubscription.unsubscribe()}getUserInitials(n){return n.trim().split(" ").map(d=>d.charAt(0)).join("").toUpperCase()}isMobile(){return this.media.matchMedia("(max-width: 600px)").matches}};i.\u0275fac=function(a){return new(a||i)(_(re),_(T),_(ce),_(ae),_(ie),_(te))},i.\u0275cmp=M({type:i,selectors:[["app-shell"]],decls:62,vars:66,consts:[[1,"app-shell"],[2,"height","100%"],["nzCollapsible","",1,"appbackground",3,"nzCollapsed","nzTrigger","nzWidth","nzCollapsedWidth","nzCollapsedChange"],[2,"display","flow-root"],[1,"flex","center","space-between"],["src","../../../assets/veins-ico.png","alt",""],["class","heading",4,"ngIf"],["class","trigger","nz-icon","",3,"nzType","class","click",4,"ngIf"],[1,"sideMenuItems"],["nz-menu","","nzTheme","dark","nzMode","inline"],["nz-menu-item",""],["nz-icon","","nzType","bar-chart",2,"font-size","18px"],[1,"nav-link",3,"routerLink","state","click"],["nz-icon","","nzType","pull-request",2,"font-size","18px"],["nz-icon","","nzType","appstore",2,"font-size","18px"],["nz-icon","","nzType","profile",2,"font-size","18px"],["nz-menu-item","",2,"margin-top","12px"],["nz-icon","","nzType","build","size","",2,"font-size","18px"],["nz-icon","","nzType","schedule","size","",2,"font-size","18px"],["nz-icon","","nzType","team","size","",2,"font-size","18px"],["nz-icon","","nzType","sliders","size","",2,"font-size","18px"],[4,"ngIf"],["class","appbackground",4,"ngIf"],[1,"heading"],["nz-icon","",1,"trigger",3,"nzType","click"],[1,"appbackground"],[1,"flex","space-between","center",2,"flex-wrap","wrap"],[1,"flex","center"],["class","trigger","nz-icon","","style","font-size: 18px;",3,"nzType","click",4,"ngIf"],["nz-button","",1,"header-button",3,"click"],["nz-icon","","nzType","down",2,"font-size","18px"],[3,"visible","closeDrawer"],["nz-button","","nzType","text","nz-dropdown","",1,"userbtn",3,"nzDropdownMenu"],[2,"background-color","#f56a00","margin-right","5px",3,"nzText"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-button","","nzType","text",3,"click"],["nz-menu-item","","nz-button","","nzType","text"],[1,"content-main"],["nz-icon","",1,"trigger",2,"font-size","18px",3,"nzType","click"]],template:function(a,e){a&1&&(o(0,"div",0)(1,"nz-layout",1)(2,"nz-sider",2),J("nzCollapsedChange",function(S){return X(e.isCollapsed,S)||(e.isCollapsed=S),S}),o(3,"span",3)(4,"div")(5,"span",4),g(6,"img",5),z(7,Ye,2,0,"span",6),s(),z(8,$e,1,3,"span",7),s()(),o(9,"div",8)(10,"ul",9)(11,"li",10),g(12,"span",11),o(13,"span")(14,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(15," Dashboard "),s()()()(),o(16,"ul",9)(17,"li",10),g(18,"span",13),o(19,"span")(20,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(21," Purchase & Sales "),s()()(),o(22,"li",10),g(23,"span",14),o(24,"span")(25,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(26," Inventory "),s()()(),o(27,"li",10),g(28,"span",15),o(29,"span")(30,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(31," Vendors "),s()()()(),o(32,"ul",9)(33,"li",16),g(34,"span",17),o(35,"span")(36,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(37," Sites "),s()()()(),o(38,"ul",9)(39,"li",16),g(40,"span",18),o(41,"span")(42,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(43," Employee "),s()()(),o(44,"li",16),g(45,"span",18),o(46,"span")(47,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(48," Attendance "),s()()()(),o(49,"ul",9)(50,"li",16),g(51,"span",19),o(52,"span")(53,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(54," Users "),s()()(),o(55,"li",16),g(56,"span",20),o(57,"span")(58,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(59," Permissions "),s()()()()(),z(60,Ge,2,0,"nz-footer",21),s(),z(61,Qe,23,7,"nz-layout",22),s()()),a&2&&(r(2),q("nzCollapsed",e.isCollapsed),l("nzTrigger",null)("nzWidth",!e.isCollapsed&&e.isMobile()?"100%":"200px")("nzCollapsedWidth",65),r(2),L((e.isCollapsed,"padding-left:12px")),I(e.isCollapsed?"logo flex center space-around":"logo flex center space-between"),r(3),l("ngIf",!e.isCollapsed),r(),l("ngIf",!e.isCollapsed&&e.isMobile()),r(3),h("selected-route",e.currentRoutes.length==0),r(3),l("routerLink",c(48,et))("state",c(49,C)),r(3),h("selected-route",e.currentRoutes.indexOf("purchase")>-1),r(3),l("routerLink",c(50,tt))("state",c(51,C)),r(2),h("selected-route",e.currentRoutes.indexOf("inventory")>-1),r(3),l("routerLink",c(52,nt))("state",c(53,C)),r(2),h("selected-route",e.currentRoutes.indexOf("vendor")>-1),r(3),l("routerLink",c(54,it))("state",c(55,C)),r(3),h("selected-route",e.currentRoutes.indexOf("sites")>-1),r(3),l("routerLink",c(56,ot))("state",c(57,C)),r(3),h("selected-route",e.currentRoutes.indexOf("employee")>-1),r(3),l("routerLink",c(58,Le))("state",c(59,C)),r(2),h("selected-route",e.currentRoutes.indexOf("attendance")>-1),r(3),l("routerLink",c(60,Le))("state",c(61,C)),r(3),h("selected-route",e.currentRoutes.indexOf("team")>-1&&e.currentRoutes.indexOf("roles")==-1),r(3),l("routerLink",c(62,rt))("state",c(63,C)),r(2),h("selected-route",e.currentRoutes.indexOf("team")>-1&&e.currentRoutes.indexOf("roles")>-1),r(3),l("routerLink",c(64,at))("state",c(65,C)),r(2),l("ngIf",!e.isCollapsed),r(),l("ngIf",!e.isMobile()||e.isCollapsed&&e.isMobile()))},dependencies:[$,ne,oe,de,_e,P,he,pe,fe,ge,ze,be,Ce,Te,we,Me,Oe,ke,Re],styles:[".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:50px;padding:0 16px;margin-top:3px;cursor:pointer;transition:color .3s}.ant-layout-header[_ngcontent-%COMP%]{line-height:50px;height:56px;border-bottom:.1px solid #80808017}.header-text[_ngcontent-%COMP%]{letter-spacing:2px;text-transform:uppercase;margin:auto}.logo[_ngcontent-%COMP%]{height:32px;margin-top:12px;margin-bottom:12px!important;padding-left:24px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:32px}.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 56px);background:#21263c}.ant-menu-inline[_ngcontent-%COMP%]{background:inherit!important}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;padding-top:5px;padding-bottom:5px}.ant-menu-item[_ngcontent-%COMP%]:hover, .ant-menu-submenu[_ngcontent-%COMP%]:hover{background:#343434;color:#c9c6c6}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{margin:0 8px!important;width:auto!important;border-radius:8px;padding-left:12px!important;font-size:12px!important;height:32px}.ant-menu-item-selected[_ngcontent-%COMP%]{background:inherit!important}.selected-route[_ngcontent-%COMP%]{background:#bb86fc!important}ul[_ngcontent-%COMP%]{margin-top:10px}@media (max-width: 600px){.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 72px)}.ant-layout-header[_ngcontent-%COMP%]{height:72px;line-height:22px}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.selected-route[_ngcontent-%COMP%]{background:#bb86fc!important}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{border-bottom:1px solid #343434;margin:0!important;font-size:16px!important;min-height:60px;padding-top:10px;padding-left:20px!important;border-radius:0!important}.anticon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{line-height:1;font-size:16px!important}.trigger[_ngcontent-%COMP%]{line-height:33px;margin-top:3px}.logo[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important;margin:0;padding-left:24px}}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}nz-header[_ngcontent-%COMP%]{padding:0}nz-content[_ngcontent-%COMP%]{background:#fff;padding:6px;overflow:auto}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{padding:24px;min-height:360px}nz-footer[_ngcontent-%COMP%]{padding:5px;color:#fff;font-size:9px;background:inherit;position:absolute;bottom:0;width:100%}.app-shell[_ngcontent-%COMP%], app-shell[_ngcontent-%COMP%]{width:100%!important}.userbtn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;padding:0!important;color:#fff}.full-width[_ngcontent-%COMP%]{width:100%!important}.nav-link[_ngcontent-%COMP%]{color:#fff}.lightFont[_ngcontent-%COMP%]{color:#fff!important}.heading[_ngcontent-%COMP%]{font-family:revert;color:#fff;font-weight:800;font-size:18px;white-space:pre;letter-spacing:.4em}"]});let t=i;return t})();var st=[{path:"",component:je,children:[{path:"",loadChildren:()=>import("./chunk-TMOKMCOF.js").then(t=>t.DashboardModule),data:{name:"Dashboard"}},{path:"team",loadChildren:()=>import("./chunk-QX4EJCIN.js").then(t=>t.TeamModule),data:{name:"Team"}},{path:"sites",loadChildren:()=>import("./chunk-BMU3U4WN.js").then(t=>t.SitesModule),data:{name:"Sites"}},{path:"purchase",loadChildren:()=>import("./chunk-6I54QTRV.js").then(t=>t.PurchaseModule),data:{name:"Purchase"}},{path:"vendor",loadChildren:()=>import("./chunk-LFEUSYXH.js").then(t=>t.VendorModule),data:{name:"Vendor"}},{path:"inventory",loadChildren:()=>import("./chunk-PSTVAHV5.js").then(t=>t.InventoryManagementModule),data:{name:"Inventory"}}]}],Ae=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=O({type:i}),i.\u0275inj=w({imports:[D.forChild(st),D]});let t=i;return t})();Y(Ve);var Be=se,pt=Object.keys(Be).map(t=>Be[t]),tn=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=O({type:i}),i.\u0275inj=w({providers:[{provide:xe,useValue:ve},{provide:le,useValue:pt}],imports:[G,me,K,Q,ue,Ae,Ee]});let t=i;return t})();export{tn as a};
