import{a as Ee}from"./chunk-NGE6N3H6.js";import{a as ke}from"./chunk-GLCTGQCH.js";import{b as _}from"./chunk-CRDSVG3H.js";import{Aa as q,Bb as Se,Cb as ve,Fa as Z,Ga as X,J as a,Jb as _e,K as g,Ka as $,Kb as ye,Lb as Oe,Ma as J,Mb as xe,N as h,Nb as we,O as l,Oa as D,Ob as De,P as k,Pa as Y,Q as E,Qa as K,Qb as Ie,R as L,Ra as Q,Rb as Me,S as P,Sb as Ne,T as n,Tb as Te,U as i,Ua as ee,V as d,Va as te,W as A,X as j,Y as V,Z as f,_ as w,_a as ne,bb as ie,ca as B,cb as oe,da as m,eb as re,fa as v,fb as ae,ha as U,ia as R,ja as H,jb as se,ka as p,kb as le,lb as me,mb as pe,nb as y,ob as ce,pb as ue,qb as de,qc as Fe,r as N,rb as fe,s as b,sb as ge,t as C,tb as he,ua as G,ub as ze,v as T,va as W,vb as be,w as F,wb as Ce,z as S}from"./chunk-PKM5J5B2.js";import{a as M,g as z}from"./chunk-MON7YFGF.js";function Re(e,t){if(e&1){let u=V();n(0,"nz-list-item",3),f("click",function(){let o=T(u).$implicit,c=w(2);return F(c.setSubOrganization(o))}),n(1,"nz-list-item-meta",4)(2,"nz-list-item-meta-title"),m(3),i()()()}if(e&2){let u=t.$implicit;a(3),v(" ",u.name," ")}}function He(e,t){e&1&&d(0,"nz-list-empty")}function Ge(e,t){if(e&1&&(A(0),n(1,"nz-list",2),L(2,Re,4,1,"nz-list-item",5,E),h(4,He,1,0,"nz-list-empty"),i(),j()),e&2){let u=w();a(),l("nzLoading",u.loading),a(),P(u.data),a(2),k(4,u.data.length===0?4:-1)}}var Le=(()=>{let t=class t{constructor(r){this.appService=r,this.loading=!1,this.data=[],this.visible=!1,this.closeDrawer=new N}ngOnInit(){this.getAndSetSubOrganizations()}close(){this.closeDrawer.emit(!0)}getAndSetSubOrganizations(){return z(this,null,function*(){this.loading=!0,this.data=yield this.appService.getSubOrganizations(!0),this.loading=!1})}setSubOrganization(r){this.appService.setSubOrganization(r),this.closeDrawer.emit(!0)}};t.\u0275fac=function(s){return new(s||t)(g(_))},t.\u0275cmp=b({type:t,selectors:[["app-organization-selector"]],inputs:{visible:"visible"},outputs:{closeDrawer:"closeDrawer"},decls:2,vars:2,consts:[["nzPlacement","right","nzTitle","Organizations",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["nzItemLayout","horizontal",3,"nzLoading"],["nz-button","","nzType","text",3,"click"],["nzAvatar","https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png","nzDescription",""],["nz-button","","nzType","text"]],template:function(s,o){s&1&&(n(0,"nz-drawer",0),f("nzOnClose",function(){return o.close()}),h(1,Ge,5,2,"ng-container",1),i()),s&2&&l("nzClosable",!1)("nzVisible",o.visible)},dependencies:[y,ve,Se,Ne,Me,Te,Ie,De]});let e=t;return e})();function qe(e,t){if(e&1&&d(0,"nz-option",31),e&2){let u=t.$implicit;l("nzValue",u)("nzLabel",u.label)}}var Ze=()=>["/"],Pe=()=>({tracingId:123}),Xe=()=>["/purchase"],O=()=>({tracingId:2}),$e=()=>["/inventory"],Je=()=>["/vendor"],Ye=()=>["/sites"],Ke=()=>["/team"],Qe=()=>({tracingId:1}),et=()=>["/team/roles"],Ae=(()=>{let t=class t{constructor(r,s,o){this.userService=r,this.appService=s,this.fb=o,this.isCollapsed=!1,this.loggedInUser={},this.sites=[],this.site={},this.showOrganizations=!1,this.siteForm=this.fb.group({site:[]})}ngOnInit(){this.loggedInUser=this.userService.getUserDetails(),this.setSitesData(),this.onSiteChange()}toggleOrganizations(){this.showOrganizations=!this.showOrganizations}onSiteChange(){this.siteSubscription=this.siteForm.valueChanges.subscribe(r=>{this.setCurrentSite(r.site)}),this.subOrgSubscription=this.appService.currentSubOrganization.subscribe(r=>{this.currentSubOrganization=r})}setSitesData(){return z(this,null,function*(){let r=yield this.appService.getAndSetSites(),s=r&&r.length?r.map(o=>M({label:o.name},o)):[];this.sites=[...s],this.appService.setSites(this.sites),this.siteForm.patchValue({site:this.sites[0]}),this.setCurrentSite(void 0)})}setCurrentSite(r){this.appService.setCurrentSite(r||this.sites[0])}logout(){this.userService.logout()}ngOnDestroy(){this.siteSubscription&&this.siteSubscription.unsubscribe(),this.subOrgSubscription&&this.subOrgSubscription.unsubscribe()}getUserInitials(r){return r.trim().split(" ").map(c=>c.charAt(0)).join("").toUpperCase()}};t.\u0275fac=function(s){return new(s||t)(g(ke),g(_),g(oe))},t.\u0275cmp=b({type:t,selectors:[["app-shell"]],decls:74,vars:37,consts:[[1,"app-shell"],[2,"height","100%"],["nzCollapsible","",3,"nzCollapsed","nzTrigger","nzCollapsedChange"],[1,"logo"],["src","../../../assets/veins.png","alt",""],["nz-menu","","nzTheme","dark","nzMode","inline"],["nz-menu-item",""],["nz-icon","","nzType","dashboard"],[3,"routerLink","state"],["nz-submenu","","nzTitle","Stocks","nzIcon","user"],["nz-submenu","","nzTitle","Contractors","nzIcon","team"],["nz-submenu","","nzTitle","Labours","nzIcon","team"],["nz-icon","","nzType","setting"],["nz-submenu","","nzTitle","Team","nzIcon","team"],[1,"appbackground"],[1,"flex","space-between","center"],[1,"flex","center"],["nz-icon","",1,"trigger",3,"nzType","click"],["nz-button","",1,"header-button",3,"click"],["nz-icon","","nzType","down"],[3,"visible","closeDrawer"],[3,"formGroup"],["id","site","formControlName","site","placeholder","Select sites",1,"header-button"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-button","","nzType","text","nz-dropdown","",1,"userbtn",3,"nzDropdownMenu"],[2,"background-color","#f56a00","margin-right","5px",3,"nzText"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-button","","nzType","text",3,"click"],["nz-menu-item","","nz-button","","nzType","text"],[1,"content-main"],[3,"nzValue","nzLabel"]],template:function(s,o){if(s&1&&(n(0,"div",0)(1,"nz-layout",1)(2,"nz-sider",2),H("nzCollapsedChange",function(x){return R(o.isCollapsed,x)||(o.isCollapsed=x),x}),n(3,"div",3),d(4,"img",4),i(),n(5,"ul",5)(6,"li",6),d(7,"span",7),n(8,"a",8),m(9," Dashboard "),i()(),n(10,"li",9)(11,"ul")(12,"li",6)(13,"a",8),m(14," Stock Details "),i()(),n(15,"li",6)(16,"a",8),m(17," Inventory "),i()(),n(18,"li",6)(19,"a",8),m(20," Vendors "),i()()()(),n(21,"li",10)(22,"ul")(23,"li",6),m(24,"Add Contractor"),i(),n(25,"li",6),m(26,"Inquire Details"),i()()(),n(27,"li",11)(28,"ul")(29,"li",6),m(30,"Add Contractor"),i(),n(31,"li",6),m(32,"Inquire Details"),i()()(),n(33,"li",6),d(34,"span",12),n(35,"a",8),m(36," Sites "),i()(),n(37,"li",13)(38,"ul")(39,"li",6)(40,"a",8),m(41," Users "),i()(),n(42,"li",6)(43,"a",8),m(44," Permissions "),i()()()()(),n(45,"nz-footer"),m(46,"Veins system \xA92024 Implement By SA3"),i()(),n(47,"nz-layout",14)(48,"nz-header")(49,"div",15)(50,"span",16)(51,"span",17),f("click",function(){return o.isCollapsed=!o.isCollapsed}),i(),n(52,"h3"),m(53,"Home"),i()(),n(54,"span",16)(55,"button",18),f("click",function(){return o.toggleOrganizations()}),m(56),d(57,"span",19),i(),n(58,"app-organization-selector",20),f("closeDrawer",function(){return o.toggleOrganizations()}),i(),n(59,"nz-form",21)(60,"nz-select",22),h(61,qe,1,2,"nz-option",23),i()(),n(62,"button",24),d(63,"nz-avatar",25)(64,"span",19),i(),n(65,"nz-dropdown-menu",null,26)(67,"ul",27)(68,"li",28),f("click",function(){return o.logout()}),m(69,"Logout "),i(),n(70,"li",29),m(71,"Change Password"),i()()()()()(),n(72,"nz-content",30),d(73,"router-outlet"),i()()()()),s&2){let c=B(66);a(2),U("nzCollapsed",o.isCollapsed),l("nzTrigger",null),a(6),l("routerLink",p(23,Ze))("state",p(24,Pe)),a(5),l("routerLink",p(25,Xe))("state",p(26,O)),a(3),l("routerLink",p(27,$e))("state",p(28,O)),a(3),l("routerLink",p(29,Je))("state",p(30,O)),a(16),l("routerLink",p(31,Ye))("state",p(32,Pe)),a(5),l("routerLink",p(33,Ke))("state",p(34,Qe)),a(3),l("routerLink",p(35,et))("state",p(36,O)),a(8),l("nzType",o.isCollapsed?"menu-unfold":"menu-fold"),a(5),v(" ",o.currentSubOrganization.name," "),a(2),l("visible",o.showOrganizations),a(),l("formGroup",o.siteForm),a(2),l("ngForOf",o.sites),a(),l("nzDropdownMenu",c),a(),l("nzText",o.getUserInitials(o.loggedInUser.name))}},dependencies:[W,ee,te,ne,ie,$,J,se,ue,y,ce,Q,pe,le,me,de,ge,fe,we,Oe,_e,ye,xe,be,Ce,Le],styles:[".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:50px;padding:0 24px;cursor:pointer;transition:color .3s}.ant-layout-header[_ngcontent-%COMP%]{line-height:50px}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.logo[_ngcontent-%COMP%]{height:32px;background:#fff3;margin:16px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:100%}nz-header[_ngcontent-%COMP%]{background:#ffffff82;padding:0;color:#fff}nz-content[_ngcontent-%COMP%]{margin:0 16px}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;min-height:360px}nz-footer[_ngcontent-%COMP%]{padding:5px;color:#fff;font-size:9px;background:#f0f2f51f;position:absolute;bottom:0;width:100%}.app-shell[_ngcontent-%COMP%], app-shell[_ngcontent-%COMP%]{width:100%!important}.userbtn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;padding:0!important;color:#fff}"]});let e=t;return e})();var tt=[{path:"",component:Ae,children:[{path:"",loadChildren:()=>import("./chunk-VSIXOBOB.js").then(e=>e.DashboardModule),data:{name:"Dashboard"}},{path:"team",loadChildren:()=>import("./chunk-LSOML4LM.js").then(e=>e.TeamModule),data:{name:"Team"}},{path:"sites",loadChildren:()=>import("./chunk-W6G5CQ3K.js").then(e=>e.SitesModule),data:{name:"Sites"}},{path:"purchase",loadChildren:()=>import("./chunk-MOSYJ2O4.js").then(e=>e.PurchaseModule),data:{name:"Purchase"}},{path:"vendor",loadChildren:()=>import("./chunk-A4MCGYWR.js").then(e=>e.VendorModule),data:{name:"Vendor"}},{path:"inventory",loadChildren:()=>import("./chunk-5ZXKLO42.js").then(e=>e.InventoryManagementModule),data:{name:"Inventory"}}]}],je=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=C({type:t}),t.\u0275inj=S({imports:[D.forChild(tt),D]});let e=t;return e})();G(Ee);var Ve=Y,it=Object.keys(Ve).map(e=>Ve[e]),Zt=(()=>{let t=class t{};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=C({type:t}),t.\u0275inj=S({providers:[{provide:ze,useValue:he},{provide:K,useValue:it}],imports:[q,re,Z,X,ae,je,Fe]});let e=t;return e})();export{Zt as a};
