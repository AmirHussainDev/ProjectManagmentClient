import{a as je}from"./chunk-NGE6N3H6.js";import{a as Ae}from"./chunk-N6EUTRU6.js";import{b as w}from"./chunk-BNTKWXUF.js";import{$ as b,$a as ae,Ab as ve,Bb as xe,Cb as ye,Da as J,Hb as Me,Ib as we,J as s,K as _,Ka as Y,La as K,N as h,O as l,P,Pa as Q,Pb as Oe,Q as V,Qb as Ie,R as T,Ra as ee,Rb as ke,S as L,Sb as Te,T as A,Ta as D,Tb as De,U as j,Ua as te,Ub as Ne,V as B,Va as ne,W as i,Wa as ie,Wb as Fe,X as o,Xa as oe,Xb as Ee,Y as g,Yb as Pe,Z as U,Zb as Ve,_ as W,_a as re,aa as u,ba as f,eb as se,fa as R,ga as c,hb as le,ia as M,ib as pe,ka as H,kb as ce,la as G,lb as me,ma as q,na as m,pb as ue,qb as de,r as E,rb as fe,s as v,sb as ge,t as x,tb as O,ub as he,v as z,vb as ze,w as C,wb as Ce,wc as Le,xa as Z,xb as _e,ya as X,yb as be,z as y,za as $,zb as Se}from"./chunk-SHSOY4E3.js";import{a as F,g as S}from"./chunk-MON7YFGF.js";function Ze(e,t){if(e&1){let p=b();i(0,"nz-list-item",3),u("click",function(){let a=z(p).$implicit,d=f(2);return C(d.setSubOrganization(a))}),i(1,"nz-list-item-meta",4)(2,"nz-list-item-meta-title"),c(3),o()()()}if(e&2){let p=t.$implicit;s(3),M(" ",p.name," ")}}function Xe(e,t){e&1&&g(0,"nz-list-empty")}function $e(e,t){if(e&1&&(U(0),i(1,"nz-list",2),j(2,Ze,4,1,"nz-list-item",5,A),h(4,Xe,1,0,"nz-list-empty"),o(),W()),e&2){let p=f();s(),l("nzLoading",p.loading),s(),B(p.data),s(2),L(4,p.data.length===0?4:-1)}}var Be=(()=>{let t=class t{constructor(n){this.appService=n,this.loading=!1,this.data=[],this.visible=!1,this.closeDrawer=new E}ngOnInit(){this.getAndSetSubOrganizations()}close(){this.closeDrawer.emit(!0)}getAndSetSubOrganizations(){return S(this,null,function*(){this.loading=!0,this.data=yield this.appService.getSubOrganizations(!0),this.loading=!1})}setSubOrganization(n){this.appService.setSubOrganization(n),this.closeDrawer.emit(!0)}};t.\u0275fac=function(r){return new(r||t)(_(w))},t.\u0275cmp=v({type:t,selectors:[["app-organization-selector"]],inputs:{visible:"visible"},outputs:{closeDrawer:"closeDrawer"},decls:2,vars:2,consts:[["nzPlacement","right","nzTitle","Organizations",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["nzItemLayout","horizontal",3,"nzLoading"],["nz-button","","nzType","text",3,"click"],["nzAvatar","https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png","nzDescription",""],["nz-button","","nzType","text"]],template:function(r,a){r&1&&(i(0,"nz-drawer",0),u("nzOnClose",function(){return a.close()}),h(1,$e,5,2,"ng-container",1),o()),r&2&&l("nzClosable",!1)("nzVisible",a.visible)},dependencies:[O,we,Me,Pe,Ee,Ve,Fe,Ne]});let e=t;return e})();function Ye(e,t){e&1&&(i(0,"span",20),c(1," VEINS "),o())}function Ke(e,t){if(e&1){let p=b();i(0,"span",21),u("click",function(){z(p);let r=f();return C(r.isCollapsed=!r.isCollapsed)}),o()}if(e&2){let p=f();T(!p.isCollapsed&&p.isMobile()?"lightFont":"darkFont"),l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function Qe(e,t){e&1&&(i(0,"nz-footer"),c(1,"Veins system \xA92024 Implement By SA3"),o())}function et(e,t){if(e&1&&g(0,"nz-option",39),e&2){let p=t.$implicit;l("nzValue",p)("nzLabel",p.label)}}function tt(e,t){if(e&1){let p=b();i(0,"nz-layout",22)(1,"nz-header")(2,"div",23)(3,"span",24)(4,"span",21),u("click",function(){z(p);let r=f();return C(r.isCollapsed=!r.isCollapsed)}),o(),i(5,"h3",25),c(6,"Home"),o()(),i(7,"span",3)(8,"span")(9,"button",26),u("click",function(){z(p);let r=f();return C(r.toggleOrganizations())}),c(10),g(11,"span",27),o(),i(12,"app-organization-selector",28),u("closeDrawer",function(){z(p);let r=f();return C(r.toggleOrganizations())}),o(),i(13,"nz-form",29)(14,"nz-select",30),h(15,et,1,2,"nz-option",31),o()()(),i(16,"button",32),g(17,"nz-avatar",33)(18,"span",27),o(),i(19,"nz-dropdown-menu",null,34)(21,"ul",35)(22,"li",36),u("click",function(){z(p);let r=f();return C(r.logout())}),c(23,"Logout "),o(),i(24,"li",37),c(25,"Change Password"),o()()()()()(),i(26,"nz-content",38),g(27,"router-outlet"),o()()}if(e&2){let p=R(20),n=f();s(4),l("nzType",n.isCollapsed?"menu-unfold":"menu-fold"),s(3),P("width",n.isMobile()?"100%":"auto"),s(3),M(" ",n.currentSubOrganization.name," "),s(2),l("visible",n.showOrganizations),s(),l("formGroup",n.siteForm),s(2),l("ngForOf",n.sites),s(),l("nzDropdownMenu",p),s(),l("nzText",n.getUserInitials(n.loggedInUser.name))}}var nt=()=>["/"],Ue=()=>({tracingId:123}),it=()=>["/purchase"],I=()=>({tracingId:2}),ot=()=>["/inventory"],rt=()=>["/vendor"],at=()=>["/sites"],st=()=>["/team"],lt=()=>({tracingId:1}),pt=()=>["/team/roles"],We=(()=>{let t=class t{constructor(n,r,a,d){this.userService=n,this.appService=r,this.fb=a,this.media=d,this.isCollapsed=!1,this.isMobileDevice=!0,this.loggedInUser={},this.sites=[],this.site={},this.showOrganizations=!1,this.siteForm=this.fb.group({site:[]})}ngOnInit(){this.loggedInUser=this.userService.getUserDetails(),this.setSitesData(),this.onSiteChange()}toggleOrganizations(){this.showOrganizations=!this.showOrganizations}onSiteChange(){this.siteSubscription=this.siteForm.valueChanges.subscribe(n=>{this.setCurrentSite(n.site)}),this.subOrgSubscription=this.appService.currentSubOrganization.subscribe(n=>{this.currentSubOrganization=n})}setSitesData(){return S(this,null,function*(){let n=yield this.appService.getAndSetSites(),r=n&&n.length?n.map(a=>F({label:a.name},a)):[];this.sites=[...r],this.appService.setSites(this.sites),this.siteForm.patchValue({site:this.sites[0]}),this.setCurrentSite(void 0)})}setCurrentSite(n){this.appService.setCurrentSite(n||this.sites[0])}logout(){this.userService.logout()}ngOnDestroy(){this.siteSubscription&&this.siteSubscription.unsubscribe(),this.subOrgSubscription&&this.subOrgSubscription.unsubscribe()}getUserInitials(n){return n.trim().split(" ").map(d=>d.charAt(0)).join("").toUpperCase()}isMobile(){return this.media.matchMedia("(max-width: 600px)").matches}};t.\u0275fac=function(r){return new(r||t)(_(Ae),_(w),_(pe),_(te))},t.\u0275cmp=v({type:t,selectors:[["app-shell"]],decls:52,vars:40,consts:[[1,"app-shell"],[2,"height","100%"],["nzCollapsible","",3,"nzCollapsed","nzTrigger","nzWidth","nzCollapsedWidth","nzCollapsedChange"],[1,"flex","center","space-between"],["src","../../../assets/veins-v.png","alt",""],["class","heading",4,"ngIf"],["class","trigger","nz-icon","",3,"nzType","class","click",4,"ngIf"],["nz-menu","","nzTheme","dark","nzMode","inline"],["nz-menu-item",""],["nz-icon","","nzType","dashboard"],[1,"nav-link",3,"routerLink","state","click"],["nz-submenu","","nzTitle","Stocks","nzIcon","user"],[3,"routerLink","state","click"],["nz-submenu","","nzTitle","Contractors","nzIcon","team"],["nz-submenu","","nzTitle","Labours","nzIcon","team"],["nz-icon","","nzType","setting"],["nz-submenu","","nzTitle","Team","nzIcon","team"],[3,"routerLink","state"],[4,"ngIf"],["class","appbackground",4,"ngIf"],[1,"heading"],["nz-icon","",1,"trigger",3,"nzType","click"],[1,"appbackground"],[1,"flex","space-between","center",2,"flex-wrap","wrap"],[1,"flex","center"],[1,"header-text"],["nz-button","",1,"header-button",3,"click"],["nz-icon","","nzType","down"],[3,"visible","closeDrawer"],[3,"formGroup"],["id","site","formControlName","site","placeholder","Select sites",1,"header-button"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-button","","nzType","text","nz-dropdown","",1,"userbtn",3,"nzDropdownMenu"],[2,"background-color","#f56a00","margin-right","5px",3,"nzText"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-button","","nzType","text",3,"click"],["nz-menu-item","","nz-button","","nzType","text"],[1,"content-main"],[3,"nzValue","nzLabel"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"nz-layout",1)(2,"nz-sider",2),q("nzCollapsedChange",function(k){return G(a.isCollapsed,k)||(a.isCollapsed=k),k}),i(3,"div")(4,"span",3),g(5,"img",4),h(6,Ye,2,0,"span",5),o(),h(7,Ke,1,3,"span",6),o(),i(8,"ul",7)(9,"li",8),g(10,"span",9),i(11,"span")(12,"a",10),u("click",function(){return a.isCollapsed=!0}),c(13," Dashboard "),o()()(),i(14,"li",11)(15,"ul")(16,"li",8)(17,"a",12),u("click",function(){return a.isCollapsed=!0}),c(18," Stock Details "),o()(),i(19,"li",8)(20,"a",12),u("click",function(){return a.isCollapsed=!0}),c(21," Inventory "),o()(),i(22,"li",8)(23,"a",12),u("click",function(){return a.isCollapsed=!0}),c(24," Vendors "),o()()()(),i(25,"li",13)(26,"ul")(27,"li",8),c(28,"Add Contractor"),o(),i(29,"li",8),c(30,"Inquire Details"),o()()(),i(31,"li",14)(32,"ul")(33,"li",8),c(34,"Add Contractor"),o(),i(35,"li",8),c(36,"Inquire Details"),o()()(),i(37,"li",8),g(38,"span",15),i(39,"span")(40,"a",10),u("click",function(){return a.isCollapsed=!0}),c(41," Sites "),o()()(),i(42,"li",16)(43,"ul")(44,"li",8)(45,"a",17),c(46," Users "),o()(),i(47,"li",8)(48,"a",17),c(49," Permissions "),o()()()()(),h(50,Qe,2,0,"nz-footer",18),o(),h(51,tt,28,9,"nz-layout",19),o()()),r&2&&(s(2),H("nzCollapsed",a.isCollapsed),l("nzTrigger",null)("nzWidth",!a.isCollapsed&&a.isMobile()?"100%":"200px")("nzCollapsedWidth",55),s(),V(a.isCollapsed?"padding-left:2px":"padding-left:24px"),T(a.isCollapsed?"logo flex center space-around":"logo flex center space-between"),s(3),l("ngIf",!a.isCollapsed),s(),l("ngIf",!a.isCollapsed&&a.isMobile()),s(5),l("routerLink",m(26,nt))("state",m(27,Ue)),s(5),l("routerLink",m(28,it))("state",m(29,I)),s(3),l("routerLink",m(30,ot))("state",m(31,I)),s(3),l("routerLink",m(32,rt))("state",m(33,I)),s(17),l("routerLink",m(34,at))("state",m(35,Ue)),s(5),l("routerLink",m(36,st))("state",m(37,lt)),s(3),l("routerLink",m(38,pt))("state",m(39,I)),s(2),l("ngIf",!a.isCollapsed),s(),l("ngIf",!a.isMobile()||a.isCollapsed&&a.isMobile()))},dependencies:[X,$,re,ae,se,le,Q,ee,ue,ze,O,he,oe,ge,de,fe,Ce,be,_e,De,ke,Oe,Ie,Te,xe,ye,Be],styles:[".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:50px;padding:0 16px;margin-top:3px;cursor:pointer;transition:color .3s}.ant-layout-header[_ngcontent-%COMP%]{line-height:50px}.header-text[_ngcontent-%COMP%]{letter-spacing:2px;text-transform:uppercase;color:#fff;margin:auto}.logo[_ngcontent-%COMP%]{height:32px;background:#fff3;margin-top:12px;margin-bottom:12px!important;background:#001529;padding-left:24px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:32px}@media (max-width: 600px){.ant-layout-header[_ngcontent-%COMP%]{height:72px;line-height:22px}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{border-bottom:1px solid #343434;background:#88949f87;font-size:16px!important;margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.anticon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{line-height:1;font-size:16px!important}.trigger[_ngcontent-%COMP%]{line-height:33px;margin-top:3px}.logo[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important;margin:0;padding-left:24px}}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}nz-header[_ngcontent-%COMP%]{background:#ffffff82;padding:0;color:#fff}nz-content[_ngcontent-%COMP%]{margin:0 16px}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;min-height:360px}nz-footer[_ngcontent-%COMP%]{padding:5px;color:#fff;font-size:9px;background:#f0f2f51f;position:absolute;bottom:0;width:100%}.app-shell[_ngcontent-%COMP%], app-shell[_ngcontent-%COMP%]{width:100%!important}.userbtn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;padding:0!important;color:#fff}.full-width[_ngcontent-%COMP%]{width:100%!important}.nav-link[_ngcontent-%COMP%]{color:#fff}.lightFont[_ngcontent-%COMP%]{color:#fff!important}.heading[_ngcontent-%COMP%]{font-family:revert;color:#fff;font-weight:800;font-size:22px;white-space:pre;letter-spacing:.4em}"]});let e=t;return e})();var ct=[{path:"",component:We,children:[{path:"",loadChildren:()=>import("./chunk-4EYCWPIG.js").then(e=>e.DashboardModule),data:{name:"Dashboard"}},{path:"team",loadChildren:()=>import("./chunk-E2M67K42.js").then(e=>e.TeamModule),data:{name:"Team"}},{path:"sites",loadChildren:()=>import("./chunk-C53YHSWH.js").then(e=>e.SitesModule),data:{name:"Sites"}},{path:"purchase",loadChildren:()=>import("./chunk-YAP5NIEW.js").then(e=>e.PurchaseModule),data:{name:"Purchase"}},{path:"vendor",loadChildren:()=>import("./chunk-2LNKBUOT.js").then(e=>e.VendorModule),data:{name:"Vendor"}},{path:"inventory",loadChildren:()=>import("./chunk-ZDUNX3JM.js").then(e=>e.InventoryManagementModule),data:{name:"Inventory"}}]}],Re=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=x({type:t}),t.\u0275inj=y({imports:[D.forChild(ct),D]});let e=t;return e})();Z(je);var He=ne,ut=Object.keys(He).map(e=>He[e]),on=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=x({type:t}),t.\u0275inj=y({providers:[{provide:ve,useValue:Se},{provide:ie,useValue:ut}],imports:[J,ce,Y,K,me,Re,Le]});let e=t;return e})();export{on as a};
