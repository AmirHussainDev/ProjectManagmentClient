import{a as Pe}from"./chunk-NGE6N3H6.js";import{b as ee,c as w}from"./chunk-74YWM6Q3.js";import{$ as W,$b as ke,Aa as J,Ab as ze,Bb as Ce,Ea as Y,J as s,K as _,Kb as _e,La as $,Lb as be,Ma as G,N as C,O as l,P as E,Qa as K,R as V,S as T,Sa as Q,Sb as xe,T as L,Tb as Se,U as j,Ua as D,Ub as ve,V as A,Va as te,Vb as ye,W as B,Wa as ne,Wb as Me,X as r,Xa as ie,Xb as we,Y as a,Ya as oe,Z as f,Zb as Oe,_ as U,_b as Ie,aa as b,ac as Te,ba as u,ca as g,ga as R,ha as c,ja as M,jb as re,la as H,lb as ae,ma as Z,mb as se,na as q,oa as m,qb as le,r as F,rb as pe,s as S,sb as ce,t as v,tb as me,ub as O,v as h,vb as ue,w as z,wb as de,xb as ge,ya as X,yb as fe,z as y,zb as he,zc as De}from"./chunk-FKVIMGRR.js";import{a as N,g as x}from"./chunk-MON7YFGF.js";function Be(e,t){if(e&1){let p=b();r(0,"nz-list-item",3),u("click",function(){let o=h(p).$implicit,d=g(2);return z(d.setSubOrganization(o))}),r(1,"nz-list-item-meta",4)(2,"nz-list-item-meta-title"),c(3),a()()()}if(e&2){let p=t.$implicit;s(3),M(" ",p.name," ")}}function Ue(e,t){e&1&&f(0,"nz-list-empty")}function We(e,t){if(e&1&&(U(0),r(1,"nz-list",2),A(2,Be,4,1,"nz-list-item",5,j),C(4,Ue,1,0,"nz-list-empty"),a(),W()),e&2){let p=g();s(),l("nzLoading",p.loading),s(),B(p.data),s(2),L(4,p.data.length===0?4:-1)}}var Ne=(()=>{let t=class t{constructor(n){this.appService=n,this.loading=!1,this.data=[],this.visible=!1,this.closeDrawer=new F}ngOnInit(){this.getAndSetSubOrganizations()}close(){this.closeDrawer.emit(!0)}getAndSetSubOrganizations(){return x(this,null,function*(){this.loading=!0,this.data=yield this.appService.getSubOrganizations(!0),this.loading=!1})}setSubOrganization(n){this.appService.setSubOrganization(n),this.closeDrawer.emit(!0)}};t.\u0275fac=function(i){return new(i||t)(_(w))},t.\u0275cmp=S({type:t,selectors:[["app-organization-selector"]],inputs:{visible:"visible"},outputs:{closeDrawer:"closeDrawer"},decls:2,vars:2,consts:[["nzPlacement","right","nzTitle","Organizations",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["nzItemLayout","horizontal",3,"nzLoading"],["nz-button","","nzType","text",3,"click"],["nzAvatar","https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png","nzDescription",""],["nz-button","","nzType","text"]],template:function(i,o){i&1&&(r(0,"nz-drawer",0),u("nzOnClose",function(){return o.close()}),C(1,We,5,2,"ng-container",1),a()),i&2&&l("nzClosable",!1)("nzVisible",o.visible)},dependencies:[O,be,_e,ke,Ie,Te,Oe,we]});let e=t;return e})();function He(e,t){e&1&&(r(0,"span",20),c(1," VEINS "),a())}function Ze(e,t){if(e&1){let p=b();r(0,"span",21),u("click",function(){h(p);let i=g();return z(i.isCollapsed=!i.isCollapsed)}),a()}if(e&2){let p=g();T(!p.isCollapsed&&p.isMobile()?"lightFont":"darkFont"),l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function qe(e,t){e&1&&(r(0,"nz-footer"),c(1,"Veins system \xA92024 Implement By SA3"),a())}function Xe(e,t){if(e&1){let p=b();r(0,"nz-layout",22)(1,"nz-header")(2,"div",23)(3,"span",24)(4,"span",21),u("click",function(){h(p);let i=g();return z(i.isCollapsed=!i.isCollapsed)}),a(),r(5,"h3",25),c(6,"Home"),a()(),r(7,"span",4)(8,"span")(9,"button",26),u("click",function(){h(p);let i=g();return z(i.toggleOrganizations())}),c(10),f(11,"span",27),a(),r(12,"app-organization-selector",28),u("closeDrawer",function(){h(p);let i=g();return z(i.toggleOrganizations())}),a()(),r(13,"button",29),f(14,"nz-avatar",30)(15,"span",27),a(),r(16,"nz-dropdown-menu",null,31)(18,"ul",32)(19,"li",33),u("click",function(){h(p);let i=g();return z(i.logout())}),c(20,"Logout "),a(),r(21,"li",34),c(22,"Change Password"),a()()()()()(),r(23,"nz-content",35),f(24,"router-outlet"),a()()}if(e&2){let p=R(17),n=g();s(4),l("nzType",n.isCollapsed?"menu-unfold":"menu-fold"),s(3),E("width",n.isMobile()?"100%":"auto"),s(3),M(" ",n.currentSubOrganization.name," "),s(2),l("visible",n.showOrganizations),s(),l("nzDropdownMenu",p),s(),l("nzText",n.getUserInitials(n.loggedInUser.name))}}var Je=()=>["/"],Fe=()=>({tracingId:123}),Ye=()=>["/purchase"],I=()=>({tracingId:2}),$e=()=>["/inventory"],Ge=()=>["/vendor"],Ke=()=>["/sites"],Qe=()=>["/team"],et=()=>({tracingId:1}),tt=()=>["/team/roles"],Ee=(()=>{let t=class t{constructor(n,i,o,d){this.userService=n,this.appService=i,this.fb=o,this.media=d,this.isCollapsed=!1,this.isMobileDevice=!0,this.loggedInUser={},this.sites=[],this.site={},this.showOrganizations=!1,this.siteForm=this.fb.group({site:[]})}ngOnInit(){this.loggedInUser=this.userService.getUserDetails(),this.setSitesData(),this.onSiteChange()}toggleOrganizations(){this.showOrganizations=!this.showOrganizations}onSiteChange(){this.siteSubscription=this.siteForm.valueChanges.subscribe(n=>{this.setCurrentSite(n.site)}),this.subOrgSubscription=this.appService.currentSubOrganization.subscribe(n=>{this.currentSubOrganization=n})}setSitesData(){return x(this,null,function*(){let n=yield this.appService.getAndSetSites(),i=n&&n.length?n.map(o=>N({label:o.name},o)):[];this.sites=[...i],this.appService.setSites(this.sites),this.siteForm.patchValue({site:this.sites[0]}),this.setCurrentSite(void 0)})}setCurrentSite(n){this.appService.setCurrentSite(n||this.sites[0])}logout(){this.userService.logout()}ngOnDestroy(){this.siteSubscription&&this.siteSubscription.unsubscribe(),this.subOrgSubscription&&this.subOrgSubscription.unsubscribe()}getUserInitials(n){return n.trim().split(" ").map(d=>d.charAt(0)).join("").toUpperCase()}isMobile(){return this.media.matchMedia("(max-width: 600px)").matches}};t.\u0275fac=function(i){return new(i||t)(_(ee),_(w),_(re),_(te))},t.\u0275cmp=S({type:t,selectors:[["app-shell"]],decls:47,vars:40,consts:[[1,"app-shell"],[2,"height","100%"],["nzCollapsible","",1,"appbackground",3,"nzCollapsed","nzTrigger","nzWidth","nzCollapsedWidth","nzCollapsedChange"],[2,"background","#ffffff82","display","flow-root"],[1,"flex","center","space-between"],["src","../../../assets/veins-ico.png","alt",""],["class","heading",4,"ngIf"],["class","trigger","nz-icon","",3,"nzType","class","click",4,"ngIf"],["nz-menu","","nzTheme","dark","nzMode","inline",1,"sideMenuItems"],["nz-menu-item",""],["nz-icon","","nzType","bar-chart"],[1,"nav-link",3,"routerLink","state","click"],["nz-submenu","","nzTitle","Stocks","nzIcon","appstore"],[3,"routerLink","state","click"],["nz-submenu","","nzTitle","Labours","nzIcon","tool"],["nz-icon","","nzType","setting"],["nz-submenu","","nzTitle","Team","nzIcon","team"],[3,"routerLink","state"],[4,"ngIf"],["class","appbackground",4,"ngIf"],[1,"heading"],["nz-icon","",1,"trigger",3,"nzType","click"],[1,"appbackground"],[1,"flex","space-between","center",2,"flex-wrap","wrap"],[1,"flex","center"],[1,"header-text"],["nz-button","",1,"header-button",3,"click"],["nz-icon","","nzType","down"],[3,"visible","closeDrawer"],["nz-button","","nzType","text","nz-dropdown","",1,"userbtn",3,"nzDropdownMenu"],[2,"background-color","#f56a00","margin-right","5px",3,"nzText"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-button","","nzType","text",3,"click"],["nz-menu-item","","nz-button","","nzType","text"],[1,"content-main"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"nz-layout",1)(2,"nz-sider",2),q("nzCollapsedChange",function(k){return Z(o.isCollapsed,k)||(o.isCollapsed=k),k}),r(3,"span",3)(4,"div")(5,"span",4),f(6,"img",5),C(7,He,2,0,"span",6),a(),C(8,Ze,1,3,"span",7),a()(),r(9,"ul",8)(10,"li",9),f(11,"span",10),r(12,"span")(13,"a",11),u("click",function(){return o.isCollapsed=!0}),c(14," Dashboard "),a()()(),r(15,"li",12)(16,"ul")(17,"li",9)(18,"a",13),u("click",function(){return o.isCollapsed=!0}),c(19," Stock Details "),a()(),r(20,"li",9)(21,"a",13),u("click",function(){return o.isCollapsed=!0}),c(22," Inventory "),a()(),r(23,"li",9)(24,"a",13),u("click",function(){return o.isCollapsed=!0}),c(25," Vendors "),a()()()(),r(26,"li",14)(27,"ul")(28,"li",9),c(29,"Add Contractor"),a(),r(30,"li",9),c(31,"Inquire Details"),a()()(),r(32,"li",9),f(33,"span",15),r(34,"span")(35,"a",11),u("click",function(){return o.isCollapsed=!0}),c(36," Sites "),a()()(),r(37,"li",16)(38,"ul")(39,"li",9)(40,"a",17),c(41," Users "),a()(),r(42,"li",9)(43,"a",17),c(44," Permissions "),a()()()()(),C(45,qe,2,0,"nz-footer",18),a(),C(46,Xe,25,7,"nz-layout",19),a()()),i&2&&(s(2),H("nzCollapsed",o.isCollapsed),l("nzTrigger",null)("nzWidth",!o.isCollapsed&&o.isMobile()?"100%":"200px")("nzCollapsedWidth",55),s(2),V(o.isCollapsed?"padding-left:2px":"padding-left:24px"),T(o.isCollapsed?"logo flex center space-around":"logo flex center space-between"),s(3),l("ngIf",!o.isCollapsed),s(),l("ngIf",!o.isCollapsed&&o.isMobile()),s(5),l("routerLink",m(26,Je))("state",m(27,Fe)),s(5),l("routerLink",m(28,Ye))("state",m(29,I)),s(3),l("routerLink",m(30,$e))("state",m(31,I)),s(3),l("routerLink",m(32,Ge))("state",m(33,I)),s(11),l("routerLink",m(34,Ke))("state",m(35,Fe)),s(5),l("routerLink",m(36,Qe))("state",m(37,et)),s(3),l("routerLink",m(38,tt))("state",m(39,I)),s(2),l("ngIf",!o.isCollapsed),s(),l("ngIf",!o.isMobile()||o.isCollapsed&&o.isMobile()))},dependencies:[J,K,Q,le,de,O,ue,oe,me,pe,ce,ge,he,fe,Me,ve,xe,Se,ye,Ne],styles:[".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:50px;padding:0 16px;margin-top:3px;cursor:pointer;transition:color .3s}.ant-layout-header[_ngcontent-%COMP%]{line-height:50px;height:56px}.header-text[_ngcontent-%COMP%]{letter-spacing:2px;text-transform:uppercase;color:#fff;margin:auto}.logo[_ngcontent-%COMP%]{height:32px;margin-top:12px;margin-bottom:12px!important;padding-left:24px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:32px}.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 56px);background:inherit!important}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;padding-top:5px;padding-bottom:5px}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{border-bottom:1px solid #343434;background:#88949f87;font-size:16px!important;margin-bottom:0!important;margin-top:0!important}@media (max-width: 600px){.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 72px)}.ant-layout-header[_ngcontent-%COMP%]{height:72px;line-height:22px}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{border-bottom:1px solid #343434;background:#88949f87;font-size:16px!important;margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.anticon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{line-height:1;font-size:16px!important}.trigger[_ngcontent-%COMP%]{line-height:33px;margin-top:3px}.logo[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important;margin:0;padding-left:24px}}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}nz-header[_ngcontent-%COMP%]{background:#ffffff82;padding:0;color:#fff}nz-content[_ngcontent-%COMP%]{padding:0 16px;overflow:auto}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;min-height:360px}nz-footer[_ngcontent-%COMP%]{padding:5px;color:#fff;font-size:9px;background:#f0f2f51f;position:absolute;bottom:0;width:100%}.app-shell[_ngcontent-%COMP%], app-shell[_ngcontent-%COMP%]{width:100%!important}.userbtn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;padding:0!important;color:#fff}.full-width[_ngcontent-%COMP%]{width:100%!important}.nav-link[_ngcontent-%COMP%]{color:#fff}.lightFont[_ngcontent-%COMP%]{color:#fff!important}.heading[_ngcontent-%COMP%]{font-family:revert;color:#fff;font-weight:800;font-size:22px;white-space:pre;letter-spacing:.4em}"]});let e=t;return e})();var nt=[{path:"",component:Ee,children:[{path:"",loadChildren:()=>import("./chunk-T6LVZFGT.js").then(e=>e.DashboardModule),data:{name:"Dashboard"}},{path:"team",loadChildren:()=>import("./chunk-ILHBVFCI.js").then(e=>e.TeamModule),data:{name:"Team"}},{path:"sites",loadChildren:()=>import("./chunk-BG4SP2VE.js").then(e=>e.SitesModule),data:{name:"Sites"}},{path:"purchase",loadChildren:()=>import("./chunk-CLFM2KQS.js").then(e=>e.PurchaseModule),data:{name:"Purchase"}},{path:"vendor",loadChildren:()=>import("./chunk-OTPZDWDC.js").then(e=>e.VendorModule),data:{name:"Vendor"}},{path:"inventory",loadChildren:()=>import("./chunk-HSK46DWX.js").then(e=>e.InventoryManagementModule),data:{name:"Inventory"}}]}],Ve=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v({type:t}),t.\u0275inj=y({imports:[D.forChild(nt),D]});let e=t;return e})();X(Pe);var Le=ne,ot=Object.keys(Le).map(e=>Le[e]),Jt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v({type:t}),t.\u0275inj=y({providers:[{provide:Ce,useValue:ze},{provide:ie,useValue:ot}],imports:[Y,ae,$,G,se,Ve,De]});let e=t;return e})();export{Jt as a};
