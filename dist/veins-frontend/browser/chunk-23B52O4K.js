import{a as Ve}from"./chunk-NGE6N3H6.js";import{b as ae,c as T}from"./chunk-HRJXDA5B.js";import{$ as W,$a as ce,$b as Ie,A as w,Ab as be,Ba as G,Bb as ve,Cb as Se,Db as xe,Dc as Re,Fa as K,K as r,L as z,Ma as Q,Na as ee,O as C,Ob as ye,P as l,Pb as Me,Q as V,R as h,Ra as te,S as L,Sa as ne,T as I,Ta as ie,U as j,Ua as oe,V as A,Va as re,W as B,Wb as Oe,X as U,Xa as D,Xb as we,Y as i,Ya as se,Yb as ke,Z as s,Za as le,Zb as Te,_ as g,_a as pe,_b as Pe,aa as H,ba as S,bc as De,ca as m,cc as Fe,da as f,dc as Ee,ec as Ne,ha as Z,ia as u,ka as k,l as N,ma as q,mb as me,na as X,oa as J,ob as ue,pa as c,pb as de,qa as Y,r as R,s as M,t as O,tb as ge,ub as fe,vb as he,w as b,wb as P,x as v,xb as _e,yb as ze,za as $,zb as Ce}from"./chunk-6KWXZKYL.js";import{a as E,g as y}from"./chunk-MON7YFGF.js";function Ze(t,o){if(t&1){let p=S();i(0,"nz-list-item",3),m("click",function(){let e=b(p).$implicit,d=f(2);return v(d.setSubOrganization(e))}),i(1,"nz-list-item-meta",4)(2,"nz-list-item-meta-title"),u(3),s()()()}if(t&2){let p=o.$implicit;r(3),k(" ",p.name," ")}}function qe(t,o){t&1&&g(0,"nz-list-empty")}function Xe(t,o){if(t&1&&(W(0),i(1,"nz-list",2),B(2,Ze,4,1,"nz-list-item",5,A),C(4,qe,1,0,"nz-list-empty"),s(),H()),t&2){let p=f();r(),l("nzLoading",p.loading),r(),U(p.data),r(2),j(4,p.data.length===0?4:-1)}}var Le=(()=>{let o=class o{constructor(n){this.appService=n,this.loading=!1,this.data=[],this.visible=!1,this.closeDrawer=new R}ngOnInit(){this.getAndSetSubOrganizations()}close(){this.closeDrawer.emit(!0)}getAndSetSubOrganizations(){return y(this,null,function*(){this.loading=!0,this.data=yield this.appService.getSubOrganizations(!0),this.loading=!1})}setSubOrganization(n){this.appService.setSubOrganization(n),this.closeDrawer.emit(!0)}};o.\u0275fac=function(a){return new(a||o)(z(T))},o.\u0275cmp=M({type:o,selectors:[["app-organization-selector"]],inputs:{visible:"visible"},outputs:{closeDrawer:"closeDrawer"},decls:2,vars:2,consts:[["nzPlacement","right","nzTitle","Organizations",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["nzItemLayout","horizontal",3,"nzLoading"],["nz-button","","nzType","text",3,"click"],["nzAvatar","https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png","nzDescription",""],["nz-button","","nzType","text"]],template:function(a,e){a&1&&(i(0,"nz-drawer",0),m("nzOnClose",function(){return e.close()}),C(1,Xe,5,2,"ng-container",1),s()),a&2&&l("nzClosable",!1)("nzVisible",e.visible)},dependencies:[P,Me,ye,Ee,Fe,Ne,De,Ie]});let t=o;return t})();function Ye(t,o){t&1&&(i(0,"span",24),u(1," VEINS "),s())}function $e(t,o){if(t&1){let p=S();i(0,"span",25),m("click",function(){b(p);let a=f();return v(a.isCollapsed=!a.isCollapsed)}),s()}if(t&2){let p=f();I(!p.isCollapsed&&p.isMobile()?"lightFont":"darkFont"),l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function Ge(t,o){t&1&&(i(0,"nz-footer"),u(1,"Veins system \xA92024 Implement By SA3"),s())}function Ke(t,o){if(t&1){let p=S();i(0,"span",40),m("click",function(){b(p);let a=f(2);return v(a.isCollapsed=!a.isCollapsed)}),s()}if(t&2){let p=f(2);l("nzType",p.isCollapsed?"menu-unfold":"menu-fold")}}function Qe(t,o){if(t&1){let p=S();i(0,"nz-layout",26)(1,"nz-header")(2,"div",27)(3,"span",28),C(4,Ke,1,1,"span",29),s(),i(5,"span",4)(6,"span")(7,"button",30),m("click",function(){b(p);let a=f();return v(a.toggleOrganizations())}),u(8),g(9,"span",31),s(),i(10,"app-organization-selector",32),m("closeDrawer",function(){b(p);let a=f();return v(a.toggleOrganizations())}),s()(),i(11,"button",33),g(12,"nz-avatar",34)(13,"span",31),s(),i(14,"nz-dropdown-menu",null,35)(16,"ul",36)(17,"li",37),m("click",function(){b(p);let a=f();return v(a.logout())}),u(18,"Logout "),s(),i(19,"li",38),u(20,"Change Password"),s()()()()()(),i(21,"nz-content",39),g(22,"router-outlet"),s()()}if(t&2){let p=Z(15),n=f();r(4),l("ngIf",n.isMobile()),r(),V("width",n.isMobile()?"100%":"auto"),r(3),k(" ",n.currentSubOrganization.name," "),r(2),l("visible",n.showOrganizations),r(),l("nzDropdownMenu",p),r(),l("nzText",n.getUserInitials(n.loggedInUser.name))}}var et=()=>["/"],_=()=>({tracingId:123}),tt=()=>["/purchase"],nt=()=>["/inventory"],it=()=>["/vendor"],ot=()=>["/sites"],rt=()=>["/employee"],at=t=>["/employee",t,"attendance"],st=()=>["/employee","pay-processing"],lt=()=>["/team"],pt=()=>["/team/roles"],je=(()=>{let o=class o{constructor(n,a,e,d,x,Ue){this.userService=n,this.appService=a,this.fb=e,this.media=d,this.router=x,this.route=Ue,this.isCollapsed=!1,this.isMobileDevice=!0,this.loggedInUser={},this.sites=[],this.site={},this.showOrganizations=!1,this.currentRoutes=[],this.siteForm=this.fb.group({site:[]})}ngOnInit(){this.loggedInUser=this.userService.getUserDetails(),this.setSitesData(),this.onSiteChange(),this.extractRoutePath(this.router.url),this.router.events.pipe(N(n=>n instanceof te)).subscribe(n=>{this.currentUrl=n.url,this.extractRoutePath(this.currentUrl)})}extractRoutePath(n){n=n.replace(/(https?:\/\/[^\/]+)?\/?/,""),this.currentRoutes=n.split("/").filter(a=>a)}toggleOrganizations(){this.showOrganizations=!this.showOrganizations}onSiteChange(){this.siteSubscription=this.siteForm.valueChanges.subscribe(n=>{this.setCurrentSite(n.site)}),this.subOrgSubscription=this.appService.currentSubOrganization.subscribe(n=>{this.currentSubOrganization=n})}setSitesData(){return y(this,null,function*(){let n=yield this.appService.getAndSetSites(),a=n&&n.length?n.map(e=>E({label:e.name},e)):[];this.sites=[...a],this.appService.setSites(this.sites),this.siteForm.patchValue({site:this.sites[0]}),this.setCurrentSite(void 0)})}setCurrentSite(n){this.appService.setCurrentSite(n||this.sites[0])}logout(){this.userService.logout()}ngOnDestroy(){this.siteSubscription&&this.siteSubscription.unsubscribe(),this.subOrgSubscription&&this.subOrgSubscription.unsubscribe()}getUserInitials(n){return n.trim().split(" ").map(d=>d.charAt(0)).join("").toUpperCase()}isMobile(){return this.media.matchMedia("(max-width: 600px)").matches}};o.\u0275fac=function(a){return new(a||o)(z(ae),z(T),z(me),z(se),z(oe),z(ne))},o.\u0275cmp=M({type:o,selectors:[["app-shell"]],decls:67,vars:73,consts:[[1,"app-shell"],[2,"height","100%"],["nzCollapsible","",1,"appbackground",3,"nzCollapsed","nzTrigger","nzWidth","nzCollapsedWidth","nzCollapsedChange"],[2,"display","flow-root"],[1,"flex","center","space-between"],["src","../../../assets/veins-ico.png","alt",""],["class","heading",4,"ngIf"],["class","trigger","nz-icon","",3,"nzType","class","click",4,"ngIf"],[1,"sideMenuItems"],["nz-menu","","nzTheme","dark","nzMode","inline"],["nz-menu-item",""],["nz-icon","","nzType","bar-chart",2,"font-size","18px"],[1,"nav-link",3,"routerLink","state","click"],["nz-icon","","nzType","pull-request",2,"font-size","18px"],["nz-icon","","nzType","appstore",2,"font-size","18px"],["nz-icon","","nzType","profile",2,"font-size","18px"],["nz-menu-item","",2,"margin-top","12px"],["nz-icon","","nzType","build","size","",2,"font-size","18px"],["nz-icon","","nzType","profile","size","",2,"font-size","18px"],["nz-icon","","nzType","schedule","size","",2,"font-size","18px"],["nz-icon","","nzType","team","size","",2,"font-size","18px"],["nz-icon","","nzType","sliders","size","",2,"font-size","18px"],[4,"ngIf"],["class","appbackground",4,"ngIf"],[1,"heading"],["nz-icon","",1,"trigger",3,"nzType","click"],[1,"appbackground"],[1,"flex","space-between","center",2,"flex-wrap","wrap"],[1,"flex","center"],["class","trigger","nz-icon","","style","font-size: 18px;",3,"nzType","click",4,"ngIf"],["nz-button","",1,"header-button",3,"click"],["nz-icon","","nzType","down",2,"font-size","18px"],[3,"visible","closeDrawer"],["nz-button","","nzType","text","nz-dropdown","",1,"userbtn",3,"nzDropdownMenu"],[2,"background-color","#f56a00","margin-right","5px",3,"nzText"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-button","","nzType","text",3,"click"],["nz-menu-item","","nz-button","","nzType","text"],[1,"content-main"],["nz-icon","",1,"trigger",2,"font-size","18px",3,"nzType","click"]],template:function(a,e){a&1&&(i(0,"div",0)(1,"nz-layout",1)(2,"nz-sider",2),J("nzCollapsedChange",function(x){return X(e.isCollapsed,x)||(e.isCollapsed=x),x}),i(3,"span",3)(4,"div")(5,"span",4),g(6,"img",5),C(7,Ye,2,0,"span",6),s(),C(8,$e,1,3,"span",7),s()(),i(9,"div",8)(10,"ul",9)(11,"li",10),g(12,"span",11),i(13,"span")(14,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(15," Dashboard "),s()()()(),i(16,"ul",9)(17,"li",10),g(18,"span",13),i(19,"span")(20,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(21," Purchase & Sales "),s()()(),i(22,"li",10),g(23,"span",14),i(24,"span")(25,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(26," Inventory "),s()()(),i(27,"li",10),g(28,"span",15),i(29,"span")(30,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(31," Vendors "),s()()()(),i(32,"ul",9)(33,"li",16),g(34,"span",17),i(35,"span")(36,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(37," Sites "),s()()()(),i(38,"ul",9)(39,"li",16),g(40,"span",18),i(41,"span")(42,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(43," Employee "),s()()(),i(44,"li",16),g(45,"span",19),i(46,"span")(47,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(48," Attendance "),s()()(),i(49,"li",16),g(50,"span",19),i(51,"span")(52,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(53," Payments "),s()()()(),i(54,"ul",9)(55,"li",16),g(56,"span",20),i(57,"span")(58,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(59," Users "),s()()(),i(60,"li",16),g(61,"span",21),i(62,"span")(63,"a",12),m("click",function(){return e.isMobile()?e.isCollapsed=!0:null}),u(64," Permissions "),s()()()()(),C(65,Ge,2,0,"nz-footer",22),s(),C(66,Qe,23,7,"nz-layout",23),s()()),a&2&&(r(2),q("nzCollapsed",e.isCollapsed),l("nzTrigger",null)("nzWidth",!e.isCollapsed&&e.isMobile()?"100%":"200px")("nzCollapsedWidth",65),r(2),L((e.isCollapsed,"padding-left:12px")),I(e.isCollapsed?"logo flex center space-around":"logo flex center space-between"),r(3),l("ngIf",!e.isCollapsed),r(),l("ngIf",!e.isCollapsed&&e.isMobile()),r(3),h("selected-route",e.currentRoutes.length==0),r(3),l("routerLink",c(52,et))("state",c(53,_)),r(3),h("selected-route",e.currentRoutes.indexOf("purchase")>-1),r(3),l("routerLink",c(54,tt))("state",c(55,_)),r(2),h("selected-route",e.currentRoutes.indexOf("inventory")>-1),r(3),l("routerLink",c(56,nt))("state",c(57,_)),r(2),h("selected-route",e.currentRoutes.indexOf("vendor")>-1),r(3),l("routerLink",c(58,it))("state",c(59,_)),r(3),h("selected-route",e.currentRoutes.indexOf("sites")>-1),r(3),l("routerLink",c(60,ot))("state",c(61,_)),r(3),h("selected-route",e.currentRoutes.indexOf("employee")>-1&&e.currentRoutes.indexOf("attendance")===-1&&e.currentRoutes.indexOf("pay-processing")===-1),r(3),l("routerLink",c(62,rt))("state",c(63,_)),r(2),h("selected-route",e.currentRoutes.indexOf("attendance")>-1),r(3),l("routerLink",Y(64,at,e.loggedInUser.id))("state",c(66,_)),r(2),h("selected-route",e.currentRoutes.indexOf("pay-processing")>-1),r(3),l("routerLink",c(67,st))("state",c(68,_)),r(3),h("selected-route",e.currentRoutes.indexOf("team")>-1&&e.currentRoutes.indexOf("roles")==-1),r(3),l("routerLink",c(69,lt))("state",c(70,_)),r(2),h("selected-route",e.currentRoutes.indexOf("team")>-1&&e.currentRoutes.indexOf("roles")>-1),r(3),l("routerLink",c(71,pt))("state",c(72,_)),r(2),l("ngIf",!e.isCollapsed),r(),l("ngIf",!e.isMobile()||e.isCollapsed&&e.isMobile()))},dependencies:[G,ie,re,ge,ze,P,_e,ce,he,fe,Ce,ve,be,Pe,ke,Oe,we,Te,Le],styles:[".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:50px;padding:0 16px;margin-top:3px;cursor:pointer;transition:color .3s}.ant-layout-header[_ngcontent-%COMP%]{line-height:42px;height:42px;border-bottom:.1px solid #80808017}.header-text[_ngcontent-%COMP%]{letter-spacing:2px;text-transform:uppercase;margin:auto}.logo[_ngcontent-%COMP%]{height:32px;margin-top:5px;margin-bottom:5px!important;padding-left:24px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px}.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 56px);background:#21263c}.ant-menu-inline[_ngcontent-%COMP%]{background:inherit!important}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;padding-top:5px;padding-bottom:5px}.ant-menu-item[_ngcontent-%COMP%]:hover, .ant-menu-submenu[_ngcontent-%COMP%]:hover{background:#343434;color:#c9c6c6}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{margin:0 8px!important;width:auto!important;border-radius:8px;padding-left:12px!important;font-size:12px!important;height:32px}.ant-menu-item-selected[_ngcontent-%COMP%]{background:inherit!important}.selected-route[_ngcontent-%COMP%]{background:#bb86fc!important}ul[_ngcontent-%COMP%]{margin-top:10px}@media (max-width: 600px){.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 72px)}.ant-layout-header[_ngcontent-%COMP%]{height:72px;line-height:22px}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.selected-route[_ngcontent-%COMP%]{background:#bb86fc!important}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{border-bottom:1px solid #343434;margin:0!important;font-size:16px!important;min-height:60px;padding-top:10px;padding-left:20px!important;border-radius:0!important}.anticon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{line-height:1;font-size:16px!important}.trigger[_ngcontent-%COMP%]{line-height:33px;margin-top:3px}.logo[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important;margin:0;padding-left:24px}}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}nz-header[_ngcontent-%COMP%]{padding:0}nz-content[_ngcontent-%COMP%]{background:#fff;padding:6px;overflow:auto}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{padding:24px;min-height:360px}nz-footer[_ngcontent-%COMP%]{padding:5px;color:#fff;font-size:9px;background:inherit;position:absolute;bottom:0;width:100%}.app-shell[_ngcontent-%COMP%], app-shell[_ngcontent-%COMP%]{width:100%!important}.userbtn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;padding:0!important;color:#fff}.full-width[_ngcontent-%COMP%]{width:100%!important}.nav-link[_ngcontent-%COMP%]{color:#fff}.lightFont[_ngcontent-%COMP%]{color:#fff!important}.heading[_ngcontent-%COMP%]{font-family:revert;color:#fff;font-weight:800;font-size:16px;white-space:pre;letter-spacing:.4em}"]});let t=o;return t})();var ct=[{path:"",component:je,children:[{path:"",loadChildren:()=>import("./chunk-UEBEXL76.js").then(t=>t.DashboardModule),data:{name:"Dashboard"}},{path:"team",loadChildren:()=>import("./chunk-DP7TR3J4.js").then(t=>t.TeamModule),data:{name:"Team"}},{path:"sites",loadChildren:()=>import("./chunk-ASPQ3SHV.js").then(t=>t.SitesModule),data:{name:"Sites"}},{path:"purchase",loadChildren:()=>import("./chunk-64C6HK3T.js").then(t=>t.PurchaseModule),data:{name:"Purchase"}},{path:"vendor",loadChildren:()=>import("./chunk-ONJOAYGU.js").then(t=>t.VendorModule),data:{name:"Vendor"}},{path:"inventory",loadChildren:()=>import("./chunk-WLLUMBSH.js").then(t=>t.InventoryManagementModule),data:{name:"Inventory"}},{path:"employee",loadChildren:()=>import("./chunk-AZR5Y6PJ.js").then(t=>t.EmployeeManagementModule),data:{name:"Employee"}}]}],Ae=(()=>{let o=class o{};o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=O({type:o}),o.\u0275inj=w({imports:[D.forChild(ct),D]});let t=o;return t})();$(Ve);var Be=le,ut=Object.keys(Be).map(t=>Be[t]),rn=(()=>{let o=class o{};o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=O({type:o}),o.\u0275inj=w({providers:[{provide:xe,useValue:Se},{provide:pe,useValue:ut}],imports:[K,ue,Q,ee,de,Ae,Re]});let t=o;return t})();export{rn as a};
