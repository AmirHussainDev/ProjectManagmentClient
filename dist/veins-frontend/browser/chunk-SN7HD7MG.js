import{a as Pe}from"./chunk-NGE6N3H6.js";import{b as ee,c as w}from"./chunk-733G2MTE.js";import{$ as U,$b as Oe,A as y,Ab as he,Ba as J,Bb as _e,Bc as De,Cb as ze,Fa as Y,K as s,L as C,Ma as $,Mb as Ce,Na as G,Nb as be,O as f,P as p,Q as E,Ra as K,S as V,T,Ta as Q,U as L,Ub as xe,V as j,Va as D,Vb as Se,W as A,Wa as te,Wb as ve,X as B,Xa as ne,Xb as ye,Y as r,Ya as ie,Yb as Me,Z as a,Za as oe,Zb as we,_ as h,aa as W,ac as Ie,ba as b,bc as ke,ca as u,cc as Te,da as g,ha as R,ia as c,ka as M,kb as re,ma as H,mb as ae,na as Z,nb as se,oa as q,pa as m,r as F,rb as le,s as S,sb as pe,t as v,tb as ce,ub as me,vb as O,w as _,wb as ue,x as z,xb as de,yb as ge,za as X,zb as fe}from"./chunk-YR6QF5UB.js";import{a as N,g as x}from"./chunk-MON7YFGF.js";function Be(e,t){if(e&1){let l=b();r(0,"nz-list-item",3),u("click",function(){let i=_(l).$implicit,d=g(2);return z(d.setSubOrganization(i))}),r(1,"nz-list-item-meta",4)(2,"nz-list-item-meta-title"),c(3),a()()()}if(e&2){let l=t.$implicit;s(3),M(" ",l.name," ")}}function Ue(e,t){e&1&&h(0,"nz-list-empty")}function We(e,t){if(e&1&&(U(0),r(1,"nz-list",2),A(2,Be,4,1,"nz-list-item",5,j),f(4,Ue,1,0,"nz-list-empty"),a(),W()),e&2){let l=g();s(),p("nzLoading",l.loading),s(),B(l.data),s(2),L(4,l.data.length===0?4:-1)}}var Ne=(()=>{let t=class t{constructor(n){this.appService=n,this.loading=!1,this.data=[],this.visible=!1,this.closeDrawer=new F}ngOnInit(){this.getAndSetSubOrganizations()}close(){this.closeDrawer.emit(!0)}getAndSetSubOrganizations(){return x(this,null,function*(){this.loading=!0,this.data=yield this.appService.getSubOrganizations(!0),this.loading=!1})}setSubOrganization(n){this.appService.setSubOrganization(n),this.closeDrawer.emit(!0)}};t.\u0275fac=function(o){return new(o||t)(C(w))},t.\u0275cmp=S({type:t,selectors:[["app-organization-selector"]],inputs:{visible:"visible"},outputs:{closeDrawer:"closeDrawer"},decls:2,vars:2,consts:[["nzPlacement","right","nzTitle","Organizations",3,"nzClosable","nzVisible","nzOnClose"],[4,"nzDrawerContent"],["nzItemLayout","horizontal",3,"nzLoading"],["nz-button","","nzType","text",3,"click"],["nzAvatar","https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png","nzDescription",""],["nz-button","","nzType","text"]],template:function(o,i){o&1&&(r(0,"nz-drawer",0),u("nzOnClose",function(){return i.close()}),f(1,We,5,2,"ng-container",1),a()),o&2&&p("nzClosable",!1)("nzVisible",i.visible)},dependencies:[O,be,Ce,ke,Ie,Te,Oe,we]});let e=t;return e})();function He(e,t){e&1&&(r(0,"span",20),c(1," VEINS "),a())}function Ze(e,t){if(e&1){let l=b();r(0,"span",21),u("click",function(){_(l);let o=g();return z(o.isCollapsed=!o.isCollapsed)}),a()}if(e&2){let l=g();T(!l.isCollapsed&&l.isMobile()?"lightFont":"darkFont"),p("nzType",l.isCollapsed?"menu-unfold":"menu-fold")}}function qe(e,t){e&1&&(r(0,"nz-footer"),c(1,"Veins system \xA92024 Implement By SA3"),a())}function Xe(e,t){if(e&1){let l=b();r(0,"span",21),u("click",function(){_(l);let o=g(2);return z(o.isCollapsed=!o.isCollapsed)}),a()}if(e&2){let l=g(2);p("nzType",l.isCollapsed?"menu-unfold":"menu-fold")}}function Je(e,t){if(e&1){let l=b();r(0,"nz-layout",22)(1,"nz-header")(2,"div",23)(3,"span",24),f(4,Xe,1,1,"span",25),r(5,"h3",26),c(6,"Home"),a()(),r(7,"span",4)(8,"span")(9,"button",27),u("click",function(){_(l);let o=g();return z(o.toggleOrganizations())}),c(10),h(11,"span",28),a(),r(12,"app-organization-selector",29),u("closeDrawer",function(){_(l);let o=g();return z(o.toggleOrganizations())}),a()(),r(13,"button",30),h(14,"nz-avatar",31)(15,"span",28),a(),r(16,"nz-dropdown-menu",null,32)(18,"ul",33)(19,"li",34),u("click",function(){_(l);let o=g();return z(o.logout())}),c(20,"Logout "),a(),r(21,"li",35),c(22,"Change Password"),a()()()()()(),r(23,"nz-content",36),h(24,"router-outlet"),a()()}if(e&2){let l=R(17),n=g();s(4),p("ngIf",n.isMobile()),s(3),E("width",n.isMobile()?"100%":"auto"),s(3),M(" ",n.currentSubOrganization.name," "),s(2),p("visible",n.showOrganizations),s(),p("nzDropdownMenu",l),s(),p("nzText",n.getUserInitials(n.loggedInUser.name))}}var Ye=()=>["/"],Fe=()=>({tracingId:123}),$e=()=>["/purchase"],I=()=>({tracingId:2}),Ge=()=>["/inventory"],Ke=()=>["/vendor"],Qe=()=>["/sites"],et=()=>["/team"],tt=()=>({tracingId:1}),nt=()=>["/team/roles"],Ee=(()=>{let t=class t{constructor(n,o,i,d){this.userService=n,this.appService=o,this.fb=i,this.media=d,this.isCollapsed=!1,this.isMobileDevice=!0,this.loggedInUser={},this.sites=[],this.site={},this.showOrganizations=!1,this.siteForm=this.fb.group({site:[]})}ngOnInit(){this.loggedInUser=this.userService.getUserDetails(),this.setSitesData(),this.onSiteChange()}toggleOrganizations(){this.showOrganizations=!this.showOrganizations}onSiteChange(){this.siteSubscription=this.siteForm.valueChanges.subscribe(n=>{this.setCurrentSite(n.site)}),this.subOrgSubscription=this.appService.currentSubOrganization.subscribe(n=>{this.currentSubOrganization=n})}setSitesData(){return x(this,null,function*(){let n=yield this.appService.getAndSetSites(),o=n&&n.length?n.map(i=>N({label:i.name},i)):[];this.sites=[...o],this.appService.setSites(this.sites),this.siteForm.patchValue({site:this.sites[0]}),this.setCurrentSite(void 0)})}setCurrentSite(n){this.appService.setCurrentSite(n||this.sites[0])}logout(){this.userService.logout()}ngOnDestroy(){this.siteSubscription&&this.siteSubscription.unsubscribe(),this.subOrgSubscription&&this.subOrgSubscription.unsubscribe()}getUserInitials(n){return n.trim().split(" ").map(d=>d.charAt(0)).join("").toUpperCase()}isMobile(){return this.media.matchMedia("(max-width: 600px)").matches}};t.\u0275fac=function(o){return new(o||t)(C(ee),C(w),C(re),C(te))},t.\u0275cmp=S({type:t,selectors:[["app-shell"]],decls:47,vars:40,consts:[[1,"app-shell"],[2,"height","100%"],["nzCollapsible","",1,"appbackground",3,"nzCollapsed","nzTrigger","nzWidth","nzCollapsedWidth","nzCollapsedChange"],[2,"background","#ffffff82","display","flow-root"],[1,"flex","center","space-between"],["src","../../../assets/veins-ico.png","alt",""],["class","heading",4,"ngIf"],["class","trigger","nz-icon","",3,"nzType","class","click",4,"ngIf"],["nz-menu","","nzTheme","dark","nzMode","inline",1,"sideMenuItems"],["nz-menu-item",""],["nz-icon","","nzType","bar-chart"],[1,"nav-link",3,"routerLink","state","click"],["nz-submenu","","nzTitle","Stocks","nzIcon","appstore"],[3,"routerLink","state","click"],["nz-icon","","nzType","build"],["nz-submenu","","nzTitle","Employee","nzTheme","fill","nzIcon","reconciliation"],["nz-submenu","","nzTitle","Team","nzIcon","team"],[3,"routerLink","state"],[4,"ngIf"],["class","appbackground",4,"ngIf"],[1,"heading"],["nz-icon","",1,"trigger",3,"nzType","click"],[1,"appbackground"],[1,"flex","space-between","center",2,"flex-wrap","wrap"],[1,"flex","center"],["class","trigger","nz-icon","",3,"nzType","click",4,"ngIf"],[1,"header-text",2,"padding-left","16px"],["nz-button","",1,"header-button",3,"click"],["nz-icon","","nzType","down"],[3,"visible","closeDrawer"],["nz-button","","nzType","text","nz-dropdown","",1,"userbtn",3,"nzDropdownMenu"],[2,"background-color","#f56a00","margin-right","5px",3,"nzText"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","","nz-button","","nzType","text",3,"click"],["nz-menu-item","","nz-button","","nzType","text"],[1,"content-main"]],template:function(o,i){o&1&&(r(0,"div",0)(1,"nz-layout",1)(2,"nz-sider",2),q("nzCollapsedChange",function(k){return Z(i.isCollapsed,k)||(i.isCollapsed=k),k}),r(3,"span",3)(4,"div")(5,"span",4),h(6,"img",5),f(7,He,2,0,"span",6),a(),f(8,Ze,1,3,"span",7),a()(),r(9,"ul",8)(10,"li",9),h(11,"span",10),r(12,"span")(13,"a",11),u("click",function(){return i.isCollapsed=!0}),c(14," Dashboard "),a()()(),r(15,"li",12)(16,"ul")(17,"li",9)(18,"a",13),u("click",function(){return i.isMobile()?i.isCollapsed=!0:null}),c(19," Stock Details "),a()(),r(20,"li",9)(21,"a",13),u("click",function(){return i.isMobile()?i.isCollapsed=!0:null}),c(22," Inventory "),a()(),r(23,"li",9)(24,"a",13),u("click",function(){return i.isMobile()?i.isCollapsed=!0:null}),c(25," Vendors "),a()()()(),r(26,"li",9),h(27,"span",14),r(28,"span")(29,"a",11),u("click",function(){return i.isMobile()?i.isCollapsed=!0:null}),c(30," Sites "),a()()(),r(31,"li",15)(32,"ul")(33,"li",9),c(34,"Add Contractor"),a(),r(35,"li",9),c(36,"Inquire Details"),a()()(),r(37,"li",16)(38,"ul")(39,"li",9)(40,"a",17),c(41," Users "),a()(),r(42,"li",9)(43,"a",17),c(44," Permissions "),a()()()()(),f(45,qe,2,0,"nz-footer",18),a(),f(46,Je,25,7,"nz-layout",19),a()()),o&2&&(s(2),H("nzCollapsed",i.isCollapsed),p("nzTrigger",null)("nzWidth",!i.isCollapsed&&i.isMobile()?"100%":"200px")("nzCollapsedWidth",55),s(2),V(i.isCollapsed?"padding-left:2px":"padding-left:24px"),T(i.isCollapsed?"logo flex center space-around":"logo flex center space-between"),s(3),p("ngIf",!i.isCollapsed),s(),p("ngIf",!i.isCollapsed&&i.isMobile()),s(5),p("routerLink",m(26,Ye))("state",m(27,Fe)),s(5),p("routerLink",m(28,$e))("state",m(29,I)),s(3),p("routerLink",m(30,Ge))("state",m(31,I)),s(3),p("routerLink",m(32,Ke))("state",m(33,I)),s(5),p("routerLink",m(34,Qe))("state",m(35,Fe)),s(11),p("routerLink",m(36,et))("state",m(37,tt)),s(3),p("routerLink",m(38,nt))("state",m(39,I)),s(2),p("ngIf",!i.isCollapsed),s(),p("ngIf",!i.isMobile()||i.isCollapsed&&i.isMobile()))},dependencies:[J,K,Q,le,de,O,ue,oe,me,pe,ce,ge,he,fe,Me,ve,xe,Se,ye,Ne],styles:[".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:50px;padding:0 16px;margin-top:3px;cursor:pointer;transition:color .3s}.ant-layout-header[_ngcontent-%COMP%]{line-height:50px;height:56px}.header-text[_ngcontent-%COMP%]{letter-spacing:2px;text-transform:uppercase;color:#fff;margin:auto}.logo[_ngcontent-%COMP%]{height:32px;margin-top:12px;margin-bottom:12px!important;padding-left:24px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:32px}.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 56px);background:inherit!important}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;padding-top:5px;padding-bottom:5px}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{border-bottom:1px solid #343434;background:#88949f87;font-size:16px!important;margin-bottom:0!important;margin-top:0!important}@media (max-width: 600px){.sideMenuItems[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - 72px)}.ant-layout-header[_ngcontent-%COMP%]{height:72px;line-height:22px}  .ant-menu-submenu-title{margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.ant-menu-item[_ngcontent-%COMP%], .ant-menu-submenu[_ngcontent-%COMP%]{border-bottom:1px solid #343434;background:#88949f87;font-size:16px!important;margin-bottom:0!important;margin-top:0!important;min-height:60px;padding-top:10px}.anticon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{line-height:1;font-size:16px!important}.trigger[_ngcontent-%COMP%]{line-height:33px;margin-top:3px}.logo[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:20px!important;margin:0;padding-left:24px}}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}nz-header[_ngcontent-%COMP%]{background:#ffffff82;padding:0;color:#fff}nz-content[_ngcontent-%COMP%]{padding:6px;overflow:auto}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;min-height:360px}nz-footer[_ngcontent-%COMP%]{padding:5px;color:#fff;font-size:9px;background:#f0f2f51f;position:absolute;bottom:0;width:100%}.app-shell[_ngcontent-%COMP%], app-shell[_ngcontent-%COMP%]{width:100%!important}.userbtn[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;padding:0!important;color:#fff}.full-width[_ngcontent-%COMP%]{width:100%!important}.nav-link[_ngcontent-%COMP%]{color:#fff}.lightFont[_ngcontent-%COMP%]{color:#fff!important}.heading[_ngcontent-%COMP%]{font-family:revert;color:#fff;font-weight:800;font-size:22px;white-space:pre;letter-spacing:.4em}"]});let e=t;return e})();var it=[{path:"",component:Ee,children:[{path:"",loadChildren:()=>import("./chunk-H6F3S3Q2.js").then(e=>e.DashboardModule),data:{name:"Dashboard"}},{path:"team",loadChildren:()=>import("./chunk-C2TPCAYV.js").then(e=>e.TeamModule),data:{name:"Team"}},{path:"sites",loadChildren:()=>import("./chunk-AOKRSALX.js").then(e=>e.SitesModule),data:{name:"Sites"}},{path:"purchase",loadChildren:()=>import("./chunk-AIJBTHPG.js").then(e=>e.PurchaseModule),data:{name:"Purchase"}},{path:"vendor",loadChildren:()=>import("./chunk-GOQYVYNJ.js").then(e=>e.VendorModule),data:{name:"Vendor"}},{path:"inventory",loadChildren:()=>import("./chunk-DVHPY7DK.js").then(e=>e.InventoryManagementModule),data:{name:"Inventory"}}]}],Ve=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=v({type:t}),t.\u0275inj=y({imports:[D.forChild(it),D]});let e=t;return e})();X(Pe);var Le=ne,rt=Object.keys(Le).map(e=>Le[e]),Yt=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=v({type:t}),t.\u0275inj=y({providers:[{provide:ze,useValue:_e},{provide:ie,useValue:rt}],imports:[Y,ae,$,G,se,Ve,De]});let e=t;return e})();export{Yt as a};
