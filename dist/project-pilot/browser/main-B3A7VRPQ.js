import{a as me}from"./chunk-R7TOIYWQ.js";import{a as fe}from"./chunk-H5X5S5PB.js";import"./chunk-NGE6N3H6.js";import"./chunk-65TANLOM.js";import{b as he}from"./chunk-MXRUSZEU.js";import"./chunk-HUCT2AA2.js";import{a as ue}from"./chunk-WES5WHKE.js";import"./chunk-UQBFF3T4.js";import"./chunk-US7SBZSK.js";import{B as y,Bb as se,D as A,F as h,Fb as j,G as d,Gb as ae,H as V,Hb as ce,Hd as D,I as a,K as H,L as g,O as Z,Qb as pe,Rb as le,T as $,V as K,Wa as T,X as I,Xa as k,Ya as Y,a as F,i as U,l as x,m as O,mb as Q,n as L,nb as v,o as l,p as W,pb as X,q as P,qb as ee,r as N,ra as G,rb as te,sa as J,sb as re,t as R,ta as q,tb as oe,u as f,v as E,vb as ne,wb as ie,x as u,y as z,z as B}from"./chunk-RYV5VKQF.js";var Me=[{path:"",loadChildren:()=>import("./chunk-24CUT7WT.js").then(e=>e.ShellModule),canActivate:[ue]},{path:"login",loadChildren:()=>import("./chunk-5L6PSZHS.js").then(e=>e.LoginModule)}],de=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=g({type:e})}static{this.\u0275inj=d({imports:[j.forRoot(Me),j]})}}return e})();var ge=(()=>{class e{constructor(){this.title="Eleware"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=H({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"main"],[1,"content"]],template:function(r,o){r&1&&(G(0,"main",0)(1,"div",1),q(2,"router-outlet"),J()())},dependencies:[se],styles:[`[_nghost-%COMP%] {
    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  

  .content[_ngcontent-%COMP%] {
    display: flex;
    width: 100%;
    justify-content: center;
    margin-bottom: 3rem;
    margin: auto;   
    
  }

  @media screen and (max-width: 650px) {
    .content[_ngcontent-%COMP%] {
      flex-direction: column;
      width: 100%;
    }
  }`]})}}return e})();var _=(()=>{class e{constructor(t,r,o){this.http=t,this.platformId=r,this.appService=o,this.appurl=ae.apiUrl}fetchIntegrationDetails(){return this.http.get(`${this.appurl}/currency/rates`).toPromise().then(t=>{v(this.platformId)&&localStorage.setItem("currency",JSON.stringify(t))}),this.http.get(`${this.appurl}/organizations`).toPromise().then(t=>{if(v(this.platformId)&&(localStorage.setItem("organizations",JSON.stringify(t)),t&&t.length&&t.some(r=>r.domain_name==location.hostname))){let r=t.find(o=>o.domain_name==location.hostname);localStorage.setItem("organization",JSON.stringify(r)),localStorage.setItem("organization_id",t.find(o=>o.domain_name==location.hostname).id),console.log("organization found"),this.appService.setCurrentOrganization(r)}})}static{this.\u0275fac=function(r){return new(r||e)(a(ee),a(I),a(pe))}}static{this.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var C="Service workers are disabled or not supported by this browser";function Ce(e){return P(()=>L(new Error(e)))}var w=class{constructor(n){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=Ce(C);else{let r=N(n,"controllerchange").pipe(l(()=>n.controller)),o=P(()=>O(n.controller)),s=W(o,r);this.worker=s.pipe(E(m=>!!m)),this.registration=this.worker.pipe(y(()=>n.getRegistration()));let b=N(n,"message").pipe(l(m=>m.data)).pipe(E(m=>m&&m.type)).pipe(B());b.connect(),this.events=b}}postMessage(n,t){return this.worker.pipe(u(1),A(r=>{r.postMessage(F({action:n},t))})).toPromise().then(()=>{})}postMessageWithOperation(n,t,r){let o=this.waitForOperationCompleted(r),s=this.postMessage(n,t);return Promise.all([s,o]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let t;return typeof n=="string"?t=r=>r.type===n:t=r=>n.includes(r.type),this.events.pipe(E(t))}nextEventOfType(n){return this.eventsOfType(n).pipe(u(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(E(t=>t.nonce===n),u(1),l(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},be=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new U,!t.isEnabled){this.messages=f,this.notificationClicks=f,this.subscription=f;return}this.messages=this.sw.eventsOfType("PUSH").pipe(l(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(l(o=>o.data)),this.pushManager=this.sw.registration.pipe(l(o=>o.pushManager));let r=this.pushManager.pipe(y(o=>o.getSubscription()));this.subscription=R(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(C));let r={userVisibleOnly:!0},o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let i=0;i<o.length;i++)s[i]=o.charCodeAt(i);return r.applicationServerKey=s,this.pushManager.pipe(y(i=>i.subscribe(r)),u(1)).toPromise().then(i=>(this.subscriptionChanges.next(i),i))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(u(1),y(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||e)(a(w))}}static{this.\u0275prov=h({token:e,factory:e.\u0275fac})}}return e})(),Ee=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=f,this.unrecoverable=f;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(C));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||e)(a(w))}}static{this.\u0275prov=h({token:e,factory:e.\u0275fac})}}return e})();var ve=new V("");function Oe(e,n,t,r){return()=>{if(!(v(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let o=e.get(K),s=e.get(k);o.runOutsideAngular(()=>{let c=navigator.serviceWorker,p=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",p),s.onDestroy(()=>{c.removeEventListener("controllerchange",p)})});let i;if(typeof t.registrationStrategy=="function")i=t.registrationStrategy();else{let[c,...p]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=O(null);break;case"registerWithDelay":i=we(+p[0]||0);break;case"registerWhenStable":let b=x(e.get(k).whenStable());i=p[0]?R(b,we(+p[0])):b;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}o.runOutsideAngular(()=>i.pipe(u(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function we(e){return O(null).pipe(z(e))}function Ae(e,n){return new w(v(n)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var M=class{};function Te(e,n={}){return Z([be,Ee,{provide:ve,useValue:e},{provide:M,useValue:n},{provide:w,useFactory:Ae,deps:[M,I]},{provide:T,useFactory:Oe,deps:[$,ve,M,I],multi:!0}])}var ye=(()=>{class e{static register(t,r={}){return{ngModule:e,providers:[Te(t,r)]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=g({type:e})}static{this.\u0275inj=d({providers:[be,Ee]})}}return e})();var Ie=(()=>{class e{constructor(t){this.userService=t}intercept(t,r){let o=localStorage.getItem("token")?.toString(),s=t.clone({setHeaders:{Authorization:`Bearer ${o}`}});return r.handle(s).pipe(A(i=>{i instanceof X},i=>{switch(i.status){case 401:this.userService.logout();break;case 500:break;case 600:break}console.error("Error Response:",i)}))}static{this.\u0275fac=function(r){return new(r||e)(a(ce))}}static{this.\u0275prov=h({token:e,factory:e.\u0275fac})}}return e})();var Pe=e=>()=>e.fetchIntegrationDetails(),Se=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=g({type:e,bootstrap:[ge]})}static{this.\u0275inj=d({providers:[_,{provide:T,useFactory:Pe,deps:[_],multi:!0},{provide:te,useClass:Ie,multi:!0},re(oe())],imports:[Q,ie,le,de,me,fe,D,he,ye.register("ngsw-worker.js",{enabled:!Y(),registrationStrategy:"registerWhenStable:30000"}),D]})}}return e})();ne().bootstrapModule(Se).catch(e=>console.error(e));
