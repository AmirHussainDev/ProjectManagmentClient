import{d as vt}from"./chunk-HO7FLDMT.js";var Lt=vt((kt,Mt)=>{"use strict";(function(yt){typeof Mt=="object"&&Mt.exports?(yt.default=yt,Mt.exports=yt):typeof define=="function"&&define.amd?define("highcharts/highcharts-more",["highcharts"],function(d){return yt(d),yt.Highcharts=d,yt}):yt(typeof Highcharts<"u"?Highcharts:void 0)})(function(yt){"use strict";var d=yt?yt._modules:{};function ot(p,u,S,f){p.hasOwnProperty(u)||(p[u]=f.apply(null,S),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:u,module:p[u]}})))}ot(d,"Extensions/Pane/PaneComposition.js",[d["Core/Utilities.js"]],function(p){let{addEvent:u,correctFloat:S,defined:f,pick:R}=p;function X(M){let m,r=this;return M&&r.pane.forEach(b=>{C(M.chartX-r.plotLeft,M.chartY-r.plotTop,b.center)&&(m=b)}),m}function C(M,m,r,b,e){let h=!0,n=r[0],o=r[1];if(f(b)&&f(e)){let t=Math.atan2(S(m-o,8),S(M-n,8));e!==b&&(h=b>e?t>=b&&t<=Math.PI||t<=e&&t>=-Math.PI:t>=b&&t<=S(e,8))}return Math.sqrt(Math.pow(M-n,2)+Math.pow(m-o,2))<=Math.ceil(r[2]/2)&&h}function j(M){this.polar&&(M.options.inverted&&([M.x,M.y]=[M.y,M.x]),M.isInsidePlot=this.pane.some(m=>C(M.x,M.y,m.center,m.axis&&m.axis.normalizedStartAngleRad,m.axis&&m.axis.normalizedEndAngleRad)))}function H(M){let m=this.chart;M.hoverPoint&&M.hoverPoint.plotX&&M.hoverPoint.plotY&&m.hoverPane&&!C(M.hoverPoint.plotX,M.hoverPoint.plotY,m.hoverPane.center)&&(M.hoverPoint=void 0)}function E(M){let m=this.chart;m.polar?(m.hoverPane=m.getHoverPane(M),M.filter=function(r){return r.visible&&!(!M.shared&&r.directTouch)&&R(r.options.enableMouseTracking,!0)&&(!m.hoverPane||r.xAxis.pane===m.hoverPane)}):m.hoverPane=void 0}return{compose:function(M,m){let r=M.prototype;r.getHoverPane||(r.collectionsWithUpdate.push("pane"),r.getHoverPane=X,u(M,"afterIsInsidePlot",j),u(m,"afterGetHoverData",H),u(m,"beforeGetHoverData",E))}}}),ot(d,"Extensions/Pane/PaneDefaults.js",[],function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}}),ot(d,"Extensions/Pane/Pane.js",[d["Series/CenteredUtilities.js"],d["Extensions/Pane/PaneComposition.js"],d["Extensions/Pane/PaneDefaults.js"],d["Core/Utilities.js"]],function(p,u,S,f){let{extend:R,merge:X,splat:C}=f;class j{constructor(E,M){this.coll="pane",this.init(E,M)}init(E,M){this.chart=M,this.background=[],M.pane.push(this),this.setOptions(E)}setOptions(E){this.options=E=X(S.pane,this.chart.angular?{background:{}}:void 0,E)}render(){let E=this.options,M=this.chart.renderer;this.group||(this.group=M.g("pane-group").attr({zIndex:E.zIndex||0}).add()),this.updateCenter();let m=this.options.background;if(m){let r=Math.max((m=C(m)).length,this.background.length||0);for(let b=0;b<r;b++)m[b]&&this.axis?this.renderBackground(X(S.background,m[b]),b):this.background[b]&&(this.background[b]=this.background[b].destroy(),this.background.splice(b,1))}}renderBackground(E,M){let m={class:"highcharts-pane "+(E.className||"")},r="animate";this.chart.styledMode||R(m,{fill:E.backgroundColor,stroke:E.borderColor,"stroke-width":E.borderWidth}),this.background[M]||(this.background[M]=this.chart.renderer.path().add(this.group),r="attr"),this.background[M][r]({d:this.axis.getPlotBandPath(E.from,E.to,E)}).attr(m)}updateCenter(E){this.center=(E||this.axis||{}).center=p.getCenter.call(this)}update(E,M){X(!0,this.options,E),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(m){m.pane===this&&(m.pane=null,m.update({},M))},this)}}return j.compose=u.compose,j}),ot(d,"Series/AreaRange/AreaRangePoint.js",[d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u){let{area:{prototype:{pointClass:S,pointClass:{prototype:f}}}}=p.seriesTypes,{defined:R,isNumber:X}=u;return class extends S{setState(){let C=this.state,j=this.series,H=j.chart.polar;R(this.plotHigh)||(this.plotHigh=j.yAxis.toPixels(this.high,!0)),R(this.plotLow)||(this.plotLow=this.plotY=j.yAxis.toPixels(this.low,!0)),j.lowerStateMarkerGraphic=j.stateMarkerGraphic,j.stateMarkerGraphic=j.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,H&&X(this.plotHighX)&&(this.plotX=this.plotHighX),f.setState.apply(this,arguments),this.state=C,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],H&&X(this.plotLowX)&&(this.plotX=this.plotLowX),j.upperStateMarkerGraphic=j.stateMarkerGraphic,j.stateMarkerGraphic=j.lowerStateMarkerGraphic,j.lowerStateMarkerGraphic=void 0;let E=j.modifyMarkerSettings();f.setState.apply(this,arguments),j.restoreMarkerSettings(E)}haloPath(){let C=this.series.chart.polar,j=[];return this.plotY=this.plotLow,C&&X(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(j=f.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,C&&X(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(j=j.concat(f.haloPath.apply(this,arguments))),j}isValid(){return X(this.low)&&X(this.high)}}}),ot(d,"Series/AreaRange/AreaRangeSeries.js",[d["Series/AreaRange/AreaRangePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S,f){let{noop:R}=u,{area:X,area:{prototype:C},column:{prototype:j}}=S.seriesTypes,{addEvent:H,defined:E,extend:M,isArray:m,isNumber:r,pick:b,merge:e}=f;class h extends X{toYData(o){return[o.low,o.high]}highToXY(o){let t=this.chart,a=this.xAxis.postTranslate(o.rectPlotX||0,this.yAxis.len-(o.plotHigh||0));o.plotHighX=a.x-t.plotLeft,o.plotHigh=a.y-t.plotTop,o.plotLowX=o.plotX}getGraphPath(o){let t=[],a=[],y=C.getGraphPath,L=this.options,B=this.chart.polar,x=B&&L.connectEnds!==!1,Y=L.connectNulls,T,k,i,s=L.step;for(T=(o=o||this.points).length;T--;){k=o[T];let N=B?{plotX:k.rectPlotX,plotY:k.yBottom,doCurve:!1}:{plotX:k.plotX,plotY:k.plotY,doCurve:!1};k.isNull||x||Y||o[T+1]&&!o[T+1].isNull||a.push(N),i={polarPlotY:k.polarPlotY,rectPlotX:k.rectPlotX,yBottom:k.yBottom,plotX:b(k.plotHighX,k.plotX),plotY:k.plotHigh,isNull:k.isNull},a.push(i),t.push(i),k.isNull||x||Y||o[T-1]&&!o[T-1].isNull||a.push(N)}let P=y.call(this,o);s&&(s===!0&&(s="left"),L.step={left:"right",center:"center",right:"left"}[s]);let g=y.call(this,t),A=y.call(this,a);L.step=s;let c=[].concat(P,g);return!this.chart.polar&&A[0]&&A[0][0]==="M"&&(A[0]=["L",A[0][1],A[0][2]]),this.graphPath=c,this.areaPath=P.concat(A),c.isArea=!0,c.xMap=P.xMap,this.areaPath.xMap=P.xMap,c}drawDataLabels(){let o,t,a,y,L,B=this.points,x=B.length,Y=[],T=this.options.dataLabels,k=this.chart.inverted;if(T){if(m(T)?(y=T[0]||{enabled:!1},L=T[1]||{enabled:!1}):((y=M({},T)).x=T.xHigh,y.y=T.yHigh,(L=M({},T)).x=T.xLow,L.y=T.yLow),y.enabled||this.hasDataLabels?.()){for(o=x;o--;)if(t=B[o]){let{plotHigh:i=0,plotLow:s=0}=t;a=y.inside?i<s:i>s,t.y=t.high,t._plotY=t.plotY,t.plotY=i,Y[o]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=a,k?y.align||(y.align=a?"right":"left"):y.verticalAlign||(y.verticalAlign=a?"top":"bottom")}for(this.options.dataLabels=y,C.drawDataLabels&&C.drawDataLabels.apply(this,arguments),o=x;o--;)(t=B[o])&&(t.dataLabelUpper=t.dataLabel,t.dataLabel=Y[o],delete t.dataLabels,t.y=t.low,t.plotY=t._plotY)}if(L.enabled||this.hasDataLabels?.()){for(o=x;o--;)if(t=B[o]){let{plotHigh:i=0,plotLow:s=0}=t;a=L.inside?i<s:i>s,t.below=!a,k?L.align||(L.align=a?"left":"right"):L.verticalAlign||(L.verticalAlign=a?"bottom":"top")}this.options.dataLabels=L,C.drawDataLabels&&C.drawDataLabels.apply(this,arguments)}if(y.enabled)for(o=x;o--;)(t=B[o])&&(t.dataLabels=[t.dataLabelUpper,t.dataLabel].filter(function(i){return!!i}));this.options.dataLabels=T}}alignDataLabel(){j.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let o={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:t,lowMarker:a}}=this;this.options.marker=e(t,a),a.symbol&&(this.symbol=a.symbol)}return o}restoreMarkerSettings(o){this.options.marker=o.marker,this.symbol=o.symbol}drawPoints(){let o,t,a=this.points.length,y=this.modifyMarkerSettings();for(C.drawPoints.apply(this,arguments),this.restoreMarkerSettings(y),o=0;o<a;)(t=this.points[o]).graphics=t.graphics||[],t.origProps={plotY:t.plotY,plotX:t.plotX,isInside:t.isInside,negative:t.negative,zone:t.zone,y:t.y},(t.graphic||t.graphics[0])&&(t.graphics[0]=t.graphic),t.graphic=t.graphics[1],t.plotY=t.plotHigh,E(t.plotHighX)&&(t.plotX=t.plotHighX),t.y=b(t.high,t.origProps.y),t.negative=t.y<(this.options.threshold||0),this.zones.length&&(t.zone=t.getZone()),this.chart.polar||(t.isInside=t.isTopInside=t.plotY!==void 0&&t.plotY>=0&&t.plotY<=this.yAxis.len&&t.plotX>=0&&t.plotX<=this.xAxis.len),o++;for(C.drawPoints.apply(this,arguments),o=0;o<a;)(t=this.points[o]).graphics=t.graphics||[],(t.graphic||t.graphics[1])&&(t.graphics[1]=t.graphic),t.graphic=t.graphics[0],t.origProps&&(M(t,t.origProps),delete t.origProps),o++}hasMarkerChanged(o,t){let a=o.lowMarker,y=t.lowMarker||{};return a&&(a.enabled===!1||y.symbol!==a.symbol||y.height!==a.height||y.width!==a.width)||super.hasMarkerChanged(o,t)}}return h.defaultOptions=e(X.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25CF</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),H(h,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(n=>{let o=n.high,t=n.plotY;n.isNull?n.plotY=void 0:(n.plotLow=t,n.plotHigh=r(o)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(o):o,!1,!0,void 0,!0):void 0,this.dataModify&&(n.yBottom=n.plotHigh))})},{order:0}),H(h,"afterTranslate",function(){this.points.forEach(n=>{if(this.chart.polar)this.highToXY(n),n.plotLow=n.plotY,n.tooltipPos=[((n.plotHighX||0)+(n.plotLowX||0))/2,((n.plotHigh||0)+(n.plotLow||0))/2];else{let o=n.pos(!1,n.plotLow),t=n.pos(!1,n.plotHigh);o&&t&&(o[0]=(o[0]+t[0])/2,o[1]=(o[1]+t[1])/2),n.tooltipPos=o}})},{order:3}),M(h.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:p,pointValKey:"low",setStackedPoints:R}),S.registerSeriesType("arearange",h),h}),ot(d,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[d["Series/AreaRange/AreaRangeSeries.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S){let{spline:{prototype:f}}=u.seriesTypes,{merge:R,extend:X}=S;class C extends p{}return C.defaultOptions=R(p.defaultOptions),X(C.prototype,{getPointSpline:f.getPointSpline}),u.registerSeriesType("areasplinerange",C),C}),ot(d,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}}),ot(d,"Series/BoxPlot/BoxPlotSeries.js",[d["Series/BoxPlot/BoxPlotSeriesDefaults.js"],d["Series/Column/ColumnSeries.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S,f,R){let{noop:X}=S,{extend:C,merge:j,pick:H}=R;class E extends u{pointAttribs(){return{}}translate(){let m=this.yAxis,r=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(b){r.forEach(function(e){b[e]!==null&&(b[e+"Plot"]=m.translate(b[e],0,1,0,1))}),b.plotHigh=b.highPlot})}drawPoints(){let m=this.points,r=this.options,b=this.chart,e=b.renderer,h=this.doQuartiles!==!1,n=this.options.whiskerLength,o,t,a,y,L,B,x,Y=0,T,k,i,s,P,g,A;for(let c of m){let N=(k=c.graphic)?"animate":"attr",Z=c.shapeArgs,U={},tt={},J={},G={},l=c.color||this.color;if(c.plotY!==void 0){let w;i=Math.round(Z.width),P=(s=Math.floor(Z.x))+i,g=Math.round(i/2),o=Math.floor(h?c.q1Plot:c.lowPlot),t=Math.floor(h?c.q3Plot:c.lowPlot),a=Math.floor(c.highPlot),y=Math.floor(c.lowPlot),k||(c.graphic=k=e.g("point").add(this.group),c.stem=e.path().addClass("highcharts-boxplot-stem").add(k),n&&(c.whiskers=e.path().addClass("highcharts-boxplot-whisker").add(k)),h&&(c.box=e.path(T).addClass("highcharts-boxplot-box").add(k)),c.medianShape=e.path(B).addClass("highcharts-boxplot-median").add(k)),b.styledMode||(tt.stroke=c.stemColor||r.stemColor||l,tt["stroke-width"]=H(c.stemWidth,r.stemWidth,r.lineWidth),tt.dashstyle=c.stemDashStyle||r.stemDashStyle||r.dashStyle,c.stem.attr(tt),n&&(J.stroke=c.whiskerColor||r.whiskerColor||l,J["stroke-width"]=H(c.whiskerWidth,r.whiskerWidth,r.lineWidth),J.dashstyle=c.whiskerDashStyle||r.whiskerDashStyle||r.dashStyle,c.whiskers.attr(J)),h&&(U.fill=c.fillColor||r.fillColor||l,U.stroke=r.lineColor||l,U["stroke-width"]=r.lineWidth||0,U.dashstyle=c.boxDashStyle||r.boxDashStyle||r.dashStyle,c.box.attr(U)),G.stroke=c.medianColor||r.medianColor||l,G["stroke-width"]=H(c.medianWidth,r.medianWidth,r.lineWidth),G.dashstyle=c.medianDashStyle||r.medianDashStyle||r.dashStyle,c.medianShape.attr(G)),w=[["M",Y=s+g+(x=c.stem.strokeWidth()%2/2),t],["L",Y,a],["M",Y,o],["L",Y,y]],c.stem[N]({d:w}),h&&(o=Math.floor(o)+(x=c.box.strokeWidth()%2/2),t=Math.floor(t)+x,s+=x,P+=x,w=[["M",s,t],["L",s,o],["L",P,o],["L",P,t],["L",s,t],["Z"]],c.box[N]({d:w})),n&&(a+=x=c.whiskers.strokeWidth()%2/2,y+=x,w=[["M",Y-(A=/%$/.test(n)?g*parseFloat(n)/100:n/2),a],["L",Y+A,a],["M",Y-A,y],["L",Y+A,y]],c.whiskers[N]({d:w})),w=[["M",s,L=Math.round(c.medianPlot)+(x=c.medianShape.strokeWidth()%2/2)],["L",P,L]],c.medianShape[N]({d:w})}}}toYData(m){return[m.low,m.q1,m.median,m.q3,m.high]}}return E.defaultOptions=j(u.defaultOptions,p),C(E.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:X,setStackedPoints:X}),f.registerSeriesType("boxplot",E),E}),ot(d,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),ot(d,"Series/Bubble/BubbleLegendItem.js",[d["Core/Color/Color.js"],d["Core/Templating.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(p,u,S,f){let{parse:R}=p,{noop:X}=S,{arrayMax:C,arrayMin:j,isNumber:H,merge:E,pick:M,stableSort:m}=f;return class{constructor(r,b){this.setState=X,this.init(r,b)}init(r,b){this.options=r,this.visible=!0,this.chart=b.chart,this.legend=b}addToLegend(r){r.splice(this.options.legendIndex,0,this)}drawLegendSymbol(r){let b,e=M(r.options.itemDistance,20),h=this.legendItem||{},n=this.options,o=n.ranges,t=n.connectorDistance;if(!o||!o.length||!H(o[0].value)){r.options.bubbleLegend.autoRanges=!0;return}m(o,function(B,x){return x.value-B.value}),this.ranges=o,this.setOptions(),this.render();let a=this.getMaxLabelSize(),y=this.ranges[0].radius,L=2*y;b=(b=t-y+a.width)>0?b:0,this.maxLabel=a,this.movementX=n.labels.align==="left"?b:0,h.labelWidth=L+b+e,h.labelHeight=L+a.height/2}setOptions(){let r=this.ranges,b=this.options,e=this.chart.series[b.seriesIndex],h=this.legend.baseline,n={zIndex:b.zIndex,"stroke-width":b.borderWidth},o={zIndex:b.zIndex,"stroke-width":b.connectorWidth},t={align:this.legend.options.rtl||b.labels.align==="left"?"right":"left",zIndex:b.zIndex},a=e.options.marker.fillOpacity,y=this.chart.styledMode;r.forEach(function(L,B){y||(n.stroke=M(L.borderColor,b.borderColor,e.color),n.fill=M(L.color,b.color,a!==1?R(e.color).setOpacity(a).get("rgba"):e.color),o.stroke=M(L.connectorColor,b.connectorColor,e.color)),r[B].radius=this.getRangeRadius(L.value),r[B]=E(r[B],{center:r[0].radius-r[B].radius+h}),y||E(!0,r[B],{bubbleAttribs:E(n),connectorAttribs:E(o),labelAttribs:t})},this)}getRangeRadius(r){let b=this.options,e=this.options.seriesIndex,h=this.chart.series[e],n=b.ranges[0].value,o=b.ranges[b.ranges.length-1].value,t=b.minSize,a=b.maxSize;return h.getRadius.call(this,o,n,t,a,r)}render(){let r=this.legendItem||{},b=this.chart.renderer,e=this.options.zThreshold;for(let h of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),r.symbol=b.g("bubble-legend"),r.label=b.g("bubble-legend-item").css(this.legend.itemStyle||{}),r.symbol.translateX=0,r.symbol.translateY=0,r.symbol.add(r.label),r.label.add(r.group),this.ranges))h.value>=e&&this.renderRange(h);this.hideOverlappingLabels()}renderRange(r){let b=this.ranges[0],e=this.legend,h=this.options,n=h.labels,o=this.chart,t=o.series[h.seriesIndex],a=o.renderer,y=this.symbols,L=y.labels,B=r.center,x=Math.abs(r.radius),Y=h.connectorDistance||0,T=n.align,k=e.options.rtl,i=h.borderWidth,s=h.connectorWidth,P=b.radius||0,g=B-x-i/2+s/2,A=(g%1?1:.5)-(s%2?0:.5),c=a.styledMode,N=k||T==="left"?-Y:Y;T==="center"&&(N=0,h.connectorDistance=0,r.labelAttribs.align="center"),y.bubbleItems.push(a.circle(P,B+A,x).attr(c?{}:r.bubbleAttribs).addClass((c?"highcharts-color-"+t.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(h.className||"")).add(this.legendItem.symbol)),y.connectors.push(a.path(a.crispLine([["M",P,g],["L",P+N,g]],h.connectorWidth)).attr(c?{}:r.connectorAttribs).addClass((c?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(h.connectorClassName||"")).add(this.legendItem.symbol));let Z=a.text(this.formatLabel(r)).attr(c?{}:r.labelAttribs).css(c?{}:n.style).addClass("highcharts-bubble-legend-labels "+(h.labels.className||"")).add(this.legendItem.symbol),U={x:P+N+h.labels.x,y:g+h.labels.y+.4*Z.getBBox().height};Z.attr(U),L.push(Z),Z.placed=!0,Z.alignAttr=U}getMaxLabelSize(){let r,b;return this.symbols.labels.forEach(function(e){b=e.getBBox(!0),r=r?b.width>r.width?b:r:b}),r||{}}formatLabel(r){let b=this.options,e=b.labels.formatter,h=b.labels.format,{numberFormatter:n}=this.chart;return h?u.format(h,r):e?e.call(r):n(r.value,1)}hideOverlappingLabels(){let r=this.chart,b=this.options.labels.allowOverlap,e=this.symbols;!b&&e&&(r.hideOverlappingLabels(e.labels),e.labels.forEach(function(h,n){h.newOpacity?h.newOpacity!==h.oldOpacity&&e.connectors[n].show():e.connectors[n].hide()}))}getRanges(){let r=this.legend.bubbleLegend,b=r.chart.series,e=r.options.ranges,h,n,o=Number.MAX_VALUE,t=-Number.MAX_VALUE;return b.forEach(function(a){a.isBubble&&!a.ignoreSeries&&(n=a.zData.filter(H)).length&&(o=M(a.options.zMin,Math.min(o,Math.max(j(n),a.options.displayNegative===!1?a.options.zThreshold:-Number.MAX_VALUE))),t=M(a.options.zMax,Math.max(t,C(n))))}),h=o===t?[{value:t}]:[{value:o},{value:(o+t)/2},{value:t,autoRanges:!0}],e.length&&e[0].radius&&h.reverse(),h.forEach(function(a,y){e&&e[y]&&(h[y]=E(e[y],a))}),h}predictBubbleSizes(){let r=this.chart,b=r.legend.options,e=b.floating,h=b.layout==="horizontal",n=h?r.legend.lastLineHeight:0,o=r.plotSizeX,t=r.plotSizeY,a=r.series[this.options.seriesIndex],y=a.getPxExtremes(),L=Math.ceil(y.minPxSize),B=Math.ceil(y.maxPxSize),x,Y=a.options.maxSize;return e||!/%$/.test(Y)?x=B:(x=(Math.min(t,o)+n)*(Y=parseFloat(Y))/100/(Y/100+1),(h&&t-x>=o||!h&&o-x>=t)&&(x=B)),[L,Math.ceil(x)]}updateRanges(r,b){let e=this.legend.options.bubbleLegend;e.minSize=r,e.maxSize=b,e.ranges=this.getRanges()}correctSizes(){let r=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,b.maxPxSize),r.render())}}}),ot(d,"Series/Bubble/BubbleLegendComposition.js",[d["Series/Bubble/BubbleLegendDefaults.js"],d["Series/Bubble/BubbleLegendItem.js"],d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(p,u,S,f,R){let{setOptions:X}=S,{composed:C}=f,{addEvent:j,objectEach:H,pushUnique:E,wrap:M}=R;function m(o,t,a){let y,L,B,x=this.legend,Y=r(this)>=0;x&&x.options.enabled&&x.bubbleLegend&&x.options.bubbleLegend.autoRanges&&Y?(y=x.bubbleLegend.options,L=x.bubbleLegend.predictBubbleSizes(),x.bubbleLegend.updateRanges(L[0],L[1]),y.placed||(x.group.placed=!1,x.allItems.forEach(T=>{(B=T.legendItem||{}).group&&(B.group.translateY=void 0)})),x.render(),y.placed||(this.getMargins(),this.axes.forEach(function(T){T.visible&&T.render(),y.placed||(T.setScale(),T.updateNames(),H(T.ticks,function(k){k.isNew=!0,k.isNewLabel=!0}))}),this.getMargins()),y.placed=!0,o.call(this,t,a),x.bubbleLegend.correctSizes(),n(x,b(x))):(o.call(this,t,a),x&&x.options.enabled&&x.bubbleLegend&&(x.render(),n(x,b(x))))}function r(o){let t=o.series,a=0;for(;a<t.length;){if(t[a]&&t[a].isBubble&&t[a].visible&&t[a].zData.length)return a;a++}return-1}function b(o){let t=o.allItems,a=[],y=t.length,L,B,x,Y=0,T=0;for(Y=0;Y<y;Y++)if(B=t[Y].legendItem||{},x=(t[Y+1]||{}).legendItem||{},B.labelHeight&&(t[Y].itemHeight=B.labelHeight),t[Y]===t[y-1]||B.y!==x.y){for(a.push({height:0}),L=a[a.length-1];T<=Y;T++)t[T].itemHeight>L.height&&(L.height=t[T].itemHeight);L.step=Y}return a}function e(o){let t=this.bubbleLegend,a=this.options,y=a.bubbleLegend,L=r(this.chart);t&&t.ranges&&t.ranges.length&&(y.ranges.length&&(y.autoRanges=!!y.ranges[0].autoRanges),this.destroyItem(t)),L>=0&&a.enabled&&y.enabled&&(y.seriesIndex=L,this.bubbleLegend=new u(y,this),this.bubbleLegend.addToLegend(o.allItems))}function h(o){let t;if(o.defaultPrevented)return!1;let a=this.chart,y=this.visible,L=this.chart.legend;L&&L.bubbleLegend&&(this.visible=!y,this.ignoreSeries=y,t=r(a)>=0,L.bubbleLegend.visible!==t&&(L.update({bubbleLegend:{enabled:t}}),L.bubbleLegend.visible=t),this.visible=y)}function n(o,t){let a=o.allItems,y=o.options.rtl,L,B,x,Y,T=0;a.forEach((k,i)=>{(Y=k.legendItem||{}).group&&(L=Y.group.translateX||0,B=Y.y||0,((x=k.movementX)||y&&k.ranges)&&(x=y?L-k.options.maxSize/2:L+x,Y.group.attr({translateX:x})),i>t[T].step&&T++,Y.group.attr({translateY:Math.round(B+t[T].height/2)}),Y.y=B+t[T].height/2)})}return{compose:function(o,t,a){E(C,"Series.BubbleLegend")&&(X({legend:{bubbleLegend:p}}),M(o.prototype,"drawChartBox",m),j(t,"afterGetAllItems",e),j(a,"legendItemClick",h))}}}),ot(d,"Series/Bubble/BubblePoint.js",[d["Core/Series/Point.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S){let{seriesTypes:{scatter:{prototype:{pointClass:f}}}}=u,{extend:R}=S;class X extends f{haloPath(j){return p.prototype.haloPath.call(this,j===0?0:(this.marker&&this.marker.radius||0)+j)}}return R(X.prototype,{ttBelow:!1}),X}),ot(d,"Series/Bubble/BubbleSeries.js",[d["Series/Bubble/BubbleLegendComposition.js"],d["Series/Bubble/BubblePoint.js"],d["Core/Color/Color.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S,f,R,X){let{parse:C}=S,{composed:j,noop:H}=f,{series:E,seriesTypes:{column:{prototype:M},scatter:m}}=R,{addEvent:r,arrayMax:b,arrayMin:e,clamp:h,extend:n,isNumber:o,merge:t,pick:a,pushUnique:y}=X;function L(){let x=this.len,{coll:Y,isXAxis:T,min:k}=this,i=T?"xData":"yData",s=(this.max||0)-(k||0),P=0,g=x,A=x/s,c;(Y==="xAxis"||Y==="yAxis")&&(this.series.forEach(N=>{if(N.bubblePadding&&N.reserveSpace()){this.allowZoomOutside=!0,c=!0;let Z=N[i];if(T&&((N.onPoint||N).getRadii(0,0,N),N.onPoint&&(N.radii=N.onPoint.radii)),s>0){let U=Z.length;for(;U--;)if(o(Z[U])&&this.dataMin<=Z[U]&&Z[U]<=this.max){let tt=N.radii&&N.radii[U]||0;P=Math.min((Z[U]-k)*A-tt,P),g=Math.max((Z[U]-k)*A+tt,g)}}}}),c&&s>0&&!this.logarithmic&&(g-=x,A*=(x+Math.max(0,P)-Math.min(g,x))/x,[["min","userMin",P],["max","userMax",g]].forEach(N=>{a(this.options[N[0]],this[N[1]])===void 0&&(this[N[0]]+=N[2]/A)})))}class B extends m{static compose(Y,T,k,i){p.compose(T,k,i),y(j,"Series.Bubble")&&r(Y,"foundExtremes",L)}animate(Y){!Y&&this.points.length<this.options.animationLimit&&this.points.forEach(function(T){let{graphic:k}=T;k&&k.width&&(this.hasRendered||k.attr({x:T.plotX,y:T.plotY,width:1,height:1}),k.animate(this.markerAttribs(T),this.options.animation))},this)}getRadii(){let Y=this.zData,T=this.yData,k=[],i,s,P,g=this.chart.bubbleZExtremes,{minPxSize:A,maxPxSize:c}=this.getPxExtremes();if(!g){let N,Z=Number.MAX_VALUE,U=-Number.MAX_VALUE;this.chart.series.forEach(tt=>{if(tt.bubblePadding&&tt.reserveSpace()){let J=(tt.onPoint||tt).getZExtremes();J&&(Z=Math.min(a(Z,J.zMin),J.zMin),U=Math.max(a(U,J.zMax),J.zMax),N=!0)}}),N?(g={zMin:Z,zMax:U},this.chart.bubbleZExtremes=g):g={zMin:0,zMax:0}}for(s=0,i=Y.length;s<i;s++)P=Y[s],k.push(this.getRadius(g.zMin,g.zMax,A,c,P,T&&T[s]));this.radii=k}getRadius(Y,T,k,i,s,P){let g=this.options,A=g.sizeBy!=="width",c=g.zThreshold,N=T-Y,Z=.5;if(P===null||s===null)return null;if(o(s)){if(g.sizeByAbsoluteValue&&(s=Math.abs(s-c),T=N=Math.max(T-c,Math.abs(Y-c)),Y=0),s<Y)return k/2-1;N>0&&(Z=(s-Y)/N)}return A&&Z>=0&&(Z=Math.sqrt(Z)),Math.ceil(k+Z*(i-k))/2}hasData(){return!!this.processedXData.length}pointAttribs(Y,T){let k=this.options.marker.fillOpacity,i=E.prototype.pointAttribs.call(this,Y,T);return k!==1&&(i.fill=C(i.fill).setOpacity(k).get("rgba")),i}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:Y,options:T,radii:k}=this,{minPxSize:i}=this.getPxExtremes(),s=Y.length;for(;s--;){let P=Y[s],g=k?k[s]:0;this.zoneAxis==="z"&&(P.negative=(P.z||0)<(T.zThreshold||0)),o(g)&&g>=i/2?(P.marker=n(P.marker,{radius:g,width:2*g,height:2*g}),P.dlBox={x:P.plotX-g,y:P.plotY-g,width:2*g,height:2*g}):(P.shapeArgs=P.plotY=P.dlBox=void 0,P.isInside=!1)}}getPxExtremes(){let Y=Math.min(this.chart.plotWidth,this.chart.plotHeight),T=s=>{let P;return typeof s=="string"&&(P=/%$/.test(s),s=parseInt(s,10)),P?Y*s/100:s},k=T(a(this.options.minSize,8)),i=Math.max(T(a(this.options.maxSize,"20%")),k);return{minPxSize:k,maxPxSize:i}}getZExtremes(){let Y=this.options,T=(this.zData||[]).filter(o);if(T.length){let k=a(Y.zMin,h(e(T),Y.displayNegative===!1?Y.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),i=a(Y.zMax,b(T));if(o(k)&&o(i))return{zMin:k,zMax:i}}}}return B.defaultOptions=t(m.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:x}=this.series.chart,{z:Y}=this.point;return o(Y)?x(Y,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),n(B.prototype,{alignDataLabel:M.alignDataLabel,applyZones:H,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:u,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),r(B,"updatedData",x=>{delete x.target.chart.bubbleZExtremes}),r(B,"remove",x=>{delete x.target.chart.bubbleZExtremes}),R.registerSeriesType("bubble",B),B}),ot(d,"Series/ColumnRange/ColumnRangePoint.js",[d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u){let{seriesTypes:{column:{prototype:{pointClass:{prototype:S}}},arearange:{prototype:{pointClass:f}}}}=p,{extend:R,isNumber:X}=u;class C extends f{isValid(){return X(this.low)}}return R(C.prototype,{setState:S.setState}),C}),ot(d,"Series/ColumnRange/ColumnRangeSeries.js",[d["Series/ColumnRange/ColumnRangePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S,f){let{noop:R}=u,{seriesTypes:{arearange:X,column:C,column:{prototype:j}}}=S,{addEvent:H,clamp:E,extend:M,isNumber:m,merge:r,pick:b}=f;class e extends X{setOptions(){return r(!0,arguments[0],{stacking:void 0}),X.prototype.setOptions.apply(this,arguments)}translate(){return j.translate.apply(this)}pointAttribs(){return j.pointAttribs.apply(this,arguments)}translate3dPoints(){return j.translate3dPoints.apply(this,arguments)}translate3dShapes(){return j.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let n,o,t,a,y=this.yAxis,L=this.xAxis,B=L.startAngleRad,x=this.chart,Y=this.xAxis.isRadial,T=Math.max(x.chartWidth,x.chartHeight)+999;this.points.forEach(k=>{let i=k.shapeArgs||{},s=this.options.minPointLength,P=k.plotY,g=y.translate(k.high,0,1,0,1);if(m(g)&&m(P))if(k.plotHigh=E(g,-T,T),k.plotLow=E(P,-T,T),a=k.plotHigh,Math.abs(n=b(k.rectPlotY,k.plotY)-k.plotHigh)<s?(o=s-n,n+=o,a-=o/2):n<0&&(n*=-1,a-=n),Y&&this.polar)t=k.barX+B,k.shapeType="arc",k.shapeArgs=this.polar.arc(a+n,a,t,t+k.pointWidth);else{i.height=n,i.y=a;let{x:A=0,width:c=0}=i;k.shapeArgs=r(k.shapeArgs,this.crispCol(A,a,c,n)),k.tooltipPos=x.inverted?[y.len+y.pos-x.plotLeft-a-n/2,L.len+L.pos-x.plotTop-A-c/2,n]:[L.left-x.plotLeft+A+c/2,y.pos-x.plotTop+a+n/2,n]}})}}return e.defaultOptions=r(C.defaultOptions,X.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),H(e,"afterColumnTranslate",function(){e.prototype.afterColumnTranslate.apply(this)},{order:5}),M(e.prototype,{directTouch:!0,pointClass:p,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:j.adjustForMissingColumns,animate:j.animate,crispCol:j.crispCol,drawGraph:R,drawPoints:j.drawPoints,getSymbol:R,drawTracker:j.drawTracker,getColumnMetrics:j.getColumnMetrics}),S.registerSeriesType("columnrange",e),e}),ot(d,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],function(){return{}}),ot(d,"Series/ColumnPyramid/ColumnPyramidSeries.js",[d["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S){let{column:f}=u.seriesTypes,{clamp:R,merge:X,pick:C}=S;class j extends f{translate(){let E=this.chart,M=this.options,m=this.dense=this.closestPointRange*this.xAxis.transA<2,r=this.borderWidth=C(M.borderWidth,m?0:1),b=this.yAxis,e=M.threshold,h=C(M.minPointLength,5),n=this.getColumnMetrics(),o=n.width,t=this.pointXOffset=n.offset,a=this.translatedThreshold=b.getThreshold(e),y=this.barW=Math.max(o,1+2*r);for(let L of(E.inverted&&(a-=.5),M.pointPadding&&(y=Math.ceil(y)),super.translate(),this.points)){let B=C(L.yBottom,a),x=999+Math.abs(B),Y=R(L.plotY,-x,b.len+x),T=y/2,k=Math.min(Y,B),i=Math.max(Y,B)-k,s=L.plotX+t,P,g,A,c,N,Z,U,tt,J,G,l;M.centerInCategory&&(s=this.adjustForMissingColumns(s,o,L,n)),L.barX=s,L.pointWidth=o,L.tooltipPos=E.inverted?[b.len+b.pos-E.plotLeft-Y,this.xAxis.len-s-T,i]:[s+T,Y+b.pos-E.plotTop,i],P=e+(L.total||L.y),M.stacking==="percent"&&(P=e+(L.y<0)?-100:100);let w=b.toPixels(P,!0);A=(g=E.plotHeight-w-(E.plotHeight-a))?T*(k-w)/g:0,c=g?T*(k+i-w)/g:0,Z=s-A+T,U=s+A+T,tt=s+c+T,J=s-c+T,G=k-h,l=k+i,L.y<0&&(G=k,l=k+i+h),E.inverted&&(N=b.width-k,g=w-(b.width-a),A=T*(w-N)/g,c=T*(w-(N-i))/g,U=(Z=s+T+A)-2*A,tt=s-c+T,J=s+c+T,G=k,l=k+i-h,L.y<0&&(l=k+i+h)),L.shapeType="path",L.shapeArgs={x:Z,y:G,width:U-Z,height:i,d:[["M",Z,G],["L",U,G],["L",tt,l],["L",J,l],["Z"]]}}}}return j.defaultOptions=X(f.defaultOptions,p),u.registerSeriesType("columnpyramid",j),j}),ot(d,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}}),ot(d,"Series/ErrorBar/ErrorBarSeries.js",[d["Series/BoxPlot/BoxPlotSeries.js"],d["Series/Column/ColumnSeries.js"],d["Series/ErrorBar/ErrorBarSeriesDefaults.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S,f,R){let{arearange:X}=f.seriesTypes,{addEvent:C,merge:j,extend:H}=R;class E extends p{getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||u.prototype.getColumnMetrics.call(this)}drawDataLabels(){let m=this.pointValKey;if(X)for(let r of(X.prototype.drawDataLabels.call(this),this.points))r.y=r[m]}toYData(m){return[m.low,m.high]}}return E.defaultOptions=j(p.defaultOptions,S),C(E,"afterTranslate",function(){for(let M of this.points)M.plotLow=M.plotY},{order:0}),H(E.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),f.registerSeriesType("errorbar",E),E}),ot(d,"Series/Gauge/GaugePoint.js",[d["Core/Series/SeriesRegistry.js"]],function(p){let{series:{prototype:{pointClass:u}}}=p;return class extends u{setState(S){this.state=S}}}),ot(d,"Series/Gauge/GaugeSeries.js",[d["Series/Gauge/GaugePoint.js"],d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S,f){let{noop:R}=u,{series:X,seriesTypes:{column:C}}=S,{clamp:j,isNumber:H,extend:E,merge:M,pick:m,pInt:r,defined:b}=f;class e extends X{translate(){let n=this.yAxis,o=this.options,t=n.center;this.generatePoints(),this.points.forEach(a=>{let y=M(o.dial,a.dial),L=r(y.radius)*t[2]/200,B=r(y.baseLength)*L/100,x=r(y.rearLength)*L/100,Y=y.baseWidth,T=y.topWidth,k=o.overshoot,i=n.startAngleRad+n.translate(a.y,void 0,void 0,void 0,!0);(H(k)||o.wrap===!1)&&(k=H(k)?k/180*Math.PI:0,i=j(i,n.startAngleRad-k,n.endAngleRad+k)),i=180*i/Math.PI,a.shapeType="path";let s=y.path||[["M",-x,-Y/2],["L",B,-Y/2],["L",L,-T/2],["L",L,T/2],["L",B,Y/2],["L",-x,Y/2],["Z"]];a.shapeArgs={d:s,translateX:t[0],translateY:t[1],rotation:i},a.plotX=t[0],a.plotY=t[1],b(a.y)&&n.max-n.min&&(a.percentage=(a.y-n.min)/(n.max-n.min)*100)})}drawPoints(){let n=this,o=n.chart,t=n.yAxis.center,a=n.pivot,y=n.options,L=y.pivot,B=o.renderer;n.points.forEach(x=>{let Y=x.graphic,T=x.shapeArgs,k=T.d,i=M(y.dial,x.dial);Y?(Y.animate(T),T.d=k):x.graphic=B[x.shapeType](T).addClass("highcharts-dial").add(n.group),o.styledMode||x.graphic[Y?"animate":"attr"]({stroke:i.borderColor,"stroke-width":i.borderWidth,fill:i.backgroundColor})}),a?a.animate({translateX:t[0],translateY:t[1]}):L&&(n.pivot=B.circle(0,0,L.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(t[0],t[1]).add(n.group),o.styledMode||n.pivot.attr({fill:L.backgroundColor,stroke:L.borderColor,"stroke-width":L.borderWidth}))}animate(n){let o=this;n||o.points.forEach(t=>{let a=t.graphic;a&&(a.attr({rotation:180*o.yAxis.startAngleRad/Math.PI}),a.animate({rotation:t.shapeArgs.rotation},o.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),X.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(n,o){X.prototype.setData.call(this,n,!1),this.processData(),this.generatePoints(),m(o,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return e.defaultOptions=M(X.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),E(e.prototype,{angular:!0,directTouch:!0,drawGraph:R,drawTracker:C.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:p,trackerGroups:["group","dataLabelsGroup"]}),S.registerSeriesType("gauge",e),e}),ot(d,"Series/DragNodesComposition.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(p,u){let{composed:S}=p,{addEvent:f,pushUnique:R}=u;function X(){let C,j,H,E=this;E.container&&(C=f(E.container,"mousedown",M=>{let m=E.hoverPoint;m&&m.series&&m.series.hasDraggableNodes&&m.series.options.draggable&&(m.series.onMouseDown(m,M),j=f(E.container,"mousemove",r=>m&&m.series&&m.series.onMouseMove(m,r)),H=f(E.container.ownerDocument,"mouseup",r=>(j(),H(),m&&m.series&&m.series.onMouseUp(m,r))))})),f(E,"destroy",function(){C()})}return{compose:function(C){R(S,"DragNodes")&&f(C,"load",X)},onMouseDown:function(C,j){let H=this.chart.pointer?.normalize(j)||j;C.fixedPosition={chartX:H.chartX,chartY:H.chartY,plotX:C.plotX,plotY:C.plotY},C.inDragMode=!0},onMouseMove:function(C,j){if(C.fixedPosition&&C.inDragMode){let H,E,M=this.chart,m=M.pointer?.normalize(j)||j,r=C.fixedPosition.chartX-m.chartX,b=C.fixedPosition.chartY-m.chartY,e=M.graphLayoutsLookup;(Math.abs(r)>5||Math.abs(b)>5)&&(H=C.fixedPosition.plotX-r,E=C.fixedPosition.plotY-b,M.isInsidePlot(H,E)&&(C.plotX=H,C.plotY=E,C.hasDragged=!0,this.redrawHalo(C),e.forEach(h=>{h.restartSimulation()})))}},onMouseUp:function(C){C.fixedPosition&&(C.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),C.inDragMode=C.hasDragged=!1,this.options.fixedDraggable||delete C.fixedPosition)},redrawHalo:function(C){C&&this.halo&&this.halo.attr({d:C.haloPath(this.options.states.hover.halo.size)})}}}),ot(d,"Series/GraphLayoutComposition.js",[d["Core/Animation/AnimationUtilities.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(p,u,S){let{setAnimation:f}=p,{composed:R}=u,{addEvent:X,pushUnique:C}=S;function j(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(m=>{m.updateSimulation()}),this.redraw())}function H(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(m=>{m.updateSimulation(!1)}),this.redraw())}function E(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(m=>{m.stop()})}function M(){let m,r=!1,b=e=>{e.maxIterations--&&isFinite(e.temperature)&&!e.isStable()&&!e.enableSimulation&&(e.beforeStep&&e.beforeStep(),e.step(),m=!1,r=!0)};if(this.graphLayoutsLookup){for(f(!1,this),this.graphLayoutsLookup.forEach(e=>e.start());!m;)m=!0,this.graphLayoutsLookup.forEach(b);r&&this.series.forEach(e=>{e&&e.layout&&e.render()})}}return{compose:function(m){C(R,"GraphLayout")&&(X(m,"afterPrint",j),X(m,"beforePrint",H),X(m,"predraw",E),X(m,"render",M))},integrations:{},layouts:{}}}),ot(d,"Series/PackedBubble/PackedBubblePoint.js",[d["Core/Chart/Chart.js"],d["Core/Series/Point.js"],d["Core/Series/SeriesRegistry.js"]],function(p,u,S){let{seriesTypes:{bubble:{prototype:{pointClass:f}}}}=S;return class extends f{destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),u.prototype.destroy.apply(this,arguments)}firePointEvent(){let R=this.series.options;if(this.isParentNode&&R.parentNode){let X=R.allowPointSelect;R.allowPointSelect=R.parentNode.allowPointSelect,u.prototype.firePointEvent.apply(this,arguments),R.allowPointSelect=X}else u.prototype.firePointEvent.apply(this,arguments)}select(){let R=this.series.chart;this.isParentNode?(R.getSelectedPoints=R.getSelectedParentNodes,u.prototype.select.apply(this,arguments),R.getSelectedPoints=p.prototype.getSelectedPoints):u.prototype.select.apply(this,arguments)}}}),ot(d,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[d["Core/Utilities.js"]],function(p){let{isNumber:u}=p;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:S}=this.series.chart,{value:f}=this.point;return u(f)?S(f,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}}),ot(d,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(p,u,S){let f=p.getMass(),R=-S.x*u*this.diffTemperature,X=-S.y*u*this.diffTemperature;p.fromNode.fixedPosition||(p.fromNode.plotX-=R*f.fromNode/p.fromNode.degree,p.fromNode.plotY-=X*f.fromNode/p.fromNode.degree),p.toNode.fixedPosition||(p.toNode.plotX+=R*f.toNode/p.toNode.degree,p.toNode.plotY+=X*f.toNode/p.toNode.degree)},attractiveForceFunction:function(p,u){return(u-p)/p},barycenter:function(){let p=this.options.gravitationalConstant||0,u=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*p,S=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*p;this.nodes.forEach(function(f){f.fixedPosition||(f.plotX-=u/f.mass/f.degree,f.plotY-=S/f.mass/f.degree)})},getK:function(p){return Math.pow(p.box.width*p.box.height/p.nodes.length,.5)},integrate:function(p,u){let S=-p.options.friction,f=p.options.maxSpeed,R=u.prevX,X=u.prevY,C=(u.plotX+u.dispX-R)*S,j=(u.plotY+u.dispY-X)*S,H=Math.abs,E=H(C)/(C||1),M=H(j)/(j||1),m=E*Math.min(f,Math.abs(C)),r=M*Math.min(f,Math.abs(j));u.prevX=u.plotX+u.dispX,u.prevY=u.plotY+u.dispY,u.plotX+=m,u.plotY+=r,u.temperature=p.vectorLength({x:m,y:r})},repulsive:function(p,u,S){let f=u*this.diffTemperature/p.mass/p.degree;p.fixedPosition||(p.plotX+=S.x*f,p.plotY+=S.y*f)},repulsiveForceFunction:function(p,u){return(u-p)/p*(u>p?1:0)}}}),ot(d,"Series/PackedBubble/PackedBubbleIntegration.js",[d["Core/Globals.js"],d["Series/Networkgraph/VerletIntegration.js"]],function(p,u){let{noop:S}=p;return{barycenter:function(){let f,R,X=this.options.gravitationalConstant,C=this.box,j=this.nodes;for(let H of j)this.options.splitSeries&&!H.isParentNode?(f=H.series.parentNode.plotX,R=H.series.parentNode.plotY):(f=C.width/2,R=C.height/2),H.fixedPosition||(H.plotX-=(H.plotX-f)*X/(H.mass*Math.sqrt(j.length)),H.plotY-=(H.plotY-R)*X/(H.mass*Math.sqrt(j.length)))},getK:S,integrate:u.integrate,repulsive:function(f,R,X,C){let j=R*this.diffTemperature/f.mass/f.degree,H=X.x*j,E=X.y*j;f.fixedPosition||(f.plotX+=H,f.plotY+=E),C.fixedPosition||(C.plotX-=H,C.plotY-=E)},repulsiveForceFunction:function(f,R,X,C){return Math.min(f,(X.marker.radius+C.marker.radius)/2)}}}),ot(d,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(p,u,S,f){let R=p.getMass(),X=S.x/f*u,C=S.y/f*u;p.fromNode.fixedPosition||(p.fromNode.dispX-=X*R.fromNode/p.fromNode.degree,p.fromNode.dispY-=C*R.fromNode/p.fromNode.degree),p.toNode.fixedPosition||(p.toNode.dispX+=X*R.toNode/p.toNode.degree,p.toNode.dispY+=C*R.toNode/p.toNode.degree)},attractiveForceFunction:function(p,u){return p*p/u},barycenter:function(){let p=this.options.gravitationalConstant,u=this.barycenter.xFactor,S=this.barycenter.yFactor;this.nodes.forEach(function(f){if(!f.fixedPosition){let R=f.getDegree(),X=R*(1+R/2);f.dispX+=(u-f.plotX)*p*X/f.degree,f.dispY+=(S-f.plotY)*p*X/f.degree}})},getK:function(p){return Math.pow(p.box.width*p.box.height/p.nodes.length,.3)},integrate:function(p,u){u.dispX+=u.dispX*p.options.friction,u.dispY+=u.dispY*p.options.friction;let S=u.temperature=p.vectorLength({x:u.dispX,y:u.dispY});S!==0&&(u.plotX+=u.dispX/S*Math.min(Math.abs(u.dispX),p.temperature),u.plotY+=u.dispY/S*Math.min(Math.abs(u.dispY),p.temperature))},repulsive:function(p,u,S,f){p.dispX+=S.x/f*u/p.degree,p.dispY+=S.y/f*u/p.degree},repulsiveForceFunction:function(p,u){return u*u/p}}}),ot(d,"Series/Networkgraph/QuadTreeNode.js",[],function(){class p{constructor(S){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=S,this.boxSize=Math.min(S.width,S.height)}divideBox(){let S=this.box.width/2,f=this.box.height/2;this.nodes[0]=new p({left:this.box.left,top:this.box.top,width:S,height:f}),this.nodes[1]=new p({left:this.box.left+S,top:this.box.top,width:S,height:f}),this.nodes[2]=new p({left:this.box.left+S,top:this.box.top+f,width:S,height:f}),this.nodes[3]=new p({left:this.box.left,top:this.box.top+f,width:S,height:f})}getBoxPosition(S){let f=S.plotX<this.box.left+this.box.width/2,R=S.plotY<this.box.top+this.box.height/2;return f?R?0:3:R?1:2}insert(S,f){let R;this.isInternal?this.nodes[this.getBoxPosition(S)].insert(S,f-1):(this.isEmpty=!1,this.body?f?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,f-1),this.body=!0),this.nodes[this.getBoxPosition(S)].insert(S,f-1)):((R=new p({top:S.plotX||NaN,left:S.plotY||NaN,width:.1,height:.1})).body=S,R.isInternal=!1,this.nodes.push(R)):(this.isInternal=!1,this.body=S))}updateMassAndCenter(){let S=0,f=0,R=0;if(this.isInternal){for(let X of this.nodes)X.isEmpty||(S+=X.mass,f+=X.plotX*X.mass,R+=X.plotY*X.mass);f/=S,R/=S}else this.body&&(S=this.body.mass,f=this.body.plotX,R=this.body.plotY);this.mass=S,this.plotX=f,this.plotY=R}}return p}),ot(d,"Series/Networkgraph/QuadTree.js",[d["Series/Networkgraph/QuadTreeNode.js"]],function(p){return class{constructor(u,S,f,R){this.box={left:u,top:S,width:f,height:R},this.maxDepth=25,this.root=new p(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(u){u.updateMassAndCenter()})}insertNodes(u){for(let S of u)this.root.insert(S,this.maxDepth)}visitNodeRecursive(u,S,f){let R;if(u||(u=this.root),u===this.root&&S&&(R=S(u)),R!==!1){for(let X of u.nodes){if(X.isInternal){if(S&&(R=S(X)),R===!1)continue;this.visitNodeRecursive(X,S,f)}else X.body&&S&&S(X.body);f&&f(X)}u===this.root&&f&&f(u)}}}}),ot(d,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[d["Series/Networkgraph/EulerIntegration.js"],d["Core/Globals.js"],d["Series/GraphLayoutComposition.js"],d["Series/Networkgraph/QuadTree.js"],d["Core/Utilities.js"],d["Series/Networkgraph/VerletIntegration.js"]],function(p,u,S,f,R,X){let{win:C}=u,{clamp:j,defined:H,isFunction:E,fireEvent:M,pick:m}=R;class r{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(e){S.compose(e),S.integrations.euler=p,S.integrations.verlet=X,S.layouts["reingold-fruchterman"]=r}init(e){this.options=e,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=S.integrations[e.integration],this.enableSimulation=e.enableSimulation,this.attractiveForce=m(e.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=m(e.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=e.approximation}updateSimulation(e){this.enableSimulation=m(e,this.options.enableSimulation)}start(){let e=this.series,h=this.options;this.currentStep=0,this.forces=e[0]&&e[0].forces||[],this.chart=e[0]&&e[0].chart,this.initialRendering&&(this.initPositions(),e.forEach(function(n){n.finishedAnimating=!0,n.render()})),this.setK(),this.resetSimulation(h),this.enableSimulation&&this.step()}step(){let e=this.series;for(let h of(this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[h+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let h of e)h.chart&&h.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&C.cancelAnimationFrame(this.simulation),this.simulation=C.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(h=>{M(h,"afterSimulation")}))}}stop(){this.simulation&&C.cancelAnimationFrame(this.simulation)}setArea(e,h,n,o){this.box={left:e,top:h,width:n,height:o}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(e,h){for(let n of e)h.indexOf(n)===-1&&h.push(n)}removeElementFromCollection(e,h){let n=h.indexOf(e);n!==-1&&h.splice(n,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(e){this.maxIterations=m(e,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(e){this.initialRendering=e}createQuadTree(){this.quadTree=new f(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let e=this.options.initialPositions;if(E(e))for(let h of(e.call(this),this.nodes))H(h.prevX)||(h.prevX=h.plotX),H(h.prevY)||(h.prevY=h.plotY),h.dispX=0,h.dispY=0;else e==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let e,h=this.box,n=this.nodes,o=2*Math.PI/(n.length+1),t=n.filter(function(x){return x.linksTo.length===0}),a={},y=this.options.initialPositionRadius,L=x=>{for(let Y of x.linksFrom||[])a[Y.toNode.id]||(a[Y.toNode.id]=!0,B.push(Y.toNode),L(Y.toNode))},B=[];for(let x of t)B.push(x),L(x);if(B.length)for(let x of n)B.indexOf(x)===-1&&B.push(x);else B=n;for(let x=0,Y=B.length;x<Y;++x)(e=B[x]).plotX=e.prevX=m(e.plotX,h.width/2+y*Math.cos(x*o)),e.plotY=e.prevY=m(e.plotY,h.height/2+y*Math.sin(x*o)),e.dispX=0,e.dispY=0}setRandomPositions(){let e,h=this.box,n=this.nodes,o=n.length+1,t=a=>{let y=a*a/Math.PI;return y-Math.floor(y)};for(let a=0,y=n.length;a<y;++a)(e=n[a]).plotX=e.prevX=m(e.plotX,h.width*t(a)),e.plotY=e.prevY=m(e.plotY,h.height*t(o+a)),e.dispX=0,e.dispY=0}force(e,...h){this.integration[e].apply(this,h)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let e=0,h=0,n=0;for(let o of this.nodes)h+=o.plotX*o.mass,n+=o.plotY*o.mass,e+=o.mass;return this.barycenter={x:h,y:n,xFactor:h/e,yFactor:n/e},this.barycenter}barnesHutApproximation(e,h){let n,o,t=this.getDistXY(e,h),a=this.vectorLength(t);return e!==h&&a!==0&&(h.isInternal?h.boxSize/a<this.options.theta&&a!==0?(o=this.repulsiveForce(a,this.k),this.force("repulsive",e,o*h.mass,t,a),n=!1):n=!0:(o=this.repulsiveForce(a,this.k),this.force("repulsive",e,o*h.mass,t,a))),n}repulsiveForces(){if(this.approximation==="barnes-hut")for(let e of this.nodes)this.quadTree.visitNodeRecursive(null,h=>this.barnesHutApproximation(e,h));else{let e,h,n;for(let o of this.nodes)for(let t of this.nodes)o===t||o.fixedPosition||(n=this.getDistXY(o,t),(h=this.vectorLength(n))!==0&&(e=this.repulsiveForce(h,this.k),this.force("repulsive",o,e*t.mass,n,h)))}}attractiveForces(){let e,h,n;for(let o of this.links)o.fromNode&&o.toNode&&(e=this.getDistXY(o.fromNode,o.toNode),(h=this.vectorLength(e))!==0&&(n=this.attractiveForce(h,this.k),this.force("attractive",o,n,e,h)))}applyLimits(){for(let e of this.nodes){if(e.fixedPosition)return;this.integration.integrate(this,e),this.applyLimitBox(e,this.box),e.dispX=0,e.dispY=0}}applyLimitBox(e,h){let n=e.radius;e.plotX=j(e.plotX,h.left+n,h.width-n),e.plotY=j(e.plotY,h.top+n,h.height-n)}coolDown(e,h,n){return e-h*n}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let e=0;for(let h of this.nodes)e+=h.temperature;return e}vectorLength(e){return Math.sqrt(e.x*e.x+e.y*e.y)}getDistR(e,h){let n=this.getDistXY(e,h);return this.vectorLength(n)}getDistXY(e,h){let n=e.plotX-h.plotX,o=e.plotY-h.plotY;return{x:n,y:o,absX:Math.abs(n),absY:Math.abs(o)}}}return r}),ot(d,"Series/PackedBubble/PackedBubbleLayout.js",[d["Series/GraphLayoutComposition.js"],d["Series/PackedBubble/PackedBubbleIntegration.js"],d["Series/Networkgraph/ReingoldFruchtermanLayout.js"],d["Core/Utilities.js"]],function(p,u,S,f){let{addEvent:R,pick:X}=f;function C(){let E=this.series,M=[];return E.forEach(m=>{m.parentNode&&m.parentNode.selected&&M.push(m.parentNode)}),M}function j(){this.allDataPoints&&delete this.allDataPoints}class H extends S{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(M){S.compose(M),p.integrations.packedbubble=u,p.layouts.packedbubble=H;let m=M.prototype;m.getSelectedParentNodes||(R(M,"beforeRedraw",j),m.getSelectedParentNodes=C)}beforeStep(){this.options.marker&&this.series.forEach(M=>{M&&M.calculateParentRadius()})}isStable(){let M=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&M<1e-5||this.temperature<=0}setCircularPositions(){let M=this.box,m=this.nodes,r=2*Math.PI/(m.length+1),b=this.options.initialPositionRadius,e,h,n=0;for(let o of m)this.options.splitSeries&&!o.isParentNode?(e=o.series.parentNode.plotX,h=o.series.parentNode.plotY):(e=M.width/2,h=M.height/2),o.plotX=o.prevX=X(o.plotX,e+b*Math.cos(o.index||n*r)),o.plotY=o.prevY=X(o.plotY,h+b*Math.sin(o.index||n*r)),o.dispX=0,o.dispY=0,n++}repulsiveForces(){let M,m,r,b=this,e=b.options.bubblePadding;b.nodes.forEach(h=>{h.degree=h.mass,h.neighbours=0,b.nodes.forEach(n=>{M=0,h!==n&&!h.fixedPosition&&(b.options.seriesInteraction||h.series===n.series)&&(r=b.getDistXY(h,n),(m=b.vectorLength(r)-(h.marker.radius+n.marker.radius+e))<0&&(h.degree+=.01,h.neighbours++,M=b.repulsiveForce(-m/Math.sqrt(h.neighbours),b.k,h,n)),b.force("repulsive",h,M*n.mass,r,n,m))})})}applyLimitBox(M,m){let r,b;this.options.splitSeries&&!M.isParentNode&&this.options.parentNodeLimit&&(r=this.getDistXY(M,M.series.parentNode),(b=M.series.parentNodeRadius-M.marker.radius-this.vectorLength(r))<0&&b>-2*M.marker.radius&&(M.plotX-=.01*r.x,M.plotY-=.01*r.y)),super.applyLimitBox(M,m)}}return p.layouts.packedbubble=H,H}),ot(d,"Series/SimulationSeriesUtilities.js",[d["Core/Utilities.js"],d["Core/Animation/AnimationUtilities.js"]],function(p,u){let{merge:S,syncTimeout:f}=p,{animObject:R}=u;return{initDataLabels:function(){let X=this.options.dataLabels;if(!this.dataLabelsGroup){let C=this.initDataLabelsGroup();return!this.chart.styledMode&&X?.style&&C.css(X.style),C.attr({opacity:0}),this.visible&&C.show(),C}return this.dataLabelsGroup.attr(S({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){let X=this.options.dataLabels;X?.defer&&this.options.layoutAlgorithm?.enableSimulation?f(()=>{this.deferDataLabels=!1},X?R(X.animation).defer:0):this.deferDataLabels=!1}}}),ot(d,"Series/PackedBubble/PackedBubbleSeries.js",[d["Core/Color/Color.js"],d["Series/DragNodesComposition.js"],d["Series/GraphLayoutComposition.js"],d["Core/Globals.js"],d["Series/PackedBubble/PackedBubblePoint.js"],d["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],d["Series/PackedBubble/PackedBubbleLayout.js"],d["Core/Series/SeriesRegistry.js"],d["Series/SimulationSeriesUtilities.js"],d["Core/Utilities.js"]],function(p,u,S,f,R,X,C,j,H,E){let{parse:M}=p,{noop:m}=f,{series:{prototype:r},seriesTypes:{bubble:b}}=j,{initDataLabels:e,initDataLabelsDefer:h}=H,{addEvent:n,clamp:o,defined:t,extend:a,fireEvent:y,isArray:L,isNumber:B,merge:x,pick:Y}=E;class T extends b{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(i,s,P,g){b.compose(i,s,P,g),u.compose(s),C.compose(s)}accumulateAllPoints(){let i,s=this.chart,P=[];for(let g of s.series)if(g.is("packedbubble")&&g.reserveSpace()){i=g.yData||[];for(let A=0;A<i.length;A++)P.push([null,null,i[A],g.index,A,{id:A,marker:{radius:0}}])}return P}addLayout(){let i=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},s=i.type||"packedbubble",P=this.chart.options.chart,g=this.chart.graphLayoutsStorage,A=this.chart.graphLayoutsLookup,c;g||(this.chart.graphLayoutsStorage=g={},this.chart.graphLayoutsLookup=A=[]),(c=g[s])||(i.enableSimulation=t(P.forExport)?!P.forExport:i.enableSimulation,g[s]=c=new S.layouts[s],c.init(i),A.splice(c.index,0,c)),this.layout=c,this.points.forEach(N=>{N.mass=2,N.degree=1,N.collisionNmb=1}),c.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),c.addElementsToCollection([this],c.series),c.addElementsToCollection(this.points,c.nodes)}addSeriesLayout(){let i=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},s=i.type||"packedbubble",P=this.chart.graphLayoutsStorage,g=this.chart.graphLayoutsLookup,A=x(i,i.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),c=P[s+"-series"];c||(P[s+"-series"]=c=new S.layouts[s],c.init(A),g.splice(c.index,0,c)),this.parentNodeLayout=c,this.createParentNodes()}calculateParentRadius(){let i=this.seriesBox();this.parentNodeRadius=o(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,i?Math.max(Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let i=this.chart.series,s=this.options.zMin,P=this.options.zMax,g=1/0,A=-1/0;return s&&P?[s,P]:(i.forEach(c=>{c.yData.forEach(N=>{t(N)&&(N>A&&(A=N),N<g&&(g=N))})}),[s=Y(s,g),P=Y(P,A)])}checkOverlap(i,s){let P=i[0]-s[0],g=i[1]-s[1];return Math.sqrt(P*P+g*g)-Math.abs(i[2]+s[2])<-.001}createParentNodes(){let i=this.pointClass,s=this.chart,P=this.parentNodeLayout,g=this.layout.options,A,c=this.parentNode,N={radius:this.parentNodeRadius,lineColor:this.color,fillColor:M(this.color).brighten(.4).get()};g.parentNodeOptions&&(N=x(g.parentNodeOptions.marker||{},N)),this.parentNodeMass=0,this.points.forEach(Z=>{this.parentNodeMass+=Math.PI*Math.pow(Z.marker.radius,2)}),this.calculateParentRadius(),P.nodes.forEach(Z=>{Z.seriesIndex===this.index&&(A=!0)}),P.setArea(0,0,s.plotWidth,s.plotHeight),A||(c||(c=new i(this,{mass:this.parentNodeRadius/2,marker:N,dataLabels:{inside:!1},states:{normal:{marker:N},hover:{marker:N}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(c.plotX=this.parentNode.plotX,c.plotY=this.parentNode.plotY),this.parentNode=c,P.addElementsToCollection([this],P.series),P.addElementsToCollection([c],P.nodes))}deferLayout(){let i=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),i.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(i=>{i.removeElementFromCollection(this,i.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),r.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(r.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",r.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(!this.layout||!this.layout.options.splitSeries)return;let i=this.chart,s=this.layout.options.parentNodeOptions.marker,P={fill:s.fillColor||M(this.color).brighten(.4).get(),opacity:s.fillOpacity,stroke:s.lineColor||this.color,"stroke-width":Y(s.lineWidth,this.options.lineWidth)},g={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,i.seriesGroup),this.group?.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&t(this.parentNode.plotX)&&t(this.parentNode.plotY)&&t(this.parentNodeRadius)&&(g=x({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},P),this.parentNode.graphic||(this.graph=this.parentNode.graphic=i.renderer.symbol(P.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(g))}drawTracker(){let i,s=this.parentNode;super.drawTracker(),s&&(i=L(s.dataLabels)?s.dataLabels:s.dataLabel?[s.dataLabel]:[],s.graphic&&(s.graphic.element.point=s),i.forEach(P=>{(P.div||P.element).point=s}))}getPointRadius(){let i,s,P,g,A=this.chart,c=A.plotWidth,N=A.plotHeight,Z=this.options,U=Z.useSimulation,tt=Math.min(c,N),J={},G=[],l=A.allDataPoints||[],w=l.length;["minSize","maxSize"].forEach(z=>{let O=parseInt(Z[z],10),$=/%$/.test(Z[z]);J[z]=$?tt*O/100:O*Math.sqrt(w)}),A.minRadius=i=J.minSize/Math.sqrt(w),A.maxRadius=s=J.maxSize/Math.sqrt(w);let V=U?this.calculateZExtremes():[i,s];l.forEach((z,O)=>{P=U?o(z[2],V[0],V[1]):z[2],(g=this.getRadius(V[0],V[1],i,s,P))===0&&(g=null),l[O][2]=g,G.push(g)}),this.radii=G}init(){return r.init.apply(this,arguments),h.call(this),this.eventsToUnbind.push(n(this,"updatedData",function(){this.chart.series.forEach(i=>{i.type===this.type&&(i.isDirty=!0)},this)})),this}onMouseUp(i){if(i.fixedPosition&&!i.removed){let s,P=this.layout,g=this.parentNodeLayout;g&&P.options.dragBetweenSeries&&g.nodes.forEach(A=>{i&&i.marker&&A!==i.series.parentNode&&(s=P.getDistXY(i,A),P.vectorLength(s)-A.marker.radius-i.marker.radius<0&&(A.series.addPoint(x(i.options,{plotX:i.plotX,plotY:i.plotY}),!1),P.removeElementFromCollection(i,P.nodes),i.remove()))}),u.onMouseUp.apply(this,arguments)}}placeBubbles(i){let s=this.checkOverlap,P=this.positionBubble,g=[],A=1,c=0,N=0,Z,U=[],tt,J=i.sort((G,l)=>l[2]-G[2]);if(J.length){if(g.push([[0,0,J[0][2],J[0][3],J[0][4]]]),J.length>1)for(g.push([[0,0-J[1][2]-J[0][2],J[1][2],J[1][3],J[1][4]]]),tt=2;tt<J.length;tt++)J[tt][2]=J[tt][2]||1,s(Z=P(g[A][c],g[A-1][N],J[tt]),g[A][0])?(g.push([]),N=0,g[A+1].push(P(g[A][c],g[A][0],J[tt])),A++,c=0):A>1&&g[A-1][N+1]&&s(Z,g[A-1][N+1])?(N++,g[A].push(P(g[A][c],g[A-1][N],J[tt])),c++):(c++,g[A].push(Z));this.chart.stages=g,this.chart.rawPositions=[].concat.apply([],g),this.resizeRadius(),U=this.chart.rawPositions}return U}pointAttribs(i,s){let P=this.options,g=i&&i.isParentNode,A=P.marker;g&&P.layoutAlgorithm&&P.layoutAlgorithm.parentNodeOptions&&(A=P.layoutAlgorithm.parentNodeOptions.marker);let c=A.fillOpacity,N=r.pointAttribs.call(this,i,s);return c!==1&&(N["fill-opacity"]=c),N}positionBubble(i,s,P){let g=Math.pow,A=(0,Math.sqrt)(g(i[0]-s[0],2)+g(i[1]-s[1],2)),c=(0,Math.acos)((g(A,2)+g(P[2]+s[2],2)-g(P[2]+i[2],2))/(2*(P[2]+s[2])*A)),N=(0,Math.asin)((0,Math.abs)(i[0]-s[0])/A),Z=(i[1]-s[1]<0?0:Math.PI)+c+N*((i[0]-s[0])*(i[1]-s[1])<0?1:-1);return[s[0]+(s[2]+P[2])*Math.sin(Z),s[1]-(s[2]+P[2])*Math.cos(Z),P[2],P[3],P[4]]}render(){let i=[];r.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach(s=>{L(s.dataLabels)&&s.dataLabels.forEach(P=>{i.push(P)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(i))}resizeRadius(){let i,s,P,g,A,c=this.chart,N=c.rawPositions,Z=Math.min,U=Math.max,tt=c.plotLeft,J=c.plotTop,G=c.plotHeight,l=c.plotWidth;for(let O of(i=P=Number.POSITIVE_INFINITY,s=g=Number.NEGATIVE_INFINITY,N))A=O[2],i=Z(i,O[0]-A),s=U(s,O[0]+A),P=Z(P,O[1]-A),g=U(g,O[1]+A);let w=[s-i,g-P],V=[(l-tt)/w[0],(G-J)/w[1]],z=Z.apply([],V);if(Math.abs(z-1)>1e-10){for(let O of N)O[2]*=z;this.placeBubbles(N)}else c.diffY=G/2+J-P-(g-P)/2,c.diffX=l/2+tt-i-(s-i)/2}seriesBox(){let i,s=this.chart,P=this.data,g=Math.max,A=Math.min,c=[s.plotLeft,s.plotLeft+s.plotWidth,s.plotTop,s.plotTop+s.plotHeight];return P.forEach(N=>{t(N.plotX)&&t(N.plotY)&&N.marker.radius&&(i=N.marker.radius,c[0]=A(c[0],N.plotX-i),c[1]=g(c[1],N.plotX+i),c[2]=A(c[2],N.plotY-i),c[3]=g(c[3],N.plotY+i))}),B(c.width/c.height)?c:null}setVisible(){let i=this;r.setVisible.apply(i,arguments),i.parentNodeLayout&&i.graph?i.visible?(i.graph.show(),i.parentNode.dataLabel&&i.parentNode.dataLabel.show()):(i.graph.hide(),i.parentNodeLayout.removeElementFromCollection(i.parentNode,i.parentNodeLayout.nodes),i.parentNode.dataLabel&&i.parentNode.dataLabel.hide()):i.layout&&(i.visible?i.layout.addElementsToCollection(i.points,i.layout.nodes):i.points.forEach(s=>{i.layout.removeElementFromCollection(s,i.layout.nodes)}))}translate(){let i,s,P,g=this.chart,A=this.data,c=this.index,N=this.options.useSimulation;for(let Z of(this.processedXData=this.xData,this.generatePoints(),t(g.allDataPoints)||(g.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),N?P=g.allDataPoints:(P=this.placeBubbles(g.allDataPoints),this.options.draggable=!1),P))Z[3]===c&&(i=A[Z[4]],s=Y(Z[2],void 0),N||(i.plotX=Z[0]-g.plotLeft+g.diffX,i.plotY=Z[1]-g.plotTop+g.diffY),B(s)&&(i.marker=a(i.marker,{radius:s,width:2*s,height:2*s}),i.radius=s));N&&this.deferLayout(),y(this,"afterTranslate")}}return T.defaultOptions=x(b.defaultOptions,X),a(T.prototype,{pointClass:R,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:e,alignDataLabel:r.alignDataLabel,indexateNodes:m,onMouseDown:u.onMouseDown,onMouseMove:u.onMouseMove,redrawHalo:u.redrawHalo,searchPoint:m}),j.registerSeriesType("packedbubble",T),T}),ot(d,"Series/Polygon/PolygonSeriesDefaults.js",[],function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}}),ot(d,"Series/Polygon/PolygonSeries.js",[d["Core/Globals.js"],d["Series/Polygon/PolygonSeriesDefaults.js"],d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"]],function(p,u,S,f){let{noop:R}=p,{area:X,line:C,scatter:j}=S.seriesTypes,{extend:H,merge:E}=f;class M extends j{getGraphPath(){let r=C.prototype.getGraphPath.call(this),b=r.length+1;for(;b--;)(b===r.length||r[b][0]==="M")&&b>0&&r.splice(b,0,["Z"]);return this.areaPath=r,r}drawGraph(){this.options.fillColor=this.color,X.prototype.drawGraph.call(this)}}return M.defaultOptions=E(j.defaultOptions,u),H(M.prototype,{type:"polygon",drawTracker:C.prototype.drawTracker,setStackedPoints:R}),S.registerSeriesType("polygon",M),M}),ot(d,"Core/Axis/RadialAxis.js",[d["Core/Defaults.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(p,u,S){var f;let{defaultOptions:R}=p,{composed:X,noop:C}=u,{addEvent:j,correctFloat:H,defined:E,extend:M,fireEvent:m,isObject:r,merge:b,pick:e,pushUnique:h,relativeLength:n,wrap:o}=S;return function(t){let a={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},y={endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2},L={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};function B(){this.autoConnect=this.isCircular&&e(this.userMax,this.options.max)===void 0&&H(this.endAngleRad-this.startAngleRad)===H(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function x(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(v=>this.ticks[v]&&this.ticks[v].label).filter(v=>!!v)}}function Y(){return C}function T(v,D,I){let W=this.pane.center,q=v.value,F,K,_;return this.isCircular?(E(q)?v.point&&(v.point.shapeArgs||{}).start&&(q=this.chart.inverted?this.translate(v.point.rectPlotY,!0):v.point.x):(K=v.chartX||0,_=v.chartY||0,q=this.translate(Math.atan2(_-I,K-D)-this.startAngleRad,!0)),K=(F=this.getPosition(q)).x,_=F.y):(E(q)||(K=v.chartX,_=v.chartY),E(K)&&E(_)&&(I=W[1]+this.chart.plotTop,q=this.translate(Math.min(Math.sqrt(Math.pow(K-D,2)+Math.pow(_-I,2)),W[2]/2)-W[3]/2,!0))),[q,K||0,_||0]}function k(v,D,I){let W=this.pane.center,q=this.chart,F=this.left||0,K=this.top||0,_,Q=e(D,W[2]/2-this.offset),it;return I===void 0&&(I=this.horiz?0:this.center&&-this.center[3]/2),I&&(Q+=I),this.isCircular||D!==void 0?((it=this.chart.renderer.symbols.arc(F+W[0],K+W[1],Q,Q,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[F+W[0]],it.yBounds=[K+W[1]-Q]):(_=this.postTranslate(this.angleRad,Q),it=[["M",this.center[0]+q.plotLeft,this.center[1]+q.plotTop],["L",_.x,_.y]]),it}function i(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function s(v,D,I){let W=this.chart,q=gt=>{if(typeof gt=="string"){let bt=parseInt(gt,10);return ht.test(gt)&&(bt=bt*_/100),bt}return gt},F=this.center,K=this.startAngleRad,_=F[2]/2,Q=Math.min(this.offset,0),it=this.left||0,rt=this.top||0,ht=/%$/,at=this.isCircular,et,nt,lt,pt,mt,ct,ft=e(q(I.outerRadius),_),dt=q(I.innerRadius),ut=e(q(I.thickness),10);if(this.options.gridLineInterpolation==="polygon")ct=this.getPlotLinePath({value:v}).concat(this.getPlotLinePath({value:D,reverse:!0}));else{v=Math.max(v,this.min),D=Math.min(D,this.max);let gt=this.translate(v),bt=this.translate(D);at||(ft=gt||0,dt=bt||0),I.shape!=="circle"&&at?(et=K+(gt||0),nt=K+(bt||0)):(et=-Math.PI/2,nt=1.5*Math.PI,mt=!0),ft-=Q,ut-=Q,ct=W.renderer.symbols.arc(it+F[0],rt+F[1],ft,ft,{start:Math.min(et,nt),end:Math.max(et,nt),innerR:e(dt,ft-ut),open:mt}),at&&(lt=(nt+et)/2,pt=it+F[0]+F[2]/2*Math.cos(lt),ct.xBounds=lt>-Math.PI/2&&lt<Math.PI/2?[pt,W.plotWidth]:[0,pt],ct.yBounds=[rt+F[1]+F[2]/2*Math.sin(lt)],ct.yBounds[0]+=lt>-Math.PI&&lt<0||lt>Math.PI?-10:10)}return ct}function P(v){let D=this.pane.center,I=this.chart,W=I.inverted,q=v.reverse,F=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},K=F.innerRadius||"0%",_=F.outerRadius||"100%",Q=D[0]+I.plotLeft,it=D[1]+I.plotTop,rt=this.height,ht=v.isCrosshair,at=D[3]/2,et=v.value,nt,lt,pt,mt,ct,ft,dt,ut,gt,bt=this.getPosition(et),xt=bt.x,Pt=bt.y;if(ht&&(et=(ut=this.getCrosshairPosition(v,Q,it))[0],xt=ut[1],Pt=ut[2]),this.isCircular)lt=Math.sqrt(Math.pow(xt-Q,2)+Math.pow(Pt-it,2)),pt=typeof K=="string"?n(K,1):K/lt,mt=typeof _=="string"?n(_,1):_/lt,D&&at&&(pt<(nt=at/lt)&&(pt=nt),mt<nt&&(mt=nt)),gt=[["M",Q+pt*(xt-Q),it-pt*(it-Pt)],["L",xt-(1-mt)*(xt-Q),Pt+(1-mt)*(it-Pt)]];else if((et=this.translate(et))&&(et<0||et>rt)&&(et=0),this.options.gridLineInterpolation==="circle")gt=this.getLinePath(0,et,at);else if(gt=[],I[W?"yAxis":"xAxis"].forEach(St=>{St.pane===this.pane&&(ct=St)}),ct){dt=ct.tickPositions,ct.autoConnect&&(dt=dt.concat([dt[0]])),q&&(dt=dt.slice().reverse()),et&&(et+=at);for(let St=0;St<dt.length;St++)ft=ct.getPosition(dt[St],et),gt.push(St?["L",ft.x,ft.y]:["M",ft.x,ft.y])}return gt}function g(v,D){let I=this.translate(v);return this.postTranslate(this.isCircular?I:this.angleRad,e(this.isCircular?D:I<0?0:I,this.center[2]/2)-this.offset)}function A(){let v=this.center,D=this.chart,I=this.options.title;return{x:D.plotLeft+v[0]+(I.x||0),y:D.plotTop+v[1]-{high:.5,middle:.25,low:0}[I.align]*v[2]+(I.y||0)}}function c(v){v.beforeSetTickPositions=B,v.createLabelCollector=x,v.getCrosshairPosition=T,v.getLinePath=k,v.getOffset=i,v.getPlotBandPath=s,v.getPlotLinePath=P,v.getPosition=g,v.getTitlePosition=A,v.postTranslate=w,v.setAxisSize=z,v.setAxisTranslation=O,v.setOptions=$}function N(){let v=this.chart,D=this.options,I=v.angular&&this.isXAxis,W=this.pane,q=W&&W.options;if(!I&&W&&(v.angular||v.polar)){let F=2*Math.PI,K=(e(q.startAngle,0)-90)*Math.PI/180,_=(e(q.endAngle,e(q.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(D.angle||0)*Math.PI/180,this.startAngleRad=K,this.endAngleRad=_,this.offset=D.offset||0;let Q=(K%F+F)%F,it=(_%F+F)%F;Q>Math.PI&&(Q-=F),it>Math.PI&&(it-=F),this.normalizedStartAngleRad=Q,this.normalizedEndAngleRad=it}}function Z(v){this.isRadial&&(v.align=void 0,v.preventDefault())}function U(){if(this.chart&&this.chart.labelCollectors){let v=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;v>=0&&this.chart.labelCollectors.splice(v,1)}}function tt(v){let D,I=this.chart,W=I.angular,q=I.polar,F=this.isXAxis,K=this.coll,_=v.userOptions.pane||0,Q=this.pane=I.pane&&I.pane[_];if(K==="colorAxis"){this.isRadial=!1;return}W?(W&&F?(this.isHidden=!0,this.createLabelCollector=Y,this.getOffset=C,this.redraw=V,this.render=V,this.setScale=C,this.setCategories=C,this.setTitle=C):c(this),D=!F):q&&(c(this),D=this.horiz),W||q?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&I.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Q&&D&&(Q.axis=this),this.isCircular=D}function J(){this.isRadial&&this.beforeSetTickPositions()}function G(v){let D=this.label;if(!D)return;let I=this.axis,W=D.getBBox(),q=I.options.labels,F=(I.translate(this.pos)+I.startAngleRad+Math.PI/2)/Math.PI*180%360,K=Math.round(F),_=E(q.y)?0:-(.3*W.height),Q=q.y,it,rt=20,ht=q.align,at="end",et=K<0?K+360:K,nt=et,lt=0,pt=0;I.isRadial&&(it=I.getPosition(this.pos,I.center[2]/2+n(e(q.distance,-25),I.center[2]/2,-I.center[2]/2)),q.rotation==="auto"?D.attr({rotation:F}):E(Q)||(Q=I.chart.renderer.fontMetrics(D).b-W.height/2),E(ht)||(I.isCircular?(W.width>I.len*I.tickInterval/(I.max-I.min)&&(rt=0),ht=F>rt&&F<180-rt?"left":F>180+rt&&F<360-rt?"right":"center"):ht="center",D.attr({align:ht})),ht==="auto"&&I.tickPositions.length===2&&I.isCircular&&(et>90&&et<180?et=180-et:et>270&&et<=360&&(et=540-et),nt>180&&nt<=360&&(nt=360-nt),(I.pane.options.startAngle===K||I.pane.options.startAngle===K+360||I.pane.options.startAngle===K-360)&&(at="start"),ht=K>=-90&&K<=90||K>=-360&&K<=-270||K>=270&&K<=360?at==="start"?"right":"left":at==="start"?"left":"right",nt>70&&nt<110&&(ht="center"),et<15||et>=180&&et<195?lt=.3*W.height:et>=15&&et<=35?lt=at==="start"?0:.75*W.height:et>=195&&et<=215?lt=at==="start"?.75*W.height:0:et>35&&et<=90?lt=at==="start"?-(.25*W.height):W.height:et>215&&et<=270&&(lt=at==="start"?W.height:-(.25*W.height)),nt<15?pt=at==="start"?-(.15*W.height):.15*W.height:nt>165&&nt<=180&&(pt=at==="start"?.15*W.height:-(.15*W.height)),D.attr({align:ht}),D.translate(pt,lt+_)),v.pos.x=it.x+(q.x||0),v.pos.y=it.y+(Q||0))}function l(v){this.axis.getPosition&&M(v.pos,this.axis.getPosition(this.pos))}function w(v,D){let I=this.chart,W=this.center;return v=this.startAngleRad+v,{x:I.plotLeft+W[0]+Math.cos(v)*D,y:I.plotTop+W[1]+Math.sin(v)*D}}function V(){this.isDirty=!1}function z(){let v,D;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),v=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(D=this.postTranslate(this.angleRad,v[3]/2),v[0]=D.x-this.chart.plotLeft,v[1]=D.y-this.chart.plotTop),this.len=this.width=this.height=(v[2]-v[3])*e(this.sector,1)/2)}function O(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function $(v){let{coll:D}=this,{angular:I,inverted:W,polar:q}=this.chart,F={};I?this.isXAxis||(F=b(R.yAxis,y)):q&&(F=this.horiz?b(R.xAxis,a):b(D==="xAxis"?R.xAxis:R.yAxis,L)),W&&D==="yAxis"&&(F.stackLabels=r(R.yAxis,!0)?R.yAxis.stackLabels:{},F.reversedStacks=!0);let K=this.options=b(F,v);K.plotBands||(K.plotBands=[]),m(this,"afterSetOptions")}function st(v,D,I,W,q,F,K){let _,Q=this.axis;return Q.isRadial?["M",D,I,"L",(_=Q.getPosition(this.pos,Q.center[2]/2+W)).x,_.y]:v.call(this,D,I,W,q,F,K)}t.compose=function(v,D){return h(X,"Axis.Radial")&&(j(v,"afterInit",N),j(v,"autoLabelAlign",Z),j(v,"destroy",U),j(v,"init",tt),j(v,"initialAxisTranslation",J),j(D,"afterGetLabelPosition",G),j(D,"afterGetPosition",l),o(D.prototype,"getMarkPath",st)),v}}(f||(f={})),f}),ot(d,"Series/PolarComposition.js",[d["Core/Animation/AnimationUtilities.js"],d["Core/Globals.js"],d["Core/Series/Series.js"],d["Extensions/Pane/Pane.js"],d["Core/Axis/RadialAxis.js"],d["Core/Utilities.js"]],function(p,u,S,f,R,X){let{animObject:C}=p,{composed:j}=u,{addEvent:H,defined:E,find:M,isNumber:m,merge:r,pick:b,pushUnique:e,relativeLength:h,splat:n,uniqueKey:o,wrap:t}=X;function a(){(this.pane||[]).forEach(G=>{G.render()})}function y(G){let l=G.args[0].xAxis,w=G.args[0].yAxis,V=G.args[0].chart;l&&w&&(w.gridLineInterpolation==="polygon"?(l.startOnTick=!0,l.endOnTick=!0):l.gridLineInterpolation==="polygon"&&V.inverted&&(w.startOnTick=!0,w.endOnTick=!0))}function L(){this.pane||(this.pane=[]),this.options.pane=n(this.options.pane),this.options.pane.forEach(G=>{new f(G,this)},this)}function B(G){let l=G.args.marker,w=this.chart.xAxis[0],V=this.chart.yAxis[0],z=this.chart.inverted,O=z?V:w,$=z?w:V;if(this.chart.polar){G.preventDefault();let st=(l.attr?l.attr("start"):l.start)-O.startAngleRad,v=l.attr?l.attr("r"):l.r,D=(l.attr?l.attr("end"):l.end)-O.startAngleRad,I=l.attr?l.attr("innerR"):l.innerR;G.result.x=st+O.pos,G.result.width=D-st,G.result.y=$.len+$.pos-v,G.result.height=v-I}}function x(G){let l=this.chart;if(l.polar&&l.hoverPane&&l.hoverPane.axis){G.preventDefault();let w=l.hoverPane.center,V=l.mouseDownX||0,z=l.mouseDownY||0,O=G.args.chartY,$=G.args.chartX,st=2*Math.PI,v=l.hoverPane.axis.startAngleRad,D=l.hoverPane.axis.endAngleRad,I=l.inverted?l.xAxis[0]:l.yAxis[0],W={},q="arc";if(W.x=w[0]+l.plotLeft,W.y=w[1]+l.plotTop,this.zoomHor){let F=v>0?D-v:Math.abs(v)+Math.abs(D),K=Math.atan2(z-l.plotTop-w[1],V-l.plotLeft-w[0])-v,_=Math.atan2(O-l.plotTop-w[1],$-l.plotLeft-w[0])-v;W.r=w[2]/2,W.innerR=w[3]/2,K<=0&&(K+=st),_<=0&&(_+=st),_<K&&(_=[K,K=_][0]),F<st&&v+_>D+(st-F)/2&&(_=K,K=v<=0?v:0);let Q=W.start=Math.max(K+v,v),it=W.end=Math.min(_+v,D);if(I.options.gridLineInterpolation==="polygon"){let rt=l.hoverPane.axis,ht=Q-rt.startAngleRad+rt.pos,at=I.getPlotLinePath({value:I.max}),et=rt.toValue(ht),nt=rt.toValue(ht+(it-Q));if(et<rt.getExtremes().min){let{min:lt,max:pt}=rt.getExtremes();et=pt-(lt-et)}if(nt<rt.getExtremes().min){let{min:lt,max:pt}=rt.getExtremes();nt=pt-(lt-nt)}nt<et&&(nt=[et,et=nt][0]),(at=i(at,et,nt,rt)).push(["L",w[0]+l.plotLeft,l.plotTop+w[1]]),W.d=at,q="path"}}if(this.zoomVert){let F=l.inverted?l.xAxis[0]:l.yAxis[0],K=Math.sqrt(Math.pow(V-l.plotLeft-w[0],2)+Math.pow(z-l.plotTop-w[1],2)),_=Math.sqrt(Math.pow($-l.plotLeft-w[0],2)+Math.pow(O-l.plotTop-w[1],2));if(_<K&&(K=[_,_=K][0]),_>w[2]/2&&(_=w[2]/2),K<w[3]/2&&(K=w[3]/2),this.zoomHor||(W.start=v,W.end=D),W.r=_,W.innerR=K,F.options.gridLineInterpolation==="polygon"){let Q=F.toValue(F.len+F.pos-K),it=F.toValue(F.len+F.pos-_),rt=F.getPlotLinePath({value:it}).concat(F.getPlotLinePath({value:Q,reverse:!0}));W.d=rt,q="path"}}if(this.zoomHor&&this.zoomVert&&I.options.gridLineInterpolation==="polygon"){let F=l.hoverPane.axis,K=W.start||0,_=W.end||0,Q=K-F.startAngleRad+F.pos,it=F.toValue(Q),rt=F.toValue(Q+(_-K));if(W.d instanceof Array){let ht=W.d.slice(0,W.d.length/2),at=W.d.slice(W.d.length/2,W.d.length);at=[...at].reverse();let et=l.hoverPane.axis;ht=i(ht,it,rt,et),(at=i(at,it,rt,et))&&(at[0][0]="L"),at=[...at].reverse(),W.d=ht.concat(at),q="path"}}G.attrs=W,G.shapeType=q}}function Y(){let G=this.chart;G.polar&&(this.polar=new J(this),G.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function T(){if(this.chart.polar&&this.xAxis){let{xAxis:G,yAxis:l}=this,w=this.chart;this.kdByAngle=w.tooltip&&w.tooltip.shared,this.kdByAngle||w.inverted?this.searchPoint=k:this.options.findNearestPointBy="xy";let V=this.points,z=V.length;for(;z--;)this.is("column")||this.is("columnrange")||this.polar.toXY(V[z]),w.hasParallelCoordinates||this.yAxis.reversed||(b(V[z].y,Number.MIN_VALUE)<l.min||V[z].x<G.min||V[z].x>G.max?(V[z].isNull=!0,V[z].plotY=NaN):V[z].isNull=V[z].isValid&&!V[z].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(H(this,"afterRender",function(){let O;w.polar&&this.options.clip!==!1&&(O=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:O[0],y:O[1],r:O[2]/2,innerR:O[3]/2}):this.clipCircle=function($,st,v,D,I){let W=o(),q=$.createElement("clipPath").attr({id:W}).add($.defs),F=I?$.arc(st,v,D,I,0,2*Math.PI).add(q):$.circle(st,v,D).add(q);return F.id=W,F.clipPath=q,F}(w.renderer,O[0],O[1],O[2]/2,O[3]/2),this.group.clip(this.clipCircle),this.setClip=u.noop)})))}}function k(G){let l=this.chart,w=this.xAxis,V=this.yAxis,z=w.pane&&w.pane.center,O=G.chartX-(z&&z[0]||0)-l.plotLeft,$=G.chartY-(z&&z[1]||0)-l.plotTop,st=l.inverted?{clientX:G.chartX-V.pos,plotY:G.chartY-w.pos}:{clientX:180+-180/Math.PI*Math.atan2(O,$)};return this.searchKDTree(st)}function i(G,l,w,V){let z=V.tickInterval,O=V.tickPositions,$=M(O,v=>v>=w),st=M([...O].reverse(),v=>v<=l);return E($)||($=O[O.length-1]),E(st)||(st=O[0],$+=z,G[0][0]="L",G.unshift(G[G.length-3])),(G=G.slice(O.indexOf(st),O.indexOf($)+1))[0][0]="M",G}function s(G,l){return M(this.pane||[],w=>w.options.id===l)||G.call(this,l)}function P(G,l,w,V,z,O){let $,st,v,D=this.chart,I=b(V.inside,!!this.options.stacking);if(D.polar){if($=l.rectPlotX/Math.PI*180,D.inverted)this.forceDL=D.isInsidePlot(l.plotX,l.plotY),I&&l.shapeArgs?(st=l.shapeArgs,z=r(z,{x:(v=this.yAxis.postTranslate(((st.start||0)+(st.end||0))/2-this.xAxis.startAngleRad,l.barX+l.pointWidth/2)).x-D.plotLeft,y:v.y-D.plotTop})):l.tooltipPos&&(z=r(z,{x:l.tooltipPos[0],y:l.tooltipPos[1]})),V.align=b(V.align,"center"),V.verticalAlign=b(V.verticalAlign,"middle");else{var W;let q,F;(W=V).align===null&&(q=$>20&&$<160?"left":$>200&&$<340?"right":"center",W.align=q),W.verticalAlign===null&&(F=$<45||$>315?"bottom":$>135&&$<225?"top":"middle",W.verticalAlign=F),V=W}S.prototype.alignDataLabel.call(this,l,w,V,z,O),this.isRadialBar&&l.shapeArgs&&l.shapeArgs.start===l.shapeArgs.end?w.hide():w.show()}else G.call(this,l,w,V,z,O)}function g(){let G=this.options,l=G.stacking,w=this.chart,V=this.xAxis,z=this.yAxis,O=z.reversed,$=z.center,st=V.startAngleRad,v=V.endAngleRad-st,D=G.threshold,I=0,W,q,F,K,_,Q=0,it=0,rt,ht,at,et,nt,lt,pt,mt;if(V.isRadial)for(F=(W=this.points).length,K=z.translate(z.min),_=z.translate(z.max),D=G.threshold||0,w.inverted&&m(D)&&E(I=z.translate(D))&&(I<0?I=0:I>v&&(I=v),this.translatedThreshold=I+st);F--;){if(lt=(q=W[F]).barX,ht=q.x,at=q.y,q.shapeType="arc",w.inverted){q.plotY=z.translate(at),l&&z.stacking?(nt=z.stacking.stacks[(at<0?"-":"")+this.stackKey],this.visible&&nt&&nt[ht]&&!q.isNull&&(et=nt[ht].points[this.getStackIndicator(void 0,ht,this.index).key],Q=z.translate(et[0]),it=z.translate(et[1]),E(Q)&&(Q=X.clamp(Q,0,v)))):(Q=I,it=q.plotY),Q>it&&(it=[Q,Q=it][0]),O?it>K?it=K:Q<_?Q=_:(Q>K||it<_)&&(Q=it=v):Q<K?Q=K:it>_?it=_:(it<K||Q>_)&&(Q=it=0),z.min>z.max&&(Q=it=O?v:0),Q+=st,it+=st,$&&(q.barX=lt+=$[3]/2),pt=Math.max(lt,0),mt=Math.max(lt+q.pointWidth,0);let ct=G.borderRadius,ft=h((typeof ct=="object"?ct.radius:ct)||0,mt-pt);q.shapeArgs={x:$[0],y:$[1],r:mt,innerR:pt,start:Q,end:it,borderRadius:ft},q.opacity=Q===it?0:void 0,q.plotY=(E(this.translatedThreshold)&&(Q<this.translatedThreshold?Q:it))-st}else Q=lt+st,q.shapeArgs=this.polar.arc(q.yBottom,q.plotY,Q,Q+q.pointWidth),q.shapeArgs.borderRadius=0;this.polar.toXY(q),w.inverted?(rt=z.postTranslate(q.rectPlotY,lt+q.pointWidth/2),q.tooltipPos=[rt.x-w.plotLeft,rt.y-w.plotTop]):q.tooltipPos=[q.plotX,q.plotY],$&&(q.ttBelow=q.plotY>$[1])}}function A(G,l){let w,V,z=this;if(this.chart.polar){l=l||this.points;for(let $=0;$<l.length;$++)if(!l[$].isNull){w=$;break}this.options.connectEnds!==!1&&w!==void 0&&(this.connectEnds=!0,l.splice(l.length,0,l[w]),V=!0),l.forEach($=>{$.polarPlotY===void 0&&z.polar.toXY($)})}let O=G.apply(this,[].slice.call(arguments,1));return V&&l.pop(),O}function c(G,l){let w=this.chart,V={xAxis:[],yAxis:[]};return w.polar?w.axes.forEach(z=>{if(z.coll==="colorAxis")return;let O=z.isXAxis,$=z.center,st=l.chartX-$[0]-w.plotLeft,v=l.chartY-$[1]-w.plotTop;V[O?"xAxis":"yAxis"].push({axis:z,value:z.translate(O?Math.PI-Math.atan2(st,v):Math.sqrt(Math.pow(st,2)+Math.pow(v,2)),!0)})}):V=G.call(this,l),V}function N(G,l){this.chart.polar||G.call(this,l)}function Z(G,l){let w=this,V=this.chart,z=this.group,O=this.markerGroup,$=this.xAxis&&this.xAxis.center,st=V.plotLeft,v=V.plotTop,D=this.options.animation,I,W,q,F,K,_;V.polar?w.isRadialBar?l||(w.startAngleRad=b(w.translatedThreshold,w.xAxis.startAngleRad),u.seriesTypes.pie.prototype.animate.call(w,l)):(D=C(D),w.is("column")?l||(W=$[3]/2,w.points.forEach(Q=>{q=Q.graphic,K=(F=Q.shapeArgs)&&F.r,_=F&&F.innerR,q&&F&&(q.attr({r:W,innerR:W}),q.animate({r:K,innerR:_},w.options.animation))})):l?(I={translateX:$[0]+st,translateY:$[1]+v,scaleX:.001,scaleY:.001},z.attr(I),O&&O.attr(I)):(I={translateX:st,translateY:v,scaleX:1,scaleY:1},z.animate(I,D),O&&O.animate(I,D))):G.call(this,l)}function U(G,l,w,V){let z,O;if(this.chart.polar)if(V){let $=(O=function v(D,I,W,q){let F,K,_,Q,it,rt,ht=q?1:0,at=(F=I>=0&&I<=D.length-1?I:I<0?D.length-1+I:0)-1<0?D.length-(1+ht):F-1,et=F+1>D.length-1?ht:F+1,nt=D[at],lt=D[et],pt=nt.plotX,mt=nt.plotY,ct=lt.plotX,ft=lt.plotY,dt=D[F].plotX,ut=D[F].plotY;K=(1.5*dt+pt)/2.5,_=(1.5*ut+mt)/2.5,Q=(1.5*dt+ct)/2.5,it=(1.5*ut+ft)/2.5;let gt=Math.sqrt(Math.pow(K-dt,2)+Math.pow(_-ut,2)),bt=Math.sqrt(Math.pow(Q-dt,2)+Math.pow(it-ut,2)),xt=Math.atan2(_-ut,K-dt);rt=Math.PI/2+(xt+Math.atan2(it-ut,Q-dt))/2,Math.abs(xt-rt)>Math.PI/2&&(rt-=Math.PI),K=dt+Math.cos(rt)*gt,_=ut+Math.sin(rt)*gt;let Pt={rightContX:Q=dt+Math.cos(Math.PI+rt)*bt,rightContY:it=ut+Math.sin(Math.PI+rt)*bt,leftContX:K,leftContY:_,plotX:dt,plotY:ut};return W&&(Pt.prevPointCont=v(D,at,!1,q)),Pt}(l,V,!0,this.connectEnds)).prevPointCont&&O.prevPointCont.rightContX,st=O.prevPointCont&&O.prevPointCont.rightContY;z=["C",m($)?$:O.plotX,m(st)?st:O.plotY,m(O.leftContX)?O.leftContX:O.plotX,m(O.leftContY)?O.leftContY:O.plotY,O.plotX,O.plotY]}else z=["M",w.plotX,w.plotY];else z=G.call(this,l,w,V);return z}function tt(G,l,w=this.plotY){if(!this.destroyed){let{plotX:V,series:z}=this,{chart:O}=z;return O.polar&&m(V)&&m(w)?[V+(l?O.plotLeft:0),w+(l?O.plotTop:0)]:G.call(this,l,w)}}class J{static compose(l,w,V,z,O,$,st,v,D,I){if(f.compose(w,V),R.compose(l,O),e(j,"Polar")){let W=w.prototype,q=$.prototype,F=V.prototype,K=z.prototype;if(H(w,"afterDrawChartBox",a),H(w,"getAxes",L),H(w,"init",y),t(W,"get",s),t(F,"getCoordinates",c),t(F,"pinch",N),H(V,"getSelectionMarkerAttrs",x),H(V,"getSelectionBox",B),H(z,"afterInit",Y),H(z,"afterTranslate",T,{order:2}),H(z,"afterColumnTranslate",g,{order:4}),t(K,"animate",Z),t(q,"pos",tt),v){let _=v.prototype;t(_,"alignDataLabel",P),t(_,"animate",Z)}if(D&&t(D.prototype,"getGraphPath",A),I){let _=I.prototype;t(_,"getPointSpline",U),st&&(st.prototype.getPointSpline=_.getPointSpline)}}}constructor(l){this.series=l}arc(l,w,V,z){let O=this.series,$=O.xAxis.center,st=O.yAxis.len,v=$[3]/2,D=st-w+v,I=st-b(l,st)+v;return O.yAxis.reversed&&(D<0&&(D=v),I<0&&(I=v)),{x:$[0],y:$[1],r:D,innerR:I,start:V,end:z}}toXY(l){let w=this.series,V=w.chart,z=w.xAxis,O=w.yAxis,$=l.plotX,st=V.inverted,v=l.y,D=l.plotY,I=st?$:O.len-D,W;if(st&&w&&!w.isRadialBar&&(l.plotY=D=m(v)?O.translate(v):0),l.rectPlotX=$,l.rectPlotY=D,O.center&&(I+=O.center[3]/2),m(D)){let q=st?O.postTranslate(D,I):z.postTranslate($,I);l.plotX=l.polarPlotX=q.x-V.plotLeft,l.plotY=l.polarPlotY=q.y-V.plotTop}w.kdByAngle?((W=($/Math.PI*180+z.pane.options.startAngle)%360)<0&&(W+=360),l.clientX=W):l.clientX=l.plotX}}return J}),ot(d,"Core/Axis/WaterfallAxis.js",[d["Core/Globals.js"],d["Core/Axis/Stacking/StackItem.js"],d["Core/Utilities.js"]],function(p,u,S){var f;let{composed:R}=p,{addEvent:X,objectEach:C,pushUnique:j}=S;return function(H){function E(){let e=this.waterfall.stacks;e&&(e.changed=!1,delete e.alreadyChanged)}function M(){let e=this.options.stackLabels;e&&e.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function m(){this.waterfall||(this.waterfall=new b(this))}function r(){let e=this.axes;for(let h of this.series)if(h.options.stacking){for(let n of e)n.isXAxis||(n.waterfall.stacks.changed=!0);break}}H.compose=function(e,h){j(R,"Axis.Waterfall")&&(X(e,"init",m),X(e,"afterBuildStacks",E),X(e,"afterRender",M),X(h,"beforeRedraw",r))};class b{constructor(h){this.axis=h,this.stacks={changed:!1}}renderStackTotals(){let h=this.axis,n=h.waterfall.stacks,o=h.stacking&&h.stacking.stackTotalGroup,t=new u(h,h.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=t,o&&C(n,a=>{C(a,(y,L)=>{t.total=y.stackTotal,t.x=+L,y.label&&(t.label=y.label),u.prototype.render.call(t,o),y.label=t.label,delete t.label})}),t.total=null}}H.Composition=b}(f||(f={})),f}),ot(d,"Series/Waterfall/WaterfallPoint.js",[d["Series/Column/ColumnSeries.js"],d["Core/Series/Point.js"],d["Core/Utilities.js"]],function(p,u,S){let{isNumber:f}=S;class R extends p.prototype.pointClass{getClassName(){let C=u.prototype.getClassName.call(this);return this.isSum?C+=" highcharts-sum":this.isIntermediateSum&&(C+=" highcharts-intermediate-sum"),C}isValid(){return f(this.y)||this.isSum||!!this.isIntermediateSum}}return R}),ot(d,"Series/Waterfall/WaterfallSeriesDefaults.js",[],function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}}),ot(d,"Series/Waterfall/WaterfallSeries.js",[d["Core/Series/SeriesRegistry.js"],d["Core/Utilities.js"],d["Core/Axis/WaterfallAxis.js"],d["Series/Waterfall/WaterfallPoint.js"],d["Series/Waterfall/WaterfallSeriesDefaults.js"]],function(p,u,S,f,R){let{column:X,line:C}=p.seriesTypes,{addEvent:j,arrayMax:H,arrayMin:E,correctFloat:M,extend:m,isNumber:r,merge:b,objectEach:e,pick:h}=u;function n(t,a){return Object.hasOwnProperty.call(t,a)}class o extends X{generatePoints(){X.prototype.generatePoints.apply(this);for(let a=0,y=this.points.length;a<y;a++){let L=this.points[a],B=this.processedYData[a];r(B)&&(L.isIntermediateSum||L.isSum)&&(L.y=M(B))}}processData(a){let y,L,B,x,Y,T,k=this.options,i=this.yData,s=k.data,P=i.length,g=k.threshold||0;B=L=x=Y=0;for(let A=0;A<P;A++)T=i[A],y=s&&s[A]?s[A]:{},T==="sum"||y.isSum?i[A]=M(B):T==="intermediateSum"||y.isIntermediateSum?(i[A]=M(L),L=0):(B+=T,L+=T),x=Math.min(B,x),Y=Math.max(B,Y);super.processData.call(this,a),k.stacking||(this.dataMin=x+g,this.dataMax=Y)}toYData(a){return a.isSum?"sum":a.isIntermediateSum?"intermediateSum":a.y}updateParallelArrays(a,y){super.updateParallelArrays.call(this,a,y),(this.yData[0]==="sum"||this.yData[0]==="intermediateSum")&&(this.yData[0]=null)}pointAttribs(a,y){let L=this.options.upColor;L&&!a.options.color&&r(a.y)&&(a.color=a.y>0?L:void 0);let B=X.prototype.pointAttribs.call(this,a,y);return delete B.dashstyle,B}getGraphPath(){return[["M",0,0]]}getCrispPath(){let a=this.data.filter(s=>r(s.y)),y=this.yAxis,L=a.length,B=Math.round(this.graph.strokeWidth())%2/2,x=Math.round(this.borderWidth)%2/2,Y=this.xAxis.reversed,T=this.yAxis.reversed,k=this.options.stacking,i=[];for(let s=1;s<L;s++){if(!(this.options.connectNulls||r(this.data[a[s].index-1].y)))continue;let P=a[s].box,g=a[s-1],A=g.y||0,c=a[s-1].box;if(!P||!c)continue;let N=y.waterfall.stacks[this.stackKey],Z=A>0?-c.height:0;if(N&&c&&P){let U,tt=N[s-1];if(k){let J=tt.connectorThreshold;U=Math.round(y.translate(J,!1,!0,!1,!0)+(T?Z:0))-B}else U=c.y+g.minPointLengthOffset+x-B;i.push(["M",(c.x||0)+(Y?0:c.width||0),U],["L",(P.x||0)+(Y&&P.width||0),U])}if(c&&i.length&&(!k&&A<0&&!T||A>0&&T)){let U=i[i.length-2];U&&typeof U[2]=="number"&&(U[2]+=c.height||0);let tt=i[i.length-1];tt&&typeof tt[2]=="number"&&(tt[2]+=c.height||0)}}return i}drawGraph(){C.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(a){let y=this.options,L=a.waterfall?.stacks,B=y.threshold||0,x=this.stackKey,Y=this.xData,T=Y.length,k=B,i=k,s,P=0,g=0,A=0,c,N,Z,U,tt,J,G,l,w=(V,z,O,$)=>{if(s){if(c)for(;O<c;O++)s.stackState[O]+=$;else s.stackState[0]=V,c=s.stackState.length;s.stackState.push(s.stackState[c-1]+z)}};if(a.stacking&&L&&this.reserveSpace()){l=L.changed,(G=L.alreadyChanged)&&0>G.indexOf(x)&&(l=!0),L[x]||(L[x]={});let V=L[x];if(V)for(let z=0;z<T;z++)(!V[J=Y[z]]||l)&&(V[J]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:l&&V[J]?V[J].label:void 0}),s=V[J],(tt=this.yData[z])>=0?s.posTotal+=tt:s.negTotal+=tt,U=y.data[z],N=s.absolutePos=s.posTotal,Z=s.absoluteNeg=s.negTotal,s.stackTotal=N+Z,c=s.stackState.length,U&&U.isIntermediateSum?(w(A,g,0,A),A=g,g=B,k^=i,i^=k,k^=i):U&&U.isSum?(w(B,P,c,0),k=B):(w(k,tt,0,P),U&&(P+=tt,g+=tt)),s.stateIndex++,s.threshold=k,k+=s.stackTotal;L.changed=!1,L.alreadyChanged||(L.alreadyChanged=[]),L.alreadyChanged.push(x)}}getExtremes(){let a,y,L,B=this.options.stacking;return B?(a=this.yAxis.waterfall.stacks,y=this.stackedYNeg=[],L=this.stackedYPos=[],B==="overlap"?e(a[this.stackKey],function(x){y.push(E(x.stackState)),L.push(H(x.stackState))}):e(a[this.stackKey],function(x){y.push(x.negTotal+x.threshold),L.push(x.posTotal+x.threshold)}),{dataMin:E(y),dataMax:H(L)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return o.defaultOptions=b(X.defaultOptions,R),o.compose=S.compose,m(o.prototype,{pointValKey:"y",showLine:!0,pointClass:f}),j(o,"afterColumnTranslate",function(){let{options:t,points:a,yAxis:y}=this,L=h(t.minPointLength,5),B=L/2,x=t.threshold||0,Y=t.stacking,T=y.waterfall.stacks[this.stackKey],k=x,i=x,s,P,g,A;for(let c=0;c<a.length;c++){let N=a[c],Z=this.processedYData[c],U=m({x:0,y:0,width:0,height:0},N.shapeArgs||{});N.box=U;let tt=[0,Z],J=N.y||0;if(Y){if(T){let l=T[c];Y==="overlap"?(P=l.stackState[l.stateIndex--],s=J>=0?P:P-J,n(l,"absolutePos")&&delete l.absolutePos,n(l,"absoluteNeg")&&delete l.absoluteNeg):(J>=0?(P=l.threshold+l.posTotal,l.posTotal-=J,s=P):(P=l.threshold+l.negTotal,l.negTotal-=J,s=P-J),!l.posTotal&&r(l.absolutePos)&&n(l,"absolutePos")&&(l.posTotal=l.absolutePos,delete l.absolutePos),!l.negTotal&&r(l.absoluteNeg)&&n(l,"absoluteNeg")&&(l.negTotal=l.absoluteNeg,delete l.absoluteNeg)),N.isSum||(l.connectorThreshold=l.threshold+l.stackTotal),y.reversed?(g=J>=0?s-J:s+J,A=s):(g=s,A=s-J),N.below=g<=x,U.y=y.translate(g,!1,!0,!1,!0),U.height=Math.abs(U.y-y.translate(A,!1,!0,!1,!0));let w=y.waterfall.dummyStackItem;w&&(w.x=c,w.label=T[c].label,w.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[c],this.stackedYPos[c],void 0,this.xAxis))}}else s=Math.max(i,i+J)+tt[0],U.y=y.translate(s,!1,!0,!1,!0),N.isSum?(U.y=y.translate(tt[1],!1,!0,!1,!0),U.height=Math.min(y.translate(tt[0],!1,!0,!1,!0),y.len)-U.y,N.below=tt[1]<=x):N.isIntermediateSum?(J>=0?(g=tt[1]+k,A=k):(g=k,A=tt[1]+k),y.reversed&&(g^=A,A^=g,g^=A),U.y=y.translate(g,!1,!0,!1,!0),U.height=Math.abs(U.y-Math.min(y.translate(A,!1,!0,!1,!0),y.len)),k+=tt[1],N.below=g<=x):(U.height=Z>0?y.translate(i,!1,!0,!1,!0)-U.y:y.translate(i,!1,!0,!1,!0)-y.translate(i-Z,!1,!0,!1,!0),i+=Z,N.below=i<x),U.height<0&&(U.y+=U.height,U.height*=-1);N.plotY=U.y=Math.round(U.y||0)-this.borderWidth%2/2,U.height=Math.max(Math.round(U.height||0),.001),N.yBottom=U.y+U.height,U.height<=L&&!N.isNull?(U.height=L,U.y-=B,N.plotY=U.y,J<0?N.minPointLengthOffset=-B:N.minPointLengthOffset=B):(N.isNull&&(U.width=0),N.minPointLengthOffset=0);let G=N.plotY+(N.negative?U.height:0);N.below&&(N.plotY+=U.height),N.tooltipPos&&(this.chart.inverted?N.tooltipPos[0]=y.len-G:N.tooltipPos[1]=G),N.isInside=this.isPointInside(N),b(!0,N.shapeArgs,U)}},{order:2}),p.registerSeriesType("waterfall",o),o}),ot(d,"masters/highcharts-more.src.js",[d["Core/Globals.js"],d["Core/Series/SeriesRegistry.js"],d["Extensions/Pane/Pane.js"],d["Series/Bubble/BubbleSeries.js"],d["Series/PackedBubble/PackedBubbleSeries.js"],d["Series/PolarComposition.js"],d["Series/Waterfall/WaterfallSeries.js"]],function(p,u,S,f,R,X,C){return f.compose(p.Axis,p.Chart,p.Legend,p.Series),R.compose(p.Axis,p.Chart,p.Legend,p.Series),S.compose(p.Chart,p.Pointer),X.compose(p.Axis,p.Chart,p.Pointer,p.Series,p.Tick,p.Point,u.seriesTypes.areasplinerange,u.seriesTypes.column,u.seriesTypes.line,u.seriesTypes.spline),C.compose(p.Axis,p.Chart),p})})});export{Lt as a};
